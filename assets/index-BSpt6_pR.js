function iC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uw={exports:{}},Ju={},cw={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),oC=Symbol.for("react.portal"),aC=Symbol.for("react.fragment"),lC=Symbol.for("react.strict_mode"),uC=Symbol.for("react.profiler"),cC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),dC=Symbol.for("react.forward_ref"),fC=Symbol.for("react.suspense"),pC=Symbol.for("react.memo"),mC=Symbol.for("react.lazy"),my=Symbol.iterator;function gC(t){return t===null||typeof t!="object"?null:(t=my&&t[my]||t["@@iterator"],typeof t=="function"?t:null)}var hw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dw=Object.assign,fw={};function Ns(t,e,n){this.props=t,this.context=e,this.refs=fw,this.updater=n||hw}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pw(){}pw.prototype=Ns.prototype;function Hf(t,e,n){this.props=t,this.context=e,this.refs=fw,this.updater=n||hw}var Gf=Hf.prototype=new pw;Gf.constructor=Hf;dw(Gf,Ns.prototype);Gf.isPureReactComponent=!0;var gy=Array.isArray,mw=Object.prototype.hasOwnProperty,Kf={current:null},gw={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mw.call(e,r)&&!gw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ea,type:t,key:s,ref:o,props:i,_owner:Kf.current}}function yC(t,e){return{$$typeof:Ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ea}function vC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yy=/\/+/g;function dh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vC(""+t.key):e.toString(36)}function Rl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ea:case oC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dh(o,0):r,gy(i)?(n="",t!=null&&(n=t.replace(yy,"$&/")+"/"),Rl(i,e,n,"",function(c){return c})):i!=null&&(Qf(i)&&(i=yC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gy(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+dh(s,a);o+=Rl(s,e,n,u,i)}else if(u=gC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+dh(s,a++),o+=Rl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nl(t,e,n){if(t==null)return t;var r=[],i=0;return Rl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},bl={transition:null},wC={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:Kf};function vw(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:nl,forEach:function(t,e,n){nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nl(t,function(){e++}),e},toArray:function(t){return nl(t,function(e){return e})||[]},only:function(t){if(!Qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Ns;ee.Fragment=aC;ee.Profiler=uC;ee.PureComponent=Hf;ee.StrictMode=lC;ee.Suspense=fC;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC;ee.act=vw;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)mw.call(e,u)&&!gw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ea,type:t.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:hC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cC,_context:t},t.Consumer=t};ee.createElement=yw;ee.createFactory=function(t){var e=yw.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:dC,render:t}};ee.isValidElement=Qf;ee.lazy=function(t){return{$$typeof:mC,_payload:{_status:-1,_result:t},_init:_C}};ee.memo=function(t,e){return{$$typeof:pC,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=bl.transition;bl.transition={};try{t()}finally{bl.transition=e}};ee.unstable_act=vw;ee.useCallback=function(t,e){return vt.current.useCallback(t,e)};ee.useContext=function(t){return vt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return vt.current.useEffect(t,e)};ee.useId=function(){return vt.current.useId()};ee.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return vt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};ee.useRef=function(t){return vt.current.useRef(t)};ee.useState=function(t){return vt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return vt.current.useTransition()};ee.version="18.3.1";cw.exports=ee;var D=cw.exports;const EC=sC(D),TC=iC({__proto__:null,default:EC},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=D,SC=Symbol.for("react.element"),IC=Symbol.for("react.fragment"),CC=Object.prototype.hasOwnProperty,PC=xC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AC={key:!0,ref:!0,__self:!0,__source:!0};function _w(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CC.call(e,r)&&!AC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SC,type:t,key:s,ref:o,props:i,_owner:PC.current}}Ju.Fragment=IC;Ju.jsx=_w;Ju.jsxs=_w;uw.exports=Ju;var g=uw.exports,ww={exports:{}},Dt={},Ew={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var X=z.length;z.push(K);e:for(;0<X;){var we=X-1>>>1,he=z[we];if(0<i(he,K))z[we]=K,z[X]=he,X=we;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],X=z.pop();if(X!==K){z[0]=X;e:for(var we=0,he=z.length,Ae=he>>>1;we<Ae;){var gn=2*(we+1)-1,yn=z[gn],vn=gn+1,_n=z[vn];if(0>i(yn,X))vn<he&&0>i(_n,yn)?(z[we]=_n,z[vn]=X,we=vn):(z[we]=yn,z[gn]=X,we=gn);else if(vn<he&&0>i(_n,X))z[we]=_n,z[vn]=X,we=vn;else break e}}return K}function i(z,K){var X=z.sortIndex-K.sortIndex;return X!==0?X:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,w=!1,x=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=z)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function b(z){if(S=!1,E(z),!x)if(n(u)!==null)x=!0,Ai(L);else{var K=n(c);K!==null&&pe(b,K.startTime-z)}}function L(z,K){x=!1,S&&(S=!1,_(v),v=-1),w=!0;var X=p;try{for(E(K),f=n(u);f!==null&&(!(f.expirationTime>K)||z&&!R());){var we=f.callback;if(typeof we=="function"){f.callback=null,p=f.priorityLevel;var he=we(f.expirationTime<=K);K=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(u)&&r(u),E(K)}else r(u);f=n(u)}if(f!==null)var Ae=!0;else{var gn=n(c);gn!==null&&pe(b,gn.startTime-K),Ae=!1}return Ae}finally{f=null,p=X,w=!1}}var O=!1,C=null,v=-1,P=5,I=-1;function R(){return!(t.unstable_now()-I<P)}function N(){if(C!==null){var z=t.unstable_now();I=z;var K=!0;try{K=C(!0,z)}finally{K?k():(O=!1,C=null)}}else O=!1}var k;if(typeof y=="function")k=function(){y(N)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Jn=ft.port2;ft.port1.onmessage=N,k=function(){Jn.postMessage(null)}}else k=function(){A(N,0)};function Ai(z){C=z,O||(O=!0,k())}function pe(z,K){v=A(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,Ai(L))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var X=p;p=K;try{return z()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=p;p=z;try{return K()}finally{p=X}},t.unstable_scheduleCallback=function(z,K,X){var we=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?we+X:we):X=we,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,z={id:h++,callback:K,priorityLevel:z,startTime:X,expirationTime:he,sortIndex:-1},X>we?(z.sortIndex=X,e(c,z),n(u)===null&&z===n(c)&&(S?(_(v),v=-1):S=!0,pe(b,X-we))):(z.sortIndex=he,e(u,z),x||w||(x=!0,Ai(L))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var K=p;return function(){var X=p;p=K;try{return z.apply(this,arguments)}finally{p=X}}}})(Tw);Ew.exports=Tw;var kC=Ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=D,bt=kC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xw=new Set,$o={};function wi(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for($o[t]=e,t=0;t<e.length;t++)xw.add(e[t])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=Object.prototype.hasOwnProperty,bC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vy={},_y={};function NC(t){return dd.call(_y,t)?!0:dd.call(vy,t)?!1:bC.test(t)?_y[t]=!0:(vy[t]=!0,!1)}function DC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VC(t,e,n,r){if(e===null||typeof e>"u"||DC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);Xe[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);Xe[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yf,Xf);Xe[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jf(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VC(e,n,i,r)&&(n=null),r||i===null?NC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),md=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Cw=Symbol.for("react.offscreen"),wy=Symbol.iterator;function oo(t){return t===null||typeof t!="object"?null:(t=wy&&t[wy]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,fh;function go(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||""}return`
`+fh+t}var ph=!1;function mh(t,e){if(!t||ph)return"";ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?go(t):""}function LC(t){switch(t.tag){case 5:return go(t.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return t=mh(t.type,!1),t;case 11:return t=mh(t.type.render,!1),t;case 1:return t=mh(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case ji:return"Portal";case fd:return"Profiler";case Zf:return"StrictMode";case pd:return"Suspense";case md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Iw:return(t.displayName||"Context")+".Consumer";case Sw:return(t._context.displayName||"Context")+".Provider";case ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tp:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function MC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OC(t){var e=Pw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function il(t){t._valueTracker||(t._valueTracker=OC(t))}function Aw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yd(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kw(t,e){e=e.checked,e!=null&&Jf(t,"checked",e,!1)}function vd(t,e){kw(t,e);var n=kr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,n):e.hasOwnProperty("defaultValue")&&_d(t,e.type,kr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ty(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _d(t,e,n){(e!=="number"||nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yo=Array.isArray;function ts(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(yo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kr(n)}}function Rw(t,e){var n=kr(e.value),r=kr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ed(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sl,Nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jC=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){jC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function Dw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function Vw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FC=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Td(t,e){if(e){if(FC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Id=null,ns=null,rs=null;function Iy(t){if(t=Sa(t)){if(typeof Id!="function")throw Error(U(280));var e=t.stateNode;e&&(e=rc(e),Id(t.stateNode,t.type,e))}}function Lw(t){ns?rs?rs.push(t):rs=[t]:ns=t}function Mw(){if(ns){var t=ns,e=rs;if(rs=ns=null,Iy(t),e)for(t=0;t<e.length;t++)Iy(e[t])}}function Ow(t,e){return t(e)}function jw(){}var gh=!1;function Fw(t,e,n){if(gh)return t(e,n);gh=!0;try{return Ow(t,e,n)}finally{gh=!1,(ns!==null||rs!==null)&&(jw(),Mw())}}function Wo(t,e){var n=t.stateNode;if(n===null)return null;var r=rc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Cd=!1;if(Fn)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Cd=!1}function UC(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Po=!1,ru=null,iu=!1,Pd=null,BC={onError:function(t){Po=!0,ru=t}};function zC(t,e,n,r,i,s,o,a,u){Po=!1,ru=null,UC.apply(BC,arguments)}function $C(t,e,n,r,i,s,o,a,u){if(zC.apply(this,arguments),Po){if(Po){var c=ru;Po=!1,ru=null}else throw Error(U(198));iu||(iu=!0,Pd=c)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cy(t){if(Ei(t)!==t)throw Error(U(188))}function qC(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cy(i),t;if(s===r)return Cy(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Bw(t){return t=qC(t),t!==null?zw(t):null}function zw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zw(t);if(e!==null)return e;t=t.sibling}return null}var $w=bt.unstable_scheduleCallback,Py=bt.unstable_cancelCallback,WC=bt.unstable_shouldYield,HC=bt.unstable_requestPaint,Ne=bt.unstable_now,GC=bt.unstable_getCurrentPriorityLevel,rp=bt.unstable_ImmediatePriority,qw=bt.unstable_UserBlockingPriority,su=bt.unstable_NormalPriority,KC=bt.unstable_LowPriority,Ww=bt.unstable_IdlePriority,Zu=null,on=null;function QC(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:JC,YC=Math.log,XC=Math.LN2;function JC(t){return t>>>=0,t===0?32:31-(YC(t)/XC|0)|0}var ol=64,al=4194304;function vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ou(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vo(a):(s&=o,s!==0&&(r=vo(s)))}else o=n&~i,o!==0?r=vo(o):s!==0&&(r=vo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xt(e),i=1<<n,r|=t[n],e&=~i;return r}function ZC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xt(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ZC(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hw(){var t=ol;return ol<<=1,!(ol&4194240)&&(ol=64),t}function yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ta(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=n}function tP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function Gw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kw,sp,Qw,Yw,Xw,kd=!1,ll=[],gr=null,yr=null,vr=null,Ho=new Map,Go=new Map,ar=[],nP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Ho.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(e.pointerId)}}function lo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sa(e),e!==null&&sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rP(t,e,n,r,i){switch(e){case"focusin":return gr=lo(gr,t,e,n,r,i),!0;case"dragenter":return yr=lo(yr,t,e,n,r,i),!0;case"mouseover":return vr=lo(vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ho.set(s,lo(Ho.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Go.set(s,lo(Go.get(s)||null,t,e,n,r,i)),!0}return!1}function Jw(t){var e=ti(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Uw(n),e!==null){t.blockedOn=e,Xw(t.priority,function(){Qw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sd=r,n.target.dispatchEvent(r),Sd=null}else return e=Sa(n),e!==null&&sp(e),t.blockedOn=n,!1;e.shift()}return!0}function ky(t,e,n){Nl(t)&&n.delete(e)}function iP(){kd=!1,gr!==null&&Nl(gr)&&(gr=null),yr!==null&&Nl(yr)&&(yr=null),vr!==null&&Nl(vr)&&(vr=null),Ho.forEach(ky),Go.forEach(ky)}function uo(t,e){t.blockedOn===e&&(t.blockedOn=null,kd||(kd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,iP)))}function Ko(t){function e(i){return uo(i,t)}if(0<ll.length){uo(ll[0],t);for(var n=1;n<ll.length;n++){var r=ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&uo(gr,t),yr!==null&&uo(yr,t),vr!==null&&uo(vr,t),Ho.forEach(e),Go.forEach(e),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)Jw(n),n.blockedOn===null&&ar.shift()}var is=Kn.ReactCurrentBatchConfig,au=!0;function sP(t,e,n,r){var i=ue,s=is.transition;is.transition=null;try{ue=1,op(t,e,n,r)}finally{ue=i,is.transition=s}}function oP(t,e,n,r){var i=ue,s=is.transition;is.transition=null;try{ue=4,op(t,e,n,r)}finally{ue=i,is.transition=s}}function op(t,e,n,r){if(au){var i=Rd(t,e,n,r);if(i===null)Ph(t,e,r,lu,n),Ay(t,r);else if(rP(i,t,e,n,r))r.stopPropagation();else if(Ay(t,r),e&4&&-1<nP.indexOf(t)){for(;i!==null;){var s=Sa(i);if(s!==null&&Kw(s),s=Rd(t,e,n,r),s===null&&Ph(t,e,r,lu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ph(t,e,r,null,n)}}var lu=null;function Rd(t,e,n,r){if(lu=null,t=np(r),t=ti(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lu=t,null}function Zw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GC()){case rp:return 1;case qw:return 4;case su:case KC:return 16;case Ww:return 536870912;default:return 16}default:return 16}}var dr=null,ap=null,Dl=null;function e1(){if(Dl)return Dl;var t,e=ap,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dl=i.slice(t,1<r?1-r:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function Ry(){return!1}function Vt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ul:Ry,this.isPropagationStopped=Ry,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),e}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=Vt(Ds),xa=Se({},Ds,{view:0,detail:0}),aP=Vt(xa),vh,_h,co,ec=Se({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==co&&(co&&t.type==="mousemove"?(vh=t.screenX-co.screenX,_h=t.screenY-co.screenY):_h=vh=0,co=t),vh)},movementY:function(t){return"movementY"in t?t.movementY:_h}}),by=Vt(ec),lP=Se({},ec,{dataTransfer:0}),uP=Vt(lP),cP=Se({},xa,{relatedTarget:0}),wh=Vt(cP),hP=Se({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),dP=Vt(hP),fP=Se({},Ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pP=Vt(fP),mP=Se({},Ds,{data:0}),Ny=Vt(mP),gP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _P(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vP[t])?!!e[t]:!1}function up(){return _P}var wP=Se({},xa,{key:function(t){if(t.key){var e=gP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EP=Vt(wP),TP=Se({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dy=Vt(TP),xP=Se({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),SP=Vt(xP),IP=Se({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),CP=Vt(IP),PP=Se({},ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AP=Vt(PP),kP=[9,13,27,32],cp=Fn&&"CompositionEvent"in window,Ao=null;Fn&&"documentMode"in document&&(Ao=document.documentMode);var RP=Fn&&"TextEvent"in window&&!Ao,t1=Fn&&(!cp||Ao&&8<Ao&&11>=Ao),Vy=" ",Ly=!1;function n1(t,e){switch(t){case"keyup":return kP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function bP(t,e){switch(t){case"compositionend":return r1(e);case"keypress":return e.which!==32?null:(Ly=!0,Vy);case"textInput":return t=e.data,t===Vy&&Ly?null:t;default:return null}}function NP(t,e){if(Ui)return t==="compositionend"||!cp&&n1(t,e)?(t=e1(),Dl=ap=dr=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t1&&e.locale!=="ko"?null:e.data;default:return null}}var DP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DP[t.type]:e==="textarea"}function i1(t,e,n,r){Lw(r),e=uu(e,"onChange"),0<e.length&&(n=new lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ko=null,Qo=null;function VP(t){m1(t,0)}function tc(t){var e=$i(t);if(Aw(e))return t}function LP(t,e){if(t==="change")return e}var s1=!1;if(Fn){var Eh;if(Fn){var Th="oninput"in document;if(!Th){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Th=typeof Oy.oninput=="function"}Eh=Th}else Eh=!1;s1=Eh&&(!document.documentMode||9<document.documentMode)}function jy(){ko&&(ko.detachEvent("onpropertychange",o1),Qo=ko=null)}function o1(t){if(t.propertyName==="value"&&tc(Qo)){var e=[];i1(e,Qo,t,np(t)),Fw(VP,e)}}function MP(t,e,n){t==="focusin"?(jy(),ko=e,Qo=n,ko.attachEvent("onpropertychange",o1)):t==="focusout"&&jy()}function OP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(Qo)}function jP(t,e){if(t==="click")return tc(e)}function FP(t,e){if(t==="input"||t==="change")return tc(e)}function UP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:UP;function Yo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dd.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function Fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uy(t,e){var n=Fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function a1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?a1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l1(){for(var t=window,e=nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nu(t.document)}return e}function hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BP(t){var e=l1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&a1(n.ownerDocument.documentElement,n)){if(r!==null&&hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Uy(n,s);var o=Uy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zP=Fn&&"documentMode"in document&&11>=document.documentMode,Bi=null,bd=null,Ro=null,Nd=!1;function By(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nd||Bi==null||Bi!==nu(r)||(r=Bi,"selectionStart"in r&&hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ro&&Yo(Ro,r)||(Ro=r,r=uu(bd,"onSelect"),0<r.length&&(e=new lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},xh={},u1={};Fn&&(u1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function nc(t){if(xh[t])return xh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in u1)return xh[t]=e[n];return t}var c1=nc("animationend"),h1=nc("animationiteration"),d1=nc("animationstart"),f1=nc("transitionend"),p1=new Map,zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){p1.set(t,e),wi(e,[t])}for(var Sh=0;Sh<zy.length;Sh++){var Ih=zy[Sh],$P=Ih.toLowerCase(),qP=Ih[0].toUpperCase()+Ih.slice(1);Fr($P,"on"+qP)}Fr(c1,"onAnimationEnd");Fr(h1,"onAnimationIteration");Fr(d1,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(f1,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WP=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function $y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$C(r,e,void 0,t),t.currentTarget=null}function m1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;$y(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;$y(i,a,c),s=u}}}if(iu)throw t=Pd,iu=!1,Pd=null,t}function ge(t,e){var n=e[Od];n===void 0&&(n=e[Od]=new Set);var r=t+"__bubble";n.has(r)||(g1(e,t,2,!1),n.add(r))}function Ch(t,e,n){var r=0;e&&(r|=4),g1(n,t,r,e)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Xo(t){if(!t[hl]){t[hl]=!0,xw.forEach(function(n){n!=="selectionchange"&&(WP.has(n)||Ch(n,!1,t),Ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hl]||(e[hl]=!0,Ch("selectionchange",!1,e))}}function g1(t,e,n,r){switch(Zw(e)){case 1:var i=sP;break;case 4:i=oP;break;default:i=op}n=i.bind(null,e,n,t),i=void 0,!Cd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ph(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ti(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Fw(function(){var c=s,h=np(n),f=[];e:{var p=p1.get(t);if(p!==void 0){var w=lp,x=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":w=EP;break;case"focusin":x="focus",w=wh;break;case"focusout":x="blur",w=wh;break;case"beforeblur":case"afterblur":w=wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=uP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=SP;break;case c1:case h1:case d1:w=dP;break;case f1:w=CP;break;case"scroll":w=aP;break;case"wheel":w=AP;break;case"copy":case"cut":case"paste":w=pP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Dy}var S=(e&4)!==0,A=!S&&t==="scroll",_=S?p!==null?p+"Capture":null:p;S=[];for(var y=c,E;y!==null;){E=y;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,_!==null&&(b=Wo(y,_),b!=null&&S.push(Jo(y,b,E)))),A)break;y=y.return}0<S.length&&(p=new w(p,x,null,n,h),f.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==Sd&&(x=n.relatedTarget||n.fromElement)&&(ti(x)||x[Un]))break e;if((w||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=c,x=x?ti(x):null,x!==null&&(A=Ei(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=c),w!==x)){if(S=by,b="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=Dy,b="onPointerLeave",_="onPointerEnter",y="pointer"),A=w==null?p:$i(w),E=x==null?p:$i(x),p=new S(b,y+"leave",w,n,h),p.target=A,p.relatedTarget=E,b=null,ti(h)===c&&(S=new S(_,y+"enter",x,n,h),S.target=E,S.relatedTarget=A,b=S),A=b,w&&x)t:{for(S=w,_=x,y=0,E=S;E;E=Di(E))y++;for(E=0,b=_;b;b=Di(b))E++;for(;0<y-E;)S=Di(S),y--;for(;0<E-y;)_=Di(_),E--;for(;y--;){if(S===_||_!==null&&S===_.alternate)break t;S=Di(S),_=Di(_)}S=null}else S=null;w!==null&&qy(f,p,w,S,!1),x!==null&&A!==null&&qy(f,A,x,S,!0)}}e:{if(p=c?$i(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var L=LP;else if(My(p))if(s1)L=FP;else{L=OP;var O=MP}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=jP);if(L&&(L=L(t,c))){i1(f,L,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&_d(p,"number",p.value)}switch(O=c?$i(c):window,t){case"focusin":(My(O)||O.contentEditable==="true")&&(Bi=O,bd=c,Ro=null);break;case"focusout":Ro=bd=Bi=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,By(f,n,h);break;case"selectionchange":if(zP)break;case"keydown":case"keyup":By(f,n,h)}var C;if(cp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ui?n1(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(t1&&n.locale!=="ko"&&(Ui||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ui&&(C=e1()):(dr=h,ap="value"in dr?dr.value:dr.textContent,Ui=!0)),O=uu(c,v),0<O.length&&(v=new Ny(v,t,null,n,h),f.push({event:v,listeners:O}),C?v.data=C:(C=r1(n),C!==null&&(v.data=C)))),(C=RP?bP(t,n):NP(t,n))&&(c=uu(c,"onBeforeInput"),0<c.length&&(h=new Ny("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}m1(f,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wo(t,n),s!=null&&r.unshift(Jo(t,s,i)),s=Wo(t,e),s!=null&&r.push(Jo(t,s,i))),t=t.return}return r}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Wo(n,s),u!=null&&o.unshift(Jo(n,u,a))):i||(u=Wo(n,s),u!=null&&o.push(Jo(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HP=/\r\n?/g,GP=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(HP,`
`).replace(GP,"")}function dl(t,e,n){if(e=Wy(e),Wy(t)!==e&&n)throw Error(U(425))}function cu(){}var Dd=null,Vd=null;function Ld(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,KP=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,QP=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(t){return Hy.resolve(null).then(t).catch(YP)}:Md;function YP(t){setTimeout(function(){throw t})}function Ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ko(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),sn="__reactFiber$"+Vs,Zo="__reactProps$"+Vs,Un="__reactContainer$"+Vs,Od="__reactEvents$"+Vs,XP="__reactListeners$"+Vs,JP="__reactHandles$"+Vs;function ti(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gy(t);t!==null;){if(n=t[sn])return n;t=Gy(t)}return e}t=n,n=t.parentNode}return null}function Sa(t){return t=t[sn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function rc(t){return t[Zo]||null}var jd=[],qi=-1;function Ur(t){return{current:t}}function ye(t){0>qi||(t.current=jd[qi],jd[qi]=null,qi--)}function fe(t,e){qi++,jd[qi]=t.current,t.current=e}var Rr={},ht=Ur(Rr),xt=Ur(!1),di=Rr;function ds(t,e){var n=t.type.contextTypes;if(!n)return Rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function St(t){return t=t.childContextTypes,t!=null}function hu(){ye(xt),ye(ht)}function Ky(t,e,n){if(ht.current!==Rr)throw Error(U(168));fe(ht,e),fe(xt,n)}function y1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,MC(t)||"Unknown",i));return Se({},n,r)}function du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,di=ht.current,fe(ht,t),fe(xt,xt.current),!0}function Qy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=y1(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,ye(xt),ye(ht),fe(ht,t)):ye(xt),fe(xt,n)}var Sn=null,ic=!1,kh=!1;function v1(t){Sn===null?Sn=[t]:Sn.push(t)}function ZP(t){ic=!0,v1(t)}function Br(){if(!kh&&Sn!==null){kh=!0;var t=0,e=ue;try{var n=Sn;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sn=null,ic=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(t+1)),$w(rp,Br),i}finally{ue=e,kh=!1}}return null}var Wi=[],Hi=0,fu=null,pu=0,Ot=[],jt=0,fi=null,Cn=1,Pn="";function Yr(t,e){Wi[Hi++]=pu,Wi[Hi++]=fu,fu=t,pu=e}function _1(t,e,n){Ot[jt++]=Cn,Ot[jt++]=Pn,Ot[jt++]=fi,fi=t;var r=Cn;t=Pn;var i=32-Xt(r)-1;r&=~(1<<i),n+=1;var s=32-Xt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-Xt(e)+i|n<<i|r,Pn=s+t}else Cn=1<<s|n<<i|r,Pn=t}function dp(t){t.return!==null&&(Yr(t,1),_1(t,1,0))}function fp(t){for(;t===fu;)fu=Wi[--Hi],Wi[Hi]=null,pu=Wi[--Hi],Wi[Hi]=null;for(;t===fi;)fi=Ot[--jt],Ot[jt]=null,Pn=Ot[--jt],Ot[jt]=null,Cn=Ot[--jt],Ot[jt]=null}var kt=null,At=null,ve=!1,Qt=null;function w1(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,At=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:Cn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,At=null,!0):!1;default:return!1}}function Fd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ud(t){if(ve){var e=At;if(e){var n=e;if(!Yy(t,e)){if(Fd(t))throw Error(U(418));e=_r(n.nextSibling);var r=kt;e&&Yy(t,e)?w1(r,n):(t.flags=t.flags&-4097|2,ve=!1,kt=t)}}else{if(Fd(t))throw Error(U(418));t.flags=t.flags&-4097|2,ve=!1,kt=t}}}function Xy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function fl(t){if(t!==kt)return!1;if(!ve)return Xy(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ld(t.type,t.memoizedProps)),e&&(e=At)){if(Fd(t))throw E1(),Error(U(418));for(;e;)w1(t,e),e=_r(e.nextSibling)}if(Xy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=kt?_r(t.stateNode.nextSibling):null;return!0}function E1(){for(var t=At;t;)t=_r(t.nextSibling)}function fs(){At=kt=null,ve=!1}function pp(t){Qt===null?Qt=[t]:Qt.push(t)}var eA=Kn.ReactCurrentBatchConfig;function ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function pl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jy(t){var e=t._init;return e(t._payload)}function T1(t){function e(_,y){if(t){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=xr(_,y),_.index=0,_.sibling=null,_}function s(_,y,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,E,b){return y===null||y.tag!==6?(y=Mh(E,_.mode,b),y.return=_,y):(y=i(y,E),y.return=_,y)}function u(_,y,E,b){var L=E.type;return L===Fi?h(_,y,E.props.children,b,E.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===sr&&Jy(L)===y.type)?(b=i(y,E.props),b.ref=ho(_,y,E),b.return=_,b):(b=Bl(E.type,E.key,E.props,null,_.mode,b),b.ref=ho(_,y,E),b.return=_,b)}function c(_,y,E,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Oh(E,_.mode,b),y.return=_,y):(y=i(y,E.children||[]),y.return=_,y)}function h(_,y,E,b,L){return y===null||y.tag!==7?(y=li(E,_.mode,b,L),y.return=_,y):(y=i(y,E),y.return=_,y)}function f(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Mh(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rl:return E=Bl(y.type,y.key,y.props,null,_.mode,E),E.ref=ho(_,null,y),E.return=_,E;case ji:return y=Oh(y,_.mode,E),y.return=_,y;case sr:var b=y._init;return f(_,b(y._payload),E)}if(yo(y)||oo(y))return y=li(y,_.mode,E,null),y.return=_,y;pl(_,y)}return null}function p(_,y,E,b){var L=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:a(_,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rl:return E.key===L?u(_,y,E,b):null;case ji:return E.key===L?c(_,y,E,b):null;case sr:return L=E._init,p(_,y,L(E._payload),b)}if(yo(E)||oo(E))return L!==null?null:h(_,y,E,b,null);pl(_,E)}return null}function w(_,y,E,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(E)||null,a(y,_,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rl:return _=_.get(b.key===null?E:b.key)||null,u(y,_,b,L);case ji:return _=_.get(b.key===null?E:b.key)||null,c(y,_,b,L);case sr:var O=b._init;return w(_,y,E,O(b._payload),L)}if(yo(b)||oo(b))return _=_.get(E)||null,h(y,_,b,L,null);pl(y,b)}return null}function x(_,y,E,b){for(var L=null,O=null,C=y,v=y=0,P=null;C!==null&&v<E.length;v++){C.index>v?(P=C,C=null):P=C.sibling;var I=p(_,C,E[v],b);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(_,C),y=s(I,y,v),O===null?L=I:O.sibling=I,O=I,C=P}if(v===E.length)return n(_,C),ve&&Yr(_,v),L;if(C===null){for(;v<E.length;v++)C=f(_,E[v],b),C!==null&&(y=s(C,y,v),O===null?L=C:O.sibling=C,O=C);return ve&&Yr(_,v),L}for(C=r(_,C);v<E.length;v++)P=w(C,_,v,E[v],b),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?v:P.key),y=s(P,y,v),O===null?L=P:O.sibling=P,O=P);return t&&C.forEach(function(R){return e(_,R)}),ve&&Yr(_,v),L}function S(_,y,E,b){var L=oo(E);if(typeof L!="function")throw Error(U(150));if(E=L.call(E),E==null)throw Error(U(151));for(var O=L=null,C=y,v=y=0,P=null,I=E.next();C!==null&&!I.done;v++,I=E.next()){C.index>v?(P=C,C=null):P=C.sibling;var R=p(_,C,I.value,b);if(R===null){C===null&&(C=P);break}t&&C&&R.alternate===null&&e(_,C),y=s(R,y,v),O===null?L=R:O.sibling=R,O=R,C=P}if(I.done)return n(_,C),ve&&Yr(_,v),L;if(C===null){for(;!I.done;v++,I=E.next())I=f(_,I.value,b),I!==null&&(y=s(I,y,v),O===null?L=I:O.sibling=I,O=I);return ve&&Yr(_,v),L}for(C=r(_,C);!I.done;v++,I=E.next())I=w(C,_,v,I.value,b),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?v:I.key),y=s(I,y,v),O===null?L=I:O.sibling=I,O=I);return t&&C.forEach(function(N){return e(_,N)}),ve&&Yr(_,v),L}function A(_,y,E,b){if(typeof E=="object"&&E!==null&&E.type===Fi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case rl:e:{for(var L=E.key,O=y;O!==null;){if(O.key===L){if(L=E.type,L===Fi){if(O.tag===7){n(_,O.sibling),y=i(O,E.props.children),y.return=_,_=y;break e}}else if(O.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===sr&&Jy(L)===O.type){n(_,O.sibling),y=i(O,E.props),y.ref=ho(_,O,E),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}E.type===Fi?(y=li(E.props.children,_.mode,b,E.key),y.return=_,_=y):(b=Bl(E.type,E.key,E.props,null,_.mode,b),b.ref=ho(_,y,E),b.return=_,_=b)}return o(_);case ji:e:{for(O=E.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(_,y.sibling),y=i(y,E.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Oh(E,_.mode,b),y.return=_,_=y}return o(_);case sr:return O=E._init,A(_,y,O(E._payload),b)}if(yo(E))return x(_,y,E,b);if(oo(E))return S(_,y,E,b);pl(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,E),y.return=_,_=y):(n(_,y),y=Mh(E,_.mode,b),y.return=_,_=y),o(_)):n(_,y)}return A}var ps=T1(!0),x1=T1(!1),mu=Ur(null),gu=null,Gi=null,mp=null;function gp(){mp=Gi=gu=null}function yp(t){var e=mu.current;ye(mu),t._currentValue=e}function Bd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ss(t,e){gu=t,mp=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(mp!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(gu===null)throw Error(U(308));Gi=t,gu.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var ni=null;function vp(t){ni===null?ni=[t]:ni.push(t)}function S1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bn(t,r)}function Bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function _p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bn(t,n)}return i=r.interleaved,i===null?(e.next=e,vp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bn(t,n)}function Ll(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}function Zy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yu(t,e,n,r){var i=t.updateQueue;or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,w=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,S=a;switch(p=e,w=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){f=x.call(w,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,p=typeof x=="function"?x.call(w,f,p):x,p==null)break e;f=Se({},f,p);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=w,u=f):h=h.next=w,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mi|=o,t.lanes=o,t.memoizedState=f}}function ev(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Ia={},an=Ur(Ia),ea=Ur(Ia),ta=Ur(Ia);function ri(t){if(t===Ia)throw Error(U(174));return t}function wp(t,e){switch(fe(ta,e),fe(ea,t),fe(an,Ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ed(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ed(e,t)}ye(an),fe(an,e)}function ms(){ye(an),ye(ea),ye(ta)}function C1(t){ri(ta.current);var e=ri(an.current),n=Ed(e,t.type);e!==n&&(fe(ea,t),fe(an,n))}function Ep(t){ea.current===t&&(ye(an),ye(ea))}var Ee=Ur(0);function vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function Tp(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Ml=Kn.ReactCurrentDispatcher,bh=Kn.ReactCurrentBatchConfig,pi=0,xe=null,Me=null,$e=null,_u=!1,bo=!1,na=0,tA=0;function nt(){throw Error(U(321))}function xp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Sp(t,e,n,r,i,s){if(pi=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ml.current=t===null||t.memoizedState===null?sA:oA,t=n(r,i),bo){s=0;do{if(bo=!1,na=0,25<=s)throw Error(U(301));s+=1,$e=Me=null,e.updateQueue=null,Ml.current=aA,t=n(r,i)}while(bo)}if(Ml.current=wu,e=Me!==null&&Me.next!==null,pi=0,$e=Me=xe=null,_u=!1,e)throw Error(U(300));return t}function Ip(){var t=na!==0;return na=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?xe.memoizedState=$e=t:$e=$e.next=t,$e}function $t(){if(Me===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=$e===null?xe.memoizedState:$e.next;if(e!==null)$e=e,Me=t;else{if(t===null)throw Error(U(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},$e===null?xe.memoizedState=$e=t:$e=$e.next=t}return $e}function ra(t,e){return typeof e=="function"?e(t):e}function Nh(t){var e=$t(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((pi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,xe.lanes|=h,mi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,tn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,mi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dh(t){var e=$t(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(Tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function P1(){}function A1(t,e){var n=xe,r=$t(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,Cp(b1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,ia(9,R1.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(U(349));pi&30||k1(n,e,i)}return i}function k1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R1(t,e,n,r){e.value=n,e.getSnapshot=r,N1(e)&&D1(t)}function b1(t,e,n){return n(function(){N1(e)&&D1(t)})}function N1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function D1(t){var e=Bn(t,1);e!==null&&Jt(e,t,1,-1)}function tv(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=iA.bind(null,xe,t),[e.memoizedState,t]}function ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V1(){return $t().memoizedState}function Ol(t,e,n,r){var i=rn();xe.flags|=t,i.memoizedState=ia(1|e,n,void 0,r===void 0?null:r)}function sc(t,e,n,r){var i=$t();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&xp(r,o.deps)){i.memoizedState=ia(e,n,s,r);return}}xe.flags|=t,i.memoizedState=ia(1|e,n,s,r)}function nv(t,e){return Ol(8390656,8,t,e)}function Cp(t,e){return sc(2048,8,t,e)}function L1(t,e){return sc(4,2,t,e)}function M1(t,e){return sc(4,4,t,e)}function O1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j1(t,e,n){return n=n!=null?n.concat([t]):null,sc(4,4,O1.bind(null,e,t),n)}function Pp(){}function F1(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U1(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function B1(t,e,n){return pi&21?(tn(n,e)||(n=Hw(),xe.lanes|=n,mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function nA(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=bh.transition;bh.transition={};try{t(!1),e()}finally{ue=n,bh.transition=r}}function z1(){return $t().memoizedState}function rA(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$1(t))q1(e,n);else if(n=S1(t,e,n,r),n!==null){var i=yt();Jt(n,t,r,i),W1(n,e,r)}}function iA(t,e,n){var r=Tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($1(t))q1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var u=e.interleaved;u===null?(i.next=i,vp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=S1(t,e,i,r),n!==null&&(i=yt(),Jt(n,t,r,i),W1(n,e,r))}}function $1(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function q1(t,e){bo=_u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function W1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}var wu={readContext:zt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},sA={readContext:zt,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:nv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ol(4194308,4,O1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ol(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rA.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:tv,useDebugValue:Pp,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=tv(!1),e=t[0];return t=nA.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=rn();if(ve){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),qe===null)throw Error(U(349));pi&30||k1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nv(b1.bind(null,r,s,t),[t]),r.flags|=2048,ia(9,R1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rn(),e=qe.identifierPrefix;if(ve){var n=Pn,r=Cn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oA={readContext:zt,useCallback:F1,useContext:zt,useEffect:Cp,useImperativeHandle:j1,useInsertionEffect:L1,useLayoutEffect:M1,useMemo:U1,useReducer:Nh,useRef:V1,useState:function(){return Nh(ra)},useDebugValue:Pp,useDeferredValue:function(t){var e=$t();return B1(e,Me.memoizedState,t)},useTransition:function(){var t=Nh(ra)[0],e=$t().memoizedState;return[t,e]},useMutableSource:P1,useSyncExternalStore:A1,useId:z1,unstable_isNewReconciler:!1},aA={readContext:zt,useCallback:F1,useContext:zt,useEffect:Cp,useImperativeHandle:j1,useInsertionEffect:L1,useLayoutEffect:M1,useMemo:U1,useReducer:Dh,useRef:V1,useState:function(){return Dh(ra)},useDebugValue:Pp,useDeferredValue:function(t){var e=$t();return Me===null?e.memoizedState=t:B1(e,Me.memoizedState,t)},useTransition:function(){var t=Dh(ra)[0],e=$t().memoizedState;return[t,e]},useMutableSource:P1,useSyncExternalStore:A1,useId:z1,unstable_isNewReconciler:!1};function Gt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oc={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yt(),i=Tr(t),s=Dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(Jt(e,t,i,r),Ll(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yt(),i=Tr(t),s=Dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(Jt(e,t,i,r),Ll(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yt(),r=Tr(t),i=Dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(Jt(e,t,r,n),Ll(e,t,r))}};function rv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yo(n,r)||!Yo(i,s):!0}function H1(t,e,n){var r=!1,i=Rr,s=e.contextType;return typeof s=="object"&&s!==null?s=zt(s):(i=St(e)?di:ht.current,r=e.contextTypes,s=(r=r!=null)?ds(t,i):Rr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oc.enqueueReplaceState(e,e.state,null)}function $d(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_p(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zt(s):(s=St(e)?di:ht.current,i.context=ds(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oc.enqueueReplaceState(i,i.state,null),yu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gs(t,e){try{var n="",r=e;do n+=LC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function G1(t,e,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tu||(Tu=!0,ef=r),qd(t,e)},n}function K1(t,e,n){n=Dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qd(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TA.bind(null,t,e,n),e.then(t,t))}function ov(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function av(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dn(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var uA=Kn.ReactCurrentOwner,Tt=!1;function gt(t,e,n,r){e.child=t===null?x1(e,null,n,r):ps(e,t.child,n,r)}function lv(t,e,n,r,i){n=n.render;var s=e.ref;return ss(e,i),r=Sp(t,e,n,r,s,i),n=Ip(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(ve&&n&&dp(e),e.flags|=1,gt(t,e,r,i),e.child)}function uv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Q1(t,e,s,r,i)):(t=Bl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yo,n(o,r)&&t.ref===e.ref)return zn(t,e,i)}return e.flags|=1,t=xr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Q1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Yo(s,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,zn(t,e,i)}return Wd(t,e,n,r,i)}function Y1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Qi,Pt),Pt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Qi,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Qi,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Qi,Pt),Pt|=r;return gt(t,e,i,n),e.child}function X1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wd(t,e,n,r,i){var s=St(n)?di:ht.current;return s=ds(e,s),ss(e,i),n=Sp(t,e,n,r,s,i),r=Ip(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(ve&&r&&dp(e),e.flags|=1,gt(t,e,n,i),e.child)}function cv(t,e,n,r,i){if(St(n)){var s=!0;du(e)}else s=!1;if(ss(e,i),e.stateNode===null)jl(t,e),H1(e,n,r),$d(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=St(n)?di:ht.current,c=ds(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&iv(e,o,r,c),or=!1;var p=e.memoizedState;o.state=p,yu(e,r,o,i),u=e.memoizedState,a!==r||p!==u||xt.current||or?(typeof h=="function"&&(zd(e,n,h,r),u=e.memoizedState),(a=or||rv(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,I1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gt(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=zt(u):(u=St(n)?di:ht.current,u=ds(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&iv(e,o,r,u),or=!1,p=e.memoizedState,o.state=p,yu(e,r,o,i);var x=e.memoizedState;a!==f||p!==x||xt.current||or?(typeof w=="function"&&(zd(e,n,w,r),x=e.memoizedState),(c=or||rv(e,n,c,r,p,x,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Hd(t,e,n,r,s,i)}function Hd(t,e,n,r,i,s){X1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Qy(e,n,!1),zn(t,e,s);r=e.stateNode,uA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ps(e,t.child,null,s),e.child=ps(e,null,a,s)):gt(t,e,a,s),e.memoizedState=r.state,i&&Qy(e,n,!0),e.child}function J1(t){var e=t.stateNode;e.pendingContext?Ky(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ky(t,e.context,!1),wp(t,e.containerInfo)}function hv(t,e,n,r,i){return fs(),pp(i),e.flags|=256,gt(t,e,n,r),e.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Kd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z1(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Ee,i&1),t===null)return Ud(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uc(o,r,0,null),t=li(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kd(n),e.memoizedState=Gd,t):Ap(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xr(a,s):(s=li(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gd,r}return s=t.child,t=s.sibling,r=xr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ap(t,e){return e=uc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ml(t,e,n,r){return r!==null&&pp(r),ps(e,t.child,null,n),t=Ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vh(Error(U(422))),ml(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uc({mode:"visible",children:r.children},i,0,null),s=li(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ps(e,t.child,null,o),e.child.memoizedState=Kd(o),e.memoizedState=Gd,s);if(!(e.mode&1))return ml(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Vh(s,r,void 0),ml(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tt||a){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bn(t,i),Jt(r,t,i,-1))}return Vp(),r=Vh(Error(U(421))),ml(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,At=_r(i.nextSibling),kt=e,ve=!0,Qt=null,t!==null&&(Ot[jt++]=Cn,Ot[jt++]=Pn,Ot[jt++]=fi,Cn=t.id,Pn=t.overflow,fi=e),e=Ap(e,r.children),e.flags|=4096,e)}function dv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bd(t.return,e,n)}function Lh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gt(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dv(t,n,e);else if(t.tag===19)dv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lh(e,!0,n,null,s);break;case"together":Lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hA(t,e,n){switch(e.tag){case 3:J1(e),fs();break;case 5:C1(e);break;case 1:St(e.type)&&du(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(mu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Z1(t,e,n):(fe(Ee,Ee.current&1),t=zn(t,e,n),t!==null?t.sibling:null);fe(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Y1(t,e,n)}return zn(t,e,n)}var tE,Qd,nE,rE;tE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qd=function(){};nE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ri(an.current);var s=null;switch(n){case"input":i=yd(t,i),r=yd(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=wd(t,i),r=wd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cu)}Td(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($o.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ge("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};rE=function(t,e,n,r){n!==r&&(e.flags|=4)};function fo(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dA(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return St(e.type)&&hu(),rt(e),null;case 3:return r=e.stateNode,ms(),ye(xt),ye(ht),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(rf(Qt),Qt=null))),Qd(t,e),rt(e),null;case 5:Ep(e);var i=ri(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)nE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return rt(e),null}if(t=ri(an.current),fl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sn]=e,r[Zo]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<_o.length;i++)ge(_o[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Ey(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":xy(r,s),ge("invalid",r)}Td(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dl(r.textContent,a,t),i=["children",""+a]):$o.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":il(r),Ty(r,s,!0);break;case"textarea":il(r),Sy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Zo]=r,tE(t,e,!1,!1),e.stateNode=t;e:{switch(o=xd(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<_o.length;i++)ge(_o[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":Ey(t,r),i=yd(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),ge("invalid",t);break;case"textarea":xy(t,r),i=wd(t,r),ge("invalid",t);break;default:i=r}Td(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Vw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Nw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&qo(t,u):typeof u=="number"&&qo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($o.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ge("scroll",t):u!=null&&Jf(t,s,u,o))}switch(n){case"input":il(t),Ty(t,r,!1);break;case"textarea":il(t),Sy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ts(t,!!r.multiple,s,!1):r.defaultValue!=null&&ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)rE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ri(ta.current),ri(an.current),fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(s=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:dl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return rt(e),null;case 13:if(ye(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&At!==null&&e.mode&1&&!(e.flags&128))E1(),fs(),e.flags|=98560,s=!1;else if(s=fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[sn]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),s=!1}else Qt!==null&&(rf(Qt),Qt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?je===0&&(je=3):Vp())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return ms(),Qd(t,e),t===null&&Xo(e.stateNode.containerInfo),rt(e),null;case 10:return yp(e.type._context),rt(e),null;case 17:return St(e.type)&&hu(),rt(e),null;case 19:if(ye(Ee),s=e.memoizedState,s===null)return rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fo(s,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vu(t),o!==null){for(e.flags|=128,fo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ne()>ys&&(e.flags|=128,r=!0,fo(s,!1),e.lanes=4194304)}else{if(!r)if(t=vu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return rt(e),null}else 2*Ne()-s.renderingStartTime>ys&&n!==1073741824&&(e.flags|=128,r=!0,fo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,n=Ee.current,fe(Ee,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return Dp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function fA(t,e){switch(fp(e),e.tag){case 1:return St(e.type)&&hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ms(),ye(xt),ye(ht),Tp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ep(e),null;case 13:if(ye(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(Ee),null;case 4:return ms(),null;case 10:return yp(e.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var gl=!1,at=!1,pA=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Yd(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var fv=!1;function mA(t,e){if(Dd=au,t=l1(),hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vd={focusedElem:t,selectionRange:n},au=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,A=x.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:Gt(e.type,S),A);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){Pe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return x=fv,fv=!1,x}function No(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yd(e,n,s)}i=i.next}while(i!==r)}}function ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iE(t){var e=t.alternate;e!==null&&(t.alternate=null,iE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Zo],delete e[Od],delete e[XP],delete e[JP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sE(t){return t.tag===5||t.tag===3||t.tag===4}function pv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cu));else if(r!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}function Zd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zd(t,e,n),t=t.sibling;t!==null;)Zd(t,e,n),t=t.sibling}var He=null,Kt=!1;function nr(t,e,n){for(n=n.child;n!==null;)oE(t,e,n),n=n.sibling}function oE(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Zu,n)}catch{}switch(n.tag){case 5:at||Ki(n,e);case 6:var r=He,i=Kt;He=null,nr(t,e,n),He=r,Kt=i,He!==null&&(Kt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Kt?(t=He,n=n.stateNode,t.nodeType===8?Ah(t.parentNode,n):t.nodeType===1&&Ah(t,n),Ko(t)):Ah(He,n.stateNode));break;case 4:r=He,i=Kt,He=n.stateNode.containerInfo,Kt=!0,nr(t,e,n),He=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yd(n,e,o),i=i.next}while(i!==r)}nr(t,e,n);break;case 1:if(!at&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,nr(t,e,n),at=r):nr(t,e,n);break;default:nr(t,e,n)}}function mv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pA),e.forEach(function(r){var i=SA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Kt=!1;break e;case 3:He=a.stateNode.containerInfo,Kt=!0;break e;case 4:He=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(He===null)throw Error(U(160));oE(s,o,i),He=null,Kt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Pe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aE(e,t),e=e.sibling}function aE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),nn(t),r&4){try{No(3,t,t.return),ac(3,t)}catch(S){Pe(t,t.return,S)}try{No(5,t,t.return)}catch(S){Pe(t,t.return,S)}}break;case 1:Ht(e,t),nn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(Ht(e,t),nn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{qo(i,"")}catch(S){Pe(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kw(i,s),xd(a,o);var c=xd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?Vw(i,f):h==="dangerouslySetInnerHTML"?Nw(i,f):h==="children"?qo(i,f):Jf(i,h,f,c)}switch(a){case"input":vd(i,s);break;case"textarea":Rw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?ts(i,!!s.multiple,w,!1):p!==!!s.multiple&&(s.defaultValue!=null?ts(i,!!s.multiple,s.defaultValue,!0):ts(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zo]=s}catch(S){Pe(t,t.return,S)}}break;case 6:if(Ht(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Pe(t,t.return,S)}}break;case 3:if(Ht(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(S){Pe(t,t.return,S)}break;case 4:Ht(e,t),nn(t);break;case 13:Ht(e,t),nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bp=Ne())),r&4&&mv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||h,Ht(e,t),at=c):Ht(e,t),nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(p=q,w=p.child,p.tag){case 0:case 11:case 14:case 15:No(4,p,p.return);break;case 1:Ki(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(S){Pe(r,n,S)}}break;case 5:Ki(p,p.return);break;case 22:if(p.memoizedState!==null){yv(f);continue}}w!==null?(w.return=p,q=w):yv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Dw("display",o))}catch(S){Pe(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){Pe(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(e,t),nn(t),r&4&&mv(t);break;case 21:break;default:Ht(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qo(i,""),r.flags&=-33);var s=pv(t);Zd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pv(t);Jd(t,a,o);break;default:throw Error(U(161))}}catch(u){Pe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gA(t,e,n){q=t,lE(t)}function lE(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||at;a=gl;var c=at;if(gl=o,(at=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?vv(i):u!==null?(u.return=o,q=u):vv(i);for(;s!==null;)q=s,lE(s),s=s.sibling;q=i,gl=a,at=c}gv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):gv(t)}}function gv(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||ac(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ev(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ev(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}at||e.flags&512&&Xd(e)}catch(p){Pe(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function yv(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function vv(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ac(4,e)}catch(u){Pe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Pe(e,i,u)}}var s=e.return;try{Xd(e)}catch(u){Pe(e,s,u)}break;case 5:var o=e.return;try{Xd(e)}catch(u){Pe(e,o,u)}}}catch(u){Pe(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var yA=Math.ceil,Eu=Kn.ReactCurrentDispatcher,kp=Kn.ReactCurrentOwner,Bt=Kn.ReactCurrentBatchConfig,se=0,qe=null,Le=null,Ye=0,Pt=0,Qi=Ur(0),je=0,sa=null,mi=0,lc=0,Rp=0,Do=null,Et=null,bp=0,ys=1/0,xn=null,Tu=!1,ef=null,Er=null,yl=!1,fr=null,xu=0,Vo=0,tf=null,Fl=-1,Ul=0;function yt(){return se&6?Ne():Fl!==-1?Fl:Fl=Ne()}function Tr(t){return t.mode&1?se&2&&Ye!==0?Ye&-Ye:eA.transition!==null?(Ul===0&&(Ul=Hw()),Ul):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Zw(t.type)),t):1}function Jt(t,e,n,r){if(50<Vo)throw Vo=0,tf=null,Error(U(185));Ta(t,n,r),(!(se&2)||t!==qe)&&(t===qe&&(!(se&2)&&(lc|=n),je===4&&lr(t,Ye)),It(t,r),n===1&&se===0&&!(e.mode&1)&&(ys=Ne()+500,ic&&Br()))}function It(t,e){var n=t.callbackNode;eP(t,e);var r=ou(t,t===qe?Ye:0);if(r===0)n!==null&&Py(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Py(n),e===1)t.tag===0?ZP(_v.bind(null,t)):v1(_v.bind(null,t)),QP(function(){!(se&6)&&Br()}),n=null;else{switch(Gw(r)){case 1:n=rp;break;case 4:n=qw;break;case 16:n=su;break;case 536870912:n=Ww;break;default:n=su}n=gE(n,uE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uE(t,e){if(Fl=-1,Ul=0,se&6)throw Error(U(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var r=ou(t,t===qe?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Su(t,r);else{e=r;var i=se;se|=2;var s=hE();(qe!==t||Ye!==e)&&(xn=null,ys=Ne()+500,ai(t,e));do try{wA();break}catch(a){cE(t,a)}while(!0);gp(),Eu.current=s,se=i,Le!==null?e=0:(qe=null,Ye=0,e=je)}if(e!==0){if(e===2&&(i=Ad(t),i!==0&&(r=i,e=nf(t,i))),e===1)throw n=sa,ai(t,0),lr(t,r),It(t,Ne()),n;if(e===6)lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!vA(i)&&(e=Su(t,r),e===2&&(s=Ad(t),s!==0&&(r=s,e=nf(t,s))),e===1))throw n=sa,ai(t,0),lr(t,r),It(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Xr(t,Et,xn);break;case 3:if(lr(t,r),(r&130023424)===r&&(e=bp+500-Ne(),10<e)){if(ou(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Md(Xr.bind(null,t,Et,xn),e);break}Xr(t,Et,xn);break;case 4:if(lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yA(r/1960))-r,10<r){t.timeoutHandle=Md(Xr.bind(null,t,Et,xn),r);break}Xr(t,Et,xn);break;case 5:Xr(t,Et,xn);break;default:throw Error(U(329))}}}return It(t,Ne()),t.callbackNode===n?uE.bind(null,t):null}function nf(t,e){var n=Do;return t.current.memoizedState.isDehydrated&&(ai(t,e).flags|=256),t=Su(t,e),t!==2&&(e=Et,Et=n,e!==null&&rf(e)),t}function rf(t){Et===null?Et=t:Et.push.apply(Et,t)}function vA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lr(t,e){for(e&=~Rp,e&=~lc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xt(e),r=1<<n;t[n]=-1,e&=~r}}function _v(t){if(se&6)throw Error(U(327));os();var e=ou(t,0);if(!(e&1))return It(t,Ne()),null;var n=Su(t,e);if(t.tag!==0&&n===2){var r=Ad(t);r!==0&&(e=r,n=nf(t,r))}if(n===1)throw n=sa,ai(t,0),lr(t,e),It(t,Ne()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xr(t,Et,xn),It(t,Ne()),null}function Np(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(ys=Ne()+500,ic&&Br())}}function gi(t){fr!==null&&fr.tag===0&&!(se&6)&&os();var e=se;se|=1;var n=Bt.transition,r=ue;try{if(Bt.transition=null,ue=1,t)return t()}finally{ue=r,Bt.transition=n,se=e,!(se&6)&&Br()}}function Dp(){Pt=Qi.current,ye(Qi)}function ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KP(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hu();break;case 3:ms(),ye(xt),ye(ht),Tp();break;case 5:Ep(r);break;case 4:ms();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:yp(r.type._context);break;case 22:case 23:Dp()}n=n.return}if(qe=t,Le=t=xr(t.current,null),Ye=Pt=e,je=0,sa=null,Rp=lc=mi=0,Et=Do=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ni=null}return t}function cE(t,e){do{var n=Le;try{if(gp(),Ml.current=wu,_u){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_u=!1}if(pi=0,$e=Me=xe=null,bo=!1,na=0,kp.current=null,n===null||n.return===null){je=1,sa=e,Le=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ye,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=ov(o);if(w!==null){w.flags&=-257,av(w,o,a,s,e),w.mode&1&&sv(s,c,e),e=w,u=c;var x=e.updateQueue;if(x===null){var S=new Set;S.add(u),e.updateQueue=S}else x.add(u);break e}else{if(!(e&1)){sv(s,c,e),Vp();break e}u=Error(U(426))}}else if(ve&&a.mode&1){var A=ov(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),av(A,o,a,s,e),pp(gs(u,a));break e}}s=u=gs(u,a),je!==4&&(je=2),Do===null?Do=[s]:Do.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=G1(s,u,e);Zy(s,_);break e;case 1:a=u;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Er===null||!Er.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=K1(s,a,e);Zy(s,b);break e}}s=s.return}while(s!==null)}fE(n)}catch(L){e=L,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function hE(){var t=Eu.current;return Eu.current=wu,t===null?wu:t}function Vp(){(je===0||je===3||je===2)&&(je=4),qe===null||!(mi&268435455)&&!(lc&268435455)||lr(qe,Ye)}function Su(t,e){var n=se;se|=2;var r=hE();(qe!==t||Ye!==e)&&(xn=null,ai(t,e));do try{_A();break}catch(i){cE(t,i)}while(!0);if(gp(),se=n,Eu.current=r,Le!==null)throw Error(U(261));return qe=null,Ye=0,je}function _A(){for(;Le!==null;)dE(Le)}function wA(){for(;Le!==null&&!WC();)dE(Le)}function dE(t){var e=mE(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?fE(t):Le=e,kp.current=null}function fE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fA(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Le=null;return}}else if(n=dA(n,e,Pt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);je===0&&(je=5)}function Xr(t,e,n){var r=ue,i=Bt.transition;try{Bt.transition=null,ue=1,EA(t,e,n,r)}finally{Bt.transition=i,ue=r}return null}function EA(t,e,n,r){do os();while(fr!==null);if(se&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tP(t,s),t===qe&&(Le=qe=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,gE(su,function(){return os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bt.transition,Bt.transition=null;var o=ue;ue=1;var a=se;se|=4,kp.current=null,mA(t,n),aE(n,t),BP(Vd),au=!!Dd,Vd=Dd=null,t.current=n,gA(n),HC(),se=a,ue=o,Bt.transition=s}else t.current=n;if(yl&&(yl=!1,fr=t,xu=i),s=t.pendingLanes,s===0&&(Er=null),QC(n.stateNode),It(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tu)throw Tu=!1,t=ef,ef=null,t;return xu&1&&t.tag!==0&&os(),s=t.pendingLanes,s&1?t===tf?Vo++:(Vo=0,tf=t):Vo=0,Br(),null}function os(){if(fr!==null){var t=Gw(xu),e=Bt.transition,n=ue;try{if(Bt.transition=null,ue=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,xu=0,se&6)throw Error(U(331));var i=se;for(se|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:No(8,h,s)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var p=h.sibling,w=h.return;if(iE(h),h===c){q=null;break}if(p!==null){p.return=w,q=p;break}q=w}}}var x=s.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:No(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,q=_;break e}q=s.return}}var y=t.current;for(q=y;q!==null;){o=q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,q=E;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ac(9,a)}}catch(L){Pe(a,a.return,L)}if(a===o){q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,q=b;break e}q=a.return}}if(se=i,Br(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Zu,t)}catch{}r=!0}return r}finally{ue=n,Bt.transition=e}}return!1}function wv(t,e,n){e=gs(n,e),e=G1(t,e,1),t=wr(t,e,1),e=yt(),t!==null&&(Ta(t,1,e),It(t,e))}function Pe(t,e,n){if(t.tag===3)wv(t,t,n);else for(;e!==null;){if(e.tag===3){wv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=gs(n,t),t=K1(e,t,1),e=wr(e,t,1),t=yt(),e!==null&&(Ta(e,1,t),It(e,t));break}}e=e.return}}function TA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Ye&n)===n&&(je===4||je===3&&(Ye&130023424)===Ye&&500>Ne()-bp?ai(t,0):Rp|=n),It(t,e)}function pE(t,e){e===0&&(t.mode&1?(e=al,al<<=1,!(al&130023424)&&(al=4194304)):e=1);var n=yt();t=Bn(t,e),t!==null&&(Ta(t,e,n),It(t,n))}function xA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pE(t,n)}function SA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),pE(t,n)}var mE;mE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,hA(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,ve&&e.flags&1048576&&_1(e,pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jl(t,e),t=e.pendingProps;var i=ds(e,ht.current);ss(e,n),i=Sp(null,e,r,t,i,n);var s=Ip();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(s=!0,du(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_p(e),i.updater=oc,e.stateNode=i,i._reactInternals=e,$d(e,r,t,n),e=Hd(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&dp(e),gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CA(r),t=Gt(r,t),i){case 0:e=Wd(null,e,r,t,n);break e;case 1:e=cv(null,e,r,t,n);break e;case 11:e=lv(null,e,r,t,n);break e;case 14:e=uv(null,e,r,Gt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Wd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),cv(t,e,r,i,n);case 3:e:{if(J1(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,I1(t,e),yu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gs(Error(U(423)),e),e=hv(t,e,r,n,i);break e}else if(r!==i){i=gs(Error(U(424)),e),e=hv(t,e,r,n,i);break e}else for(At=_r(e.stateNode.containerInfo.firstChild),kt=e,ve=!0,Qt=null,n=x1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===i){e=zn(t,e,n);break e}gt(t,e,r,n)}e=e.child}return e;case 5:return C1(e),t===null&&Ud(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ld(r,i)?o=null:s!==null&&Ld(r,s)&&(e.flags|=32),X1(t,e),gt(t,e,o,n),e.child;case 6:return t===null&&Ud(e),null;case 13:return Z1(t,e,n);case 4:return wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ps(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),lv(t,e,r,i,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(mu,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!xt.current){e=zn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Dn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Bd(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ss(e,n),i=zt(i),r=r(i),e.flags|=1,gt(t,e,r,n),e.child;case 14:return r=e.type,i=Gt(r,e.pendingProps),i=Gt(r.type,i),uv(t,e,r,i,n);case 15:return Q1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),jl(t,e),e.tag=1,St(r)?(t=!0,du(e)):t=!1,ss(e,n),H1(e,r,i),$d(e,r,i,n),Hd(null,e,r,!0,t,n);case 19:return eE(t,e,n);case 22:return Y1(t,e,n)}throw Error(U(156,e.tag))};function gE(t,e){return $w(t,e)}function IA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new IA(t,e,n,r)}function Lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CA(t){if(typeof t=="function")return Lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ep)return 11;if(t===tp)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fi:return li(n.children,i,s,e);case Zf:o=8,i|=8;break;case fd:return t=Ut(12,n,e,i|2),t.elementType=fd,t.lanes=s,t;case pd:return t=Ut(13,n,e,i),t.elementType=pd,t.lanes=s,t;case md:return t=Ut(19,n,e,i),t.elementType=md,t.lanes=s,t;case Cw:return uc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sw:o=10;break e;case Iw:o=9;break e;case ep:o=11;break e;case tp:o=14;break e;case sr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function li(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function uc(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=Cw,t.lanes=n,t.stateNode={isHidden:!1},t}function Mh(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function Oh(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mp(t,e,n,r,i,s,o,a,u){return t=new PA(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(s),t}function AA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yE(t){if(!t)return Rr;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(St(n))return y1(t,n,e)}return e}function vE(t,e,n,r,i,s,o,a,u){return t=Mp(n,r,!0,t,i,s,o,a,u),t.context=yE(null),n=t.current,r=yt(),i=Tr(n),s=Dn(r,i),s.callback=e??null,wr(n,s,i),t.current.lanes=i,Ta(t,i,r),It(t,r),t}function cc(t,e,n,r){var i=e.current,s=yt(),o=Tr(i);return n=yE(n),e.context===null?e.context=n:e.pendingContext=n,e=Dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,o),t!==null&&(Jt(t,i,o,s),Ll(t,i,o)),o}function Iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ev(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Op(t,e){Ev(t,e),(t=t.alternate)&&Ev(t,e)}function kA(){return null}var _E=typeof reportError=="function"?reportError:function(t){console.error(t)};function jp(t){this._internalRoot=t}hc.prototype.render=jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));cc(t,e,null,null)};hc.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gi(function(){cc(null,t,null,null)}),e[Un]=null}};function hc(t){this._internalRoot=t}hc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ar.length&&e!==0&&e<ar[n].priority;n++);ar.splice(n,0,t),n===0&&Jw(t)}};function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function RA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Iu(o);s.call(c)}}var o=vE(e,r,t,0,null,!1,!1,"",Tv);return t._reactRootContainer=o,t[Un]=o.current,Xo(t.nodeType===8?t.parentNode:t),gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Iu(u);a.call(c)}}var u=Mp(t,0,!1,null,null,!1,!1,"",Tv);return t._reactRootContainer=u,t[Un]=u.current,Xo(t.nodeType===8?t.parentNode:t),gi(function(){cc(e,u,n,r)}),u}function fc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Iu(o);a.call(u)}}cc(e,o,t,i)}else o=RA(n,e,t,i,r);return Iu(o)}Kw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vo(e.pendingLanes);n!==0&&(ip(e,n|1),It(e,Ne()),!(se&6)&&(ys=Ne()+500,Br()))}break;case 13:gi(function(){var r=Bn(t,1);if(r!==null){var i=yt();Jt(r,t,1,i)}}),Op(t,1)}};sp=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var n=yt();Jt(e,t,134217728,n)}Op(t,134217728)}};Qw=function(t){if(t.tag===13){var e=Tr(t),n=Bn(t,e);if(n!==null){var r=yt();Jt(n,t,e,r)}Op(t,e)}};Yw=function(){return ue};Xw=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Id=function(t,e,n){switch(e){case"input":if(vd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rc(r);if(!i)throw Error(U(90));Aw(r),vd(r,i)}}}break;case"textarea":Rw(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};Ow=Np;jw=gi;var bA={usingClientEntryPoint:!1,Events:[Sa,$i,rc,Lw,Mw,Np]},po={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NA={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bw(t),t===null?null:t.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||kA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Zu=vl.inject(NA),on=vl}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bA;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(e))throw Error(U(200));return AA(t,e,null,n)};Dt.createRoot=function(t,e){if(!Fp(t))throw Error(U(299));var n=!1,r="",i=_E;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mp(t,1,!1,null,null,n,!1,r,i),t[Un]=e.current,Xo(t.nodeType===8?t.parentNode:t),new jp(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Bw(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return gi(t)};Dt.hydrate=function(t,e,n){if(!dc(e))throw Error(U(200));return fc(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Fp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_E;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vE(e,null,t,1,n??null,i,!1,s,o),t[Un]=e.current,Xo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hc(e)};Dt.render=function(t,e,n){if(!dc(e))throw Error(U(200));return fc(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!dc(t))throw Error(U(40));return t._reactRootContainer?(gi(function(){fc(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Dt.unstable_batchedUpdates=Np;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return fc(t,e,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function wE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wE)}catch(t){console.error(t)}}wE(),ww.exports=Dt;var DA=ww.exports,EE,xv=DA;EE=xv.createRoot,xv.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}var pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pr||(pr={}));const Sv="popstate";function VA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cu(i)}return MA(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LA(){return Math.random().toString(36).substr(2,8)}function Iv(t,e){return{usr:t.state,key:t.key,idx:e}}function sf(t,e,n,r){return n===void 0&&(n=null),oa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ls(e):e,{state:n,key:e&&e.key||r||LA()})}function Cu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(oa({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=pr.Pop;let A=h(),_=A==null?null:A-c;c=A,u&&u({action:a,location:S.location,delta:_})}function p(A,_){a=pr.Push;let y=sf(S.location,A,_);c=h()+1;let E=Iv(y,c),b=S.createHref(y);try{o.pushState(E,"",b)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(b)}s&&u&&u({action:a,location:S.location,delta:1})}function w(A,_){a=pr.Replace;let y=sf(S.location,A,_);c=h();let E=Iv(y,c),b=S.createHref(y);o.replaceState(E,"",b),s&&u&&u({action:a,location:S.location,delta:0})}function x(A){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof A=="string"?A:Cu(A);return y=y.replace(/ $/,"%20"),De(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let S={get action(){return a},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Sv,f),u=A,()=>{i.removeEventListener(Sv,f),u=null}},createHref(A){return e(i,A)},createURL:x,encodeLocation(A){let _=x(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:w,go(A){return o.go(A)}};return S}var Cv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cv||(Cv={}));function OA(t,e,n){return n===void 0&&(n="/"),jA(t,e,n,!1)}function jA(t,e,n,r){let i=typeof e=="string"?Ls(e):e,s=Up(i.pathname||"/",n);if(s==null)return null;let o=xE(t);FA(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=YA(s);a=KA(o[u],c,r)}return a}function xE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Sr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:HA(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of SE(s.path))i(s,o,u)}),e}function SE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function FA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UA=/^:[\w-]+$/,BA=3,zA=2,$A=1,qA=10,WA=-2,Pv=t=>t==="*";function HA(t,e){let n=t.split("/"),r=n.length;return n.some(Pv)&&(r+=WA),e&&(r+=zA),n.filter(i=>!Pv(i)).reduce((i,s)=>i+(UA.test(s)?BA:s===""?$A:qA),r)}function GA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Av({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Av({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Sr([s,f.pathname]),pathnameBase:ek(Sr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Sr([s,f.pathnameBase]))}return o}function Av(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:w}=h;if(p==="*"){let S=a[f]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=a[f];return w&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function QA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),TE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Up(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ls(t):t;return{pathname:n?n.startsWith("/")?n:JA(n,e):e,search:tk(r),hash:nk(i)}}function JA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(t,e){let n=ZA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ls(t):(i=oa({},t),De(!i.pathname||!i.pathname.includes("?"),jh("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),jh("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),jh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=XA(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Sr=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IE=["post","put","patch","delete"];new Set(IE);const ik=["get",...IE];new Set(ik);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}const $p=D.createContext(null),sk=D.createContext(null),zr=D.createContext(null),pc=D.createContext(null),Qn=D.createContext({outlet:null,matches:[],isDataRoute:!1}),CE=D.createContext(null);function ok(t,e){let{relative:n}=e===void 0?{}:e;Ms()||De(!1);let{basename:r,navigator:i}=D.useContext(zr),{hash:s,pathname:o,search:a}=kE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Sr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Ms(){return D.useContext(pc)!=null}function Ti(){return Ms()||De(!1),D.useContext(pc).location}function PE(t){D.useContext(zr).static||D.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=D.useContext(Qn);return t?_k():ak()}function ak(){Ms()||De(!1);let t=D.useContext($p),{basename:e,future:n,navigator:r}=D.useContext(zr),{matches:i}=D.useContext(Qn),{pathname:s}=Ti(),o=JSON.stringify(Bp(i,n.v7_relativeSplatPath)),a=D.useRef(!1);return PE(()=>{a.current=!0}),D.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=zp(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Sr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function AE(){let{matches:t}=D.useContext(Qn),e=t[t.length-1];return e?e.params:{}}function kE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(zr),{matches:i}=D.useContext(Qn),{pathname:s}=Ti(),o=JSON.stringify(Bp(i,r.v7_relativeSplatPath));return D.useMemo(()=>zp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function lk(t,e){return uk(t,e)}function uk(t,e,n,r){Ms()||De(!1);let{navigator:i}=D.useContext(zr),{matches:s}=D.useContext(Qn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ti(),h;if(e){var f;let A=typeof e=="string"?Ls(e):e;u==="/"||(f=A.pathname)!=null&&f.startsWith(u)||De(!1),h=A}else h=c;let p=h.pathname||"/",w=p;if(u!=="/"){let A=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=OA(t,{pathname:w}),S=pk(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Sr([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Sr([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&S?D.createElement(pc.Provider,{value:{location:aa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:pr.Pop}},S):S}function ck(){let t=vk(),e=rk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const hk=D.createElement(ck,null);class dk extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Qn.Provider,{value:this.props.routeContext},D.createElement(CE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fk(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext($p);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Qn.Provider,{value:e},r)}function pk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||De(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:w}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let w,x=!1,S=null,A=null;n&&(w=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||hk,u&&(c<0&&p===0?(x=!0,A=null):c===p&&(x=!0,A=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let E;return w?E=S:x?E=A:f.route.Component?E=D.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,D.createElement(fk,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?D.createElement(dk,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var RE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RE||{}),Pu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pu||{});function mk(t){let e=D.useContext($p);return e||De(!1),e}function gk(t){let e=D.useContext(sk);return e||De(!1),e}function yk(t){let e=D.useContext(Qn);return e||De(!1),e}function bE(t){let e=yk(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function vk(){var t;let e=D.useContext(CE),n=gk(Pu.UseRouteError),r=bE(Pu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _k(){let{router:t}=mk(RE.UseNavigateStable),e=bE(Pu.UseNavigateStable),n=D.useRef(!1);return PE(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,aa({fromRouteId:e},s)))},[t,e])}const kv={};function wk(t,e){kv[e]||(kv[e]=!0,console.warn(e))}const Rv=(t,e,n)=>wk(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Ek(t,e){t!=null&&t.v7_startTransition||Rv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Rv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Tk(t){let{to:e,replace:n,state:r,relative:i}=t;Ms()||De(!1);let{future:s,static:o}=D.useContext(zr),{matches:a}=D.useContext(Qn),{pathname:u}=Ti(),c=Os(),h=zp(e,Bp(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(h);return D.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Tn(t){De(!1)}function xk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pr.Pop,navigator:s,static:o=!1,future:a}=t;Ms()&&De(!1);let u=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:s,static:o,future:aa({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Ls(r));let{pathname:h="/",search:f="",hash:p="",state:w=null,key:x="default"}=r,S=D.useMemo(()=>{let A=Up(h,u);return A==null?null:{location:{pathname:A,search:f,hash:p,state:w,key:x},navigationType:i}},[u,h,f,p,w,x,i]);return S==null?null:D.createElement(zr.Provider,{value:c},D.createElement(pc.Provider,{children:n,value:S}))}function Sk(t){let{children:e,location:n}=t;return lk(of(e),n)}new Promise(()=>{});function of(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){n.push.apply(n,of(r.props.children,s));return}r.type!==Tn&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=of(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function Ik(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ck(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pk(t,e){return t.button===0&&(!e||e==="_self")&&!Ck(t)}const Ak=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kk="6";try{window.__reactRouterVersion=kk}catch{}const Rk="startTransition",bv=TC[Rk];function bk(t){let{basename:e,children:n,future:r,window:i}=t,s=D.useRef();s.current==null&&(s.current=VA({window:i,v5Compat:!0}));let o=s.current,[a,u]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=D.useCallback(f=>{c&&bv?bv(()=>u(f)):u(f)},[u,c]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.useEffect(()=>Ek(r),[r]),D.createElement(xk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NE=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,p=Ik(e,Ak),{basename:w}=D.useContext(zr),x,S=!1;if(typeof c=="string"&&Dk.test(c)&&(x=c,Nk))try{let E=new URL(window.location.href),b=c.startsWith("//")?new URL(E.protocol+c):new URL(c),L=Up(b.pathname,w);b.origin===E.origin&&L!=null?c=L+b.search+b.hash:S=!0}catch{}let A=ok(c,{relative:i}),_=Vk(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||_(E)}return D.createElement("a",af({},p,{href:x||A,onClick:S||s?r:y,ref:n,target:u}))});var Nv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nv||(Nv={}));var Dv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dv||(Dv={}));function Vk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Os(),c=Ti(),h=kE(t,{relative:o});return D.useCallback(f=>{if(Pk(f,n)){f.preventDefault();let p=r!==void 0?r:Cu(c)===Cu(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}function Lk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function mc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const lf=t=>Array.isArray(t);function DE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function la(t){return typeof t=="string"||Array.isArray(t)}function Vv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qp(t,e,n,r){if(typeof e=="function"){const[i,s]=Vv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Vv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function gc(t,e,n){const r=t.getProps();return qp(r,e,n!==void 0?n:r.custom,t)}const Wp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hp=["initial",...Wp],Ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xi=new Set(Ca),Vn=t=>t*1e3,Ln=t=>t/1e3,Mk={type:"spring",stiffness:500,damping:25,restSpeed:10},Ok=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jk={type:"keyframes",duration:.8},Fk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uk=(t,{keyframes:e})=>e.length>2?jk:xi.has(t)?t.startsWith("scale")?Ok(e[1]):Mk:Fk;function Gp(t,e){return t?t[e]||t.default||t:void 0}const Bk={useManualTiming:!1},zk=t=>t!==null;function yc(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zk),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ct=t=>t;function $k(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,f=!1)=>{const w=f&&r?e:n;return h&&s.add(c),w.has(c)||w.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,u.process(c))}};return u}const _l=["read","resolveKeyframes","update","preRender","render","postRender"],qk=40;function VE(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=_l.reduce((_,y)=>(_[y]=$k(s),_),{}),{read:a,resolveKeyframes:u,update:c,preRender:h,render:f,postRender:p}=o,w=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,qk),1),i.timestamp=_,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},x=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:_l.reduce((_,y)=>{const E=o[y];return _[y]=(b,L=!1,O=!1)=>(n||x(),E.schedule(b,L,O)),_},{}),cancel:_=>{for(let y=0;y<_l.length;y++)o[_l[y]].cancel(_)},state:i,steps:o}}const{schedule:ce,cancel:br,state:Ge,steps:Fh}=VE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ct,!0),LE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Wk=1e-7,Hk=12;function Gk(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=LE(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Wk&&++a<Hk);return o}function Pa(t,e,n,r){if(t===e&&n===r)return ct;const i=s=>Gk(s,0,1,t,n);return s=>s===0||s===1?s:LE(i(s),e,r)}const ME=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OE=t=>e=>1-t(1-e),jE=Pa(.33,1.53,.69,.99),Kp=OE(jE),FE=ME(Kp),UE=t=>(t*=2)<1?.5*Kp(t):.5*(2-Math.pow(2,-10*(t-1))),Qp=t=>1-Math.sin(Math.acos(t)),BE=OE(Qp),zE=ME(Qp),$E=t=>/^0[^.\s]+$/u.test(t);function Kk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$E(t):!0}let uf=ct;const qE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),WE=t=>e=>typeof e=="string"&&e.startsWith(t),HE=WE("--"),Qk=WE("var(--"),Yp=t=>Qk(t)?Yk.test(t.split("/*")[0].trim()):!1,Yk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jk(t){const e=Xk.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function GE(t,e,n=1){const[r,i]=Jk(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return qE(o)?parseFloat(o):o}return Yp(i)?GE(i,e,n+1):i}const Nr=(t,e,n)=>n>e?e:n<t?t:n,js={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ua={...js,transform:t=>Nr(0,1,t)},wl={...js,default:1},Aa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ir=Aa("deg"),ln=Aa("%"),G=Aa("px"),Zk=Aa("vh"),eR=Aa("vw"),Lv={...ln,parse:t=>ln.parse(t)/100,transform:t=>ln.transform(t*100)},tR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mv=t=>t===js||t===G,Ov=(t,e)=>parseFloat(t.split(", ")[e]),jv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Ov(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Ov(s[1],t):0}},nR=new Set(["x","y","z"]),rR=Ca.filter(t=>!nR.has(t));function iR(t){const e=[];return rR.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:jv(4,13),y:jv(5,14)};vs.translateX=vs.x;vs.translateY=vs.y;const KE=t=>e=>e.test(t),sR={test:t=>t==="auto",parse:t=>t},QE=[js,G,ln,ir,eR,Zk,sR],Fv=t=>QE.find(KE(t)),ui=new Set;let cf=!1,hf=!1;function YE(){if(hf){const t=Array.from(ui).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=iR(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hf=!1,cf=!1,ui.forEach(t=>t.complete()),ui.clear()}function XE(){ui.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hf=!0)})}function oR(){XE(),YE()}class Xp{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ui.add(this),cf||(cf=!0,ce.read(XE),ce.resolveKeyframes(YE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ui.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ui.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Lo=t=>Math.round(t*1e5)/1e5,Jp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aR(t){return t==null}const lR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zp=(t,e)=>n=>!!(typeof n=="string"&&lR.test(n)&&n.startsWith(t)||e&&!aR(n)&&Object.prototype.hasOwnProperty.call(n,e)),JE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Jp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},uR=t=>Nr(0,255,t),Uh={...js,transform:t=>Math.round(uR(t))},ii={test:Zp("rgb","red"),parse:JE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Uh.transform(t)+", "+Uh.transform(e)+", "+Uh.transform(n)+", "+Lo(ua.transform(r))+")"};function cR(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const df={test:Zp("#"),parse:cR,transform:ii.transform},Yi={test:Zp("hsl","hue"),parse:JE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ln.transform(Lo(e))+", "+ln.transform(Lo(n))+", "+Lo(ua.transform(r))+")"},st={test:t=>ii.test(t)||df.test(t)||Yi.test(t),parse:t=>ii.test(t)?ii.parse(t):Yi.test(t)?Yi.parse(t):df.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ii.transform(t):Yi.transform(t)},hR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hR))===null||n===void 0?void 0:n.length)||0)>0}const ZE="number",eT="color",fR="var",pR="var(",Uv="${}",mR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ca(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(mR,u=>(st.test(u)?(r.color.push(s),i.push(eT),n.push(st.parse(u))):u.startsWith(pR)?(r.var.push(s),i.push(fR),n.push(u)):(r.number.push(s),i.push(ZE),n.push(parseFloat(u))),++s,Uv)).split(Uv);return{values:n,split:a,indexes:r,types:i}}function tT(t){return ca(t).values}function nT(t){const{split:e,types:n}=ca(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===ZE?s+=Lo(i[o]):a===eT?s+=st.transform(i[o]):s+=i[o]}return s}}const gR=t=>typeof t=="number"?0:t;function yR(t){const e=tT(t);return nT(t)(e.map(gR))}const Dr={test:dR,parse:tT,createTransformer:nT,getAnimatableNone:yR},vR=new Set(["brightness","contrast","saturate","opacity"]);function _R(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jp)||[];if(!r)return t;const i=n.replace(r,"");let s=vR.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const wR=/\b([a-z-]*)\(.*?\)/gu,ff={...Dr,getAnimatableNone:t=>{const e=t.match(wR);return e?e.map(_R).join(" "):t}},ER={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G},TR={rotate:ir,rotateX:ir,rotateY:ir,rotateZ:ir,scale:wl,scaleX:wl,scaleY:wl,scaleZ:wl,skew:ir,skewX:ir,skewY:ir,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:ua,originX:Lv,originY:Lv,originZ:G},Bv={...js,transform:Math.round},em={...ER,...TR,zIndex:Bv,size:G,fillOpacity:ua,strokeOpacity:ua,numOctaves:Bv},xR={...em,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:ff,WebkitFilter:ff},tm=t=>xR[t];function rT(t,e){let n=tm(t);return n!==ff&&(n=Dr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SR=new Set(["auto","none","0"]);function IR(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!SR.has(s)&&ca(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=rT(n,i)}class iT extends Xp{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),Yp(c))){const h=GE(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!tR.has(r)||e.length!==2)return;const[i,s]=e,o=Fv(i),a=Fv(s);if(o!==a)if(Mv(o)&&Mv(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Kk(e[i])&&r.push(i);r.length&&IR(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=vs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,c])=>{n.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function nm(t){return typeof t=="function"}let zl;function CR(){zl=void 0}const un={now:()=>(zl===void 0&&un.set(Ge.isProcessing||Bk.useManualTiming?Ge.timestamp:performance.now()),zl),set:t=>{zl=t,queueMicrotask(CR)}},zv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dr.test(t)||t==="0")&&!t.startsWith("url("));function PR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AR(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=zv(i,e),a=zv(s,e);return!o||!a?!1:PR(t)||(n==="spring"||nm(n))&&r}const kR=40;class sT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=un.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oR(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=un.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:u,isGenerator:c}=this.options;if(!c&&!AR(e,r,i,s))if(o)this.options.duration=0;else{u==null||u(yc(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function oT(t,e){return e?t*(1e3/e):0}const RR=5;function aT(t,e,n){const r=Math.max(e-RR,0);return oT(n-t(r),e-r)}const Bh=.001,bR=.01,NR=10,DR=.05,VR=1;function LR({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Nr(DR,VR,o),t=Nr(bR,NR,Ln(t)),o<1?(i=c=>{const h=c*o,f=h*t,p=h-n,w=pf(c,o),x=Math.exp(-f);return Bh-p/w*x},s=c=>{const f=c*o*t,p=f*n+n,w=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-f),S=pf(Math.pow(c,2),o);return(-i(c)+Bh>0?-1:1)*((p-w)*x)/S}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Bh+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=OR(i,s,a);if(t=Vn(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const MR=12;function OR(t,e,n){let r=n;for(let i=1;i<MR;i++)r=r-t(r)/e(r);return r}function pf(t,e){return t*Math.sqrt(1-e*e)}const jR=["duration","bounce"],FR=["stiffness","damping","mass"];function $v(t,e){return e.some(n=>t[n]!==void 0)}function UR(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!$v(t,FR)&&$v(t,jR)){const n=LR(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lT({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=UR({...r,velocity:-Ln(r.velocity||0)}),w=f||0,x=u/(2*Math.sqrt(a*c)),S=s-i,A=Ln(Math.sqrt(a/c)),_=Math.abs(S)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(x<1){const E=pf(A,x);y=b=>{const L=Math.exp(-x*A*b);return s-L*((w+x*A*S)/E*Math.sin(E*b)+S*Math.cos(E*b))}}else if(x===1)y=E=>s-Math.exp(-A*E)*(S+(w+A*S)*E);else{const E=A*Math.sqrt(x*x-1);y=b=>{const L=Math.exp(-x*A*b),O=Math.min(E*b,300);return s-L*((w+x*A*S)*Math.sinh(O)+E*S*Math.cosh(O))/E}}return{calculatedDuration:p&&h||null,next:E=>{const b=y(E);if(p)o.done=E>=h;else{let L=0;x<1&&(L=E===0?Vn(w):aT(y,E,b));const O=Math.abs(L)<=n,C=Math.abs(s-b)<=e;o.done=O&&C}return o.value=o.done?s:b,o}}}function qv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},w=v=>a!==void 0&&v<a||u!==void 0&&v>u,x=v=>a===void 0?u:u===void 0||Math.abs(a-v)<Math.abs(u-v)?a:u;let S=n*e;const A=f+S,_=o===void 0?A:o(A);_!==A&&(S=_-f);const y=v=>-S*Math.exp(-v/r),E=v=>_+y(v),b=v=>{const P=y(v),I=E(v);p.done=Math.abs(P)<=c,p.value=p.done?_:I};let L,O;const C=v=>{w(p.value)&&(L=v,O=lT({keyframes:[p.value,x(p.value)],velocity:aT(E,v,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:v=>{let P=!1;return!O&&L===void 0&&(P=!0,b(v),C(v)),L!==void 0&&v>=L?O.next(v-L):(!P&&b(v),p)}}}const BR=Pa(.42,0,1,1),zR=Pa(0,0,.58,1),uT=Pa(.42,0,.58,1),$R=t=>Array.isArray(t)&&typeof t[0]!="number",rm=t=>Array.isArray(t)&&typeof t[0]=="number",Wv={linear:ct,easeIn:BR,easeInOut:uT,easeOut:zR,circIn:Qp,circInOut:zE,circOut:BE,backIn:Kp,backInOut:FE,backOut:jE,anticipate:UE},Hv=t=>{if(rm(t)){uf(t.length===4);const[e,n,r,i]=t;return Pa(e,n,r,i)}else if(typeof t=="string")return uf(Wv[t]!==void 0),Wv[t];return t},qR=(t,e)=>n=>e(t(n)),Mn=(...t)=>t.reduce(qR),_s=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Te=(t,e,n)=>t+(e-t)*n;function zh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=zh(u,a,t+1/3),s=zh(u,a,t),o=zh(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Au(t,e){return n=>n>0?e:t}const $h=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HR=[df,ii,Yi],GR=t=>HR.find(e=>e.test(t));function Gv(t){const e=GR(t);if(!e)return!1;let n=e.parse(t);return e===Yi&&(n=WR(n)),n}const Kv=(t,e)=>{const n=Gv(t),r=Gv(e);if(!n||!r)return Au(t,e);const i={...n};return s=>(i.red=$h(n.red,r.red,s),i.green=$h(n.green,r.green,s),i.blue=$h(n.blue,r.blue,s),i.alpha=Te(n.alpha,r.alpha,s),ii.transform(i))},mf=new Set(["none","hidden"]);function KR(t,e){return mf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function QR(t,e){return n=>Te(t,e,n)}function im(t){return typeof t=="number"?QR:typeof t=="string"?Yp(t)?Au:st.test(t)?Kv:JR:Array.isArray(t)?cT:typeof t=="object"?st.test(t)?Kv:YR:Au}function cT(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>im(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function YR(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=im(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function XR(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],u=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=u,i[o]++}return r}const JR=(t,e)=>{const n=Dr.createTransformer(e),r=ca(t),i=ca(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?mf.has(t)&&!i.values.length||mf.has(e)&&!r.values.length?KR(t,e):Mn(cT(XR(r,i),i.values),n):Au(t,e)};function hT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Te(t,e,n):im(t)(t,e)}function ZR(t,e,n){const r=[],i=n||hT,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||ct:e;a=Mn(u,a)}r.push(a)}return r}function eb(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(uf(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=ZR(e,r,i),a=o.length,u=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=_s(t[h],t[h+1],c);return o[h](f)};return n?c=>u(Nr(t[0],t[s-1],c)):u}function tb(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=_s(0,e,r);t.push(Te(n,1,i))}}function nb(t){const e=[0];return tb(e,t.length-1),e}function rb(t,e){return t.map(n=>n*e)}function ib(t,e){return t.map(()=>e||uT).splice(0,t.length-1)}function ku({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$R(r)?r.map(Hv):Hv(r),s={done:!1,value:e[0]},o=rb(n&&n.length===e.length?n:nb(e),t),a=eb(o,e,{ease:Array.isArray(i)?i:ib(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const Qv=2e4;function sb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qv;)e+=n,r=t.next(e);return e>=Qv?1/0:e}const ob=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ce.update(e,!0),stop:()=>br(e),now:()=>Ge.isProcessing?Ge.timestamp:un.now()}},ab={decay:qv,inertia:qv,tween:ku,keyframes:ku,spring:lT},lb=t=>t/100;class sm extends sT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Xp,a=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=nm(n)?n:ab[n]||ku;let u,c;a!==ku&&typeof e[0]!="number"&&(u=Mn(lb,hT(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=sb(h));const{calculatedDuration:f}=h,p=f+i,w=p*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:p,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:w,repeatType:x,repeatDelay:S,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,b=s;if(w){const v=Math.min(this.currentTime,h)/f;let P=Math.floor(v),I=v%1;!I&&v>=1&&(I=1),I===1&&P--,P=Math.min(P,w+1),!!(P%2)&&(x==="reverse"?(I=1-I,S&&(I-=S/f)):x==="mirror"&&(b=o)),E=Nr(0,1,I)*f}const L=y?{done:!1,value:u[0]}:b.next(E);a&&(L.value=a(L.value));let{done:O}=L;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&i!==void 0&&(L.value=yc(u,this.options,i)),A&&A(L.value),C&&this.finish(),L}get duration(){const{resolved:e}=this;return e?Ln(e.calculatedDuration):0}get time(){return Ln(this.currentTime)}set time(e){e=Vn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ln(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ob,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ub=new Set(["opacity","clipPath","filter","transform"]),cb=10,hb=(t,e)=>{let n="";const r=Math.max(Math.round(e/cb),2);for(let i=0;i<r;i++)n+=t(_s(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function om(t){let e;return()=>(e===void 0&&(e=t()),e)}const db={linearEasing:void 0};function fb(t,e){const n=om(t);return()=>{var r;return(r=db[e])!==null&&r!==void 0?r:n()}}const Ru=fb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function dT(t){return!!(typeof t=="function"&&Ru()||!t||typeof t=="string"&&(t in gf||Ru())||rm(t)||Array.isArray(t)&&t.every(dT))}const wo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wo([0,.65,.55,1]),circOut:wo([.55,0,1,.45]),backIn:wo([.31,.01,.66,-.59]),backOut:wo([.33,1.53,.69,.99])};function fT(t,e){if(t)return typeof t=="function"&&Ru()?hb(t,e):rm(t)?wo(t):Array.isArray(t)?t.map(n=>fT(n,e)||gf.easeOut):gf[t]}function pb(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=fT(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Yv(t,e){t.timeline=e,t.onfinish=null}const mb=om(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bu=10,gb=2e4;function yb(t){return nm(t.type)||t.type==="spring"||!dT(t.ease)}function vb(t,e){const n=new sm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<gb;)r=n.sample(s),i.push(r.value),s+=bu;return{times:void 0,keyframes:i,duration:s-bu,ease:"linear"}}const pT={anticipate:UE,backInOut:FE,circInOut:zE};function _b(t){return t in pT}class Xv extends sT{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new iT(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:u,name:c,startTime:h}=this.options;if(!(!((r=u.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Ru()&&_b(o)&&(o=pT[o]),yb(this.options)){const{onComplete:p,onUpdate:w,motionValue:x,element:S,...A}=this.options,_=vb(e,A);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const f=pb(u.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=h??this.calcStartTime(),this.pendingTimeline?(Yv(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;u.set(yc(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ln(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ln(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Vn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ct;const{animation:r}=n;Yv(r,e)}return ct}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:p,...w}=this.options,x=new sm({...w,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=Vn(this.time);c.setWithVelocity(x.sample(S-bu).value,x.sample(S).value,bu)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return mb()&&r&&ub.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const wb=om(()=>window.ScrollTimeline!==void 0);class Eb{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>wb()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Tb({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const am=(t,e,n,r={},i,s)=>o=>{const a=Gp(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Vn(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Tb(a)||(h={...h,...Uk(t,h)}),h.duration&&(h.duration=Vn(h.duration)),h.repeatDelay&&(h.repeatDelay=Vn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=yc(h.keyframes,a);if(p!==void 0)return ce.update(()=>{h.onUpdate(p),h.onComplete()}),new Eb([])}return!s&&Xv.supports(h)?new Xv(h):new sm(h)},xb=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Sb=t=>lf(t)?t[t.length-1]||0:t;function lm(t,e){t.indexOf(e)===-1&&t.push(e)}function um(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cm{constructor(){this.subscriptions=[]}add(e){return lm(this.subscriptions,e),()=>um(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jv=30,Ib=t=>!isNaN(parseFloat(t));class Cb{constructor(e,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=un.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ib(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cm);const r=this.events[e].add(n);return e==="change"?()=>{r(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Jv);return oT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ha(t,e){return new Cb(t,e)}function Pb(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ha(n))}function Ab(t,e){const n=gc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Sb(s[o]);Pb(t,o,a)}}const hm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kb="framerAppearId",mT="data-"+hm(kb);function gT(t){return t.props[mT]}const ut=t=>!!(t&&t.getVelocity);function Rb(t){return!!(ut(t)&&t.add)}function yf(t,e){const n=t.getValue("willChange");if(Rb(n))return n.add(e)}function bb({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in u){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),w=u[f];if(w===void 0||h&&bb(h,f))continue;const x={delay:n,...Gp(o||{},f)};let S=!1;if(window.MotionHandoffAnimation){const _=gT(t);if(_){const y=window.MotionHandoffAnimation(_,f,ce);y!==null&&(x.startTime=y,S=!0)}}yf(t,f),p.start(am(f,p,w,t.shouldReduceMotion&&xi.has(f)?{type:!1}:x,t,S));const A=p.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{ce.update(()=>{a&&Ab(t,a)})}),c}function vf(t,e,n={}){var r;const i=gc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(yT(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=s;return Nb(t,e,h+c,f,p,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[c,h]=u==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function Nb(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,u=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Db).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(vf(c,e,{...s,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Db(t,e){return t.sortNodePosition(e)}function Vb(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>vf(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=vf(t,e,n);else{const i=typeof e=="function"?gc(t,e,n.custom):e;r=Promise.all(yT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Lb=Hp.length;function vT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Lb;n++){const r=Hp[n],i=t.props[r];(la(i)||i===!1)&&(e[r]=i)}return e}const Mb=[...Wp].reverse(),Ob=Wp.length;function jb(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Vb(t,n,r)))}function Fb(t){let e=jb(t),n=Zv(),r=!0;const i=u=>(c,h)=>{var f;const p=gc(t,h,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:w,transitionEnd:x,...S}=p;c={...c,...S,...x}}return c};function s(u){e=u(t)}function o(u){const{props:c}=t,h=vT(t.parent)||{},f=[],p=new Set;let w={},x=1/0;for(let A=0;A<Ob;A++){const _=Mb[A],y=n[_],E=c[_]!==void 0?c[_]:h[_],b=la(E),L=_===u?y.isActive:null;L===!1&&(x=A);let O=E===h[_]&&E!==c[_]&&b;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...w},!y.isActive&&L===null||!E&&!y.prevProp||mc(E)||typeof E=="boolean")continue;const C=Ub(y.prevProp,E);let v=C||_===u&&y.isActive&&!O&&b||A>x&&b,P=!1;const I=Array.isArray(E)?E:[E];let R=I.reduce(i(_),{});L===!1&&(R={});const{prevResolvedValues:N={}}=y,k={...N,...R},ft=pe=>{v=!0,p.has(pe)&&(P=!0,p.delete(pe)),y.needsAnimating[pe]=!0;const z=t.getValue(pe);z&&(z.liveStyle=!1)};for(const pe in k){const z=R[pe],K=N[pe];if(w.hasOwnProperty(pe))continue;let X=!1;lf(z)&&lf(K)?X=!DE(z,K):X=z!==K,X?z!=null?ft(pe):p.add(pe):z!==void 0&&p.has(pe)?ft(pe):y.protectedKeys[pe]=!0}y.prevProp=E,y.prevResolvedValues=R,y.isActive&&(w={...w,...R}),r&&t.blockInitialAnimation&&(v=!1),v&&(!(O&&C)||P)&&f.push(...I.map(pe=>({animation:pe,options:{type:_}})))}if(p.size){const A={};p.forEach(_=>{const y=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),A[_]=y??null}),f.push({animation:A})}let S=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function a(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(u,c)}),n[u].isActive=c;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Zv(),r=!0}}}function Ub(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DE(e,t):!1}function Qr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zv(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class $r{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Bb extends $r{constructor(e){super(e),e.animationState||(e.animationState=Fb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zb=0;class $b extends $r{constructor(){super(...arguments),this.id=zb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qb={animation:{Feature:Bb},exit:{Feature:$b}},_T=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vc(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Wb=t=>e=>_T(e)&&t(e,vc(e));function An(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function On(t,e,n,r){return An(t,e,Wb(n),r)}const e0=(t,e)=>Math.abs(t-e);function Hb(t,e){const n=e0(t.x,e.x),r=e0(t.y,e.y);return Math.sqrt(n**2+r**2)}class wT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Wh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,w=Hb(f.offset,{x:0,y:0})>=3;if(!p&&!w)return;const{point:x}=f,{timestamp:S}=Ge;this.history.push({...x,timestamp:S});const{onStart:A,onMove:_}=this.handlers;p||(A&&A(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qh(p,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Wh(f.type==="pointercancel"?this.lastMoveEventInfo:qh(p,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,A),x&&x(f,A)},!_T(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=vc(e),a=qh(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=Ge;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Wh(a,this.history)),this.removeListeners=Mn(On(this.contextWindow,"pointermove",this.handlePointerMove),On(this.contextWindow,"pointerup",this.handlePointerUp),On(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function qh(t,e){return e?{point:e(t.point)}:t}function t0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wh({point:t},e){return{point:t,delta:t0(t,ET(e)),offset:t0(t,Gb(e)),velocity:Kb(e,.1)}}function Gb(t){return t[0]}function ET(t){return t[t.length-1]}function Kb(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ET(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vn(e)));)n--;if(!r)return{x:0,y:0};const s=Ln(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TT(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const n0=TT("dragHorizontal"),r0=TT("dragVertical");function xT(t){let e=!1;if(t==="y")e=r0();else if(t==="x")e=n0();else{const n=n0(),r=r0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function ST(){const t=xT(!0);return t?(t(),!1):!0}function Xi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const IT=1e-4,Qb=1-IT,Yb=1+IT,CT=.01,Xb=0-CT,Jb=0+CT;function Nt(t){return t.max-t.min}function Zb(t,e,n){return Math.abs(t-e)<=n}function i0(t,e,n,r=.5){t.origin=r,t.originPoint=Te(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Te(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Qb&&t.scale<=Yb||isNaN(t.scale))&&(t.scale=1),(t.translate>=Xb&&t.translate<=Jb||isNaN(t.translate))&&(t.translate=0)}function Mo(t,e,n,r){i0(t.x,e.x,n.x,r?r.originX:void 0),i0(t.y,e.y,n.y,r?r.originY:void 0)}function s0(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function e2(t,e,n){s0(t.x,e.x,n.x),s0(t.y,e.y,n.y)}function o0(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function Oo(t,e,n){o0(t.x,e.x,n.x),o0(t.y,e.y,n.y)}function t2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Te(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Te(n,t,r.max):Math.min(t,n)),t}function a0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function n2(t,{top:e,left:n,bottom:r,right:i}){return{x:a0(t.x,n,i),y:a0(t.y,e,r)}}function l0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function r2(t,e){return{x:l0(t.x,e.x),y:l0(t.y,e.y)}}function i2(t,e){let n=.5;const r=Nt(t),i=Nt(e);return i>r?n=_s(e.min,e.max-r,t.min):r>i&&(n=_s(t.min,t.max-i,e.min)),Nr(0,1,n)}function s2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _f=.35;function o2(t=_f){return t===!1?t=0:t===!0&&(t=_f),{x:u0(t,"left","right"),y:u0(t,"top","bottom")}}function u0(t,e,n){return{min:c0(t,e),max:c0(t,n)}}function c0(t,e){return typeof t=="number"?t:t[e]||0}const h0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ji=()=>({x:h0(),y:h0()}),d0=()=>({min:0,max:0}),Re=()=>({x:d0(),y:d0()});function Mt(t){return[t("x"),t("y")]}function PT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function a2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function l2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hh(t){return t===void 0||t===1}function wf({scale:t,scaleX:e,scaleY:n}){return!Hh(t)||!Hh(e)||!Hh(n)}function Jr(t){return wf(t)||AT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AT(t){return f0(t.x)||f0(t.y)}function f0(t){return t&&t!=="0%"}function Nu(t,e,n){const r=t-n,i=e*r;return n+i}function p0(t,e,n,r,i){return i!==void 0&&(t=Nu(t,i,r)),Nu(t,n,r)+e}function Ef(t,e=0,n=1,r,i){t.min=p0(t.min,e,n,r,i),t.max=p0(t.max,e,n,r,i)}function kT(t,{x:e,y:n}){Ef(t.x,e.translate,e.scale,e.originPoint),Ef(t.y,n.translate,n.scale,n.originPoint)}const m0=.999999999999,g0=1.0000000000001;function u2(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&es(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kT(t,o)),r&&Jr(s.latestValues)&&es(t,s.latestValues))}e.x<g0&&e.x>m0&&(e.x=1),e.y<g0&&e.y>m0&&(e.y=1)}function Zi(t,e){t.min=t.min+e,t.max=t.max+e}function y0(t,e,n,r,i=.5){const s=Te(t.min,t.max,i);Ef(t,e,n,s,r)}function es(t,e){y0(t.x,e.x,e.scaleX,e.scale,e.originX),y0(t.y,e.y,e.scaleY,e.scale,e.originY)}function RT(t,e){return PT(l2(t.getBoundingClientRect(),e))}function c2(t,e,n){const r=RT(t,n),{scroll:i}=e;return i&&(Zi(r.x,i.offset.x),Zi(r.y,i.offset.y)),r}const bT=({current:t})=>t?t.ownerDocument.defaultView:null,h2=new WeakMap;class d2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(h,"page").point)},s=(h,f)=>{const{drag:p,dragPropagation:w,onDragStart:x}=this.getProps();if(p&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xT(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(A=>{let _=this.getAxisMotionValue(A).get()||0;if(ln.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const E=y.layout.layoutBox[A];E&&(_=Nt(E)*(parseFloat(_)/100))}}this.originPoint[A]=_}),x&&ce.postRender(()=>x(h,f)),yf(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:w,onDirectionLock:x,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=f;if(w&&this.currentDirection===null){this.currentDirection=f2(A),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,A),this.updateAxis("y",f.point,A),this.visualElement.render(),S&&S(h,f)},a=(h,f)=>this.stop(h,f),u=()=>Mt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new wT(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:bT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ce.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!El(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=t2(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Xi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=n2(i.layoutBox,n):this.constraints=!1,this.elastic=o2(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=s2(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=c2(r,i.root,this.visualElement.getTransformPagePoint());let o=r2(i.layout.layoutBox,s);if(n){const a=n(a2(o));this.hasMutatedConstraints=!!a,a&&(o=PT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=Mt(h=>{if(!El(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,w=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yf(this.visualElement,e),r.start(am(e,r,0,n,this.visualElement,!1))}stopAnimation(){Mt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mt(n=>{const{drag:r}=this.getProps();if(!El(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();i[o]=i2({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mt(o=>{if(!El(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Te(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;h2.set(this.visualElement,this);const e=this.visualElement.current,n=On(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Xi(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ce.read(r);const o=An(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Mt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=_f,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function El(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function f2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class p2 extends $r{constructor(e){super(e),this.removeGroupControls=ct,this.removeListeners=ct,this.controls=new d2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const v0=t=>(e,n)=>{t&&ce.postRender(()=>t(e,n))};class m2 extends $r{constructor(){super(...arguments),this.removePointerDownListener=ct}onPointerDown(e){this.session=new wT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:v0(e),onStart:v0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ce.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=On(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _c=D.createContext(null);function g2(){const t=D.useContext(_c);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=D.useId();D.useEffect(()=>r(i),[]);const s=D.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const dm=D.createContext({}),NT=D.createContext({}),$l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=_0(t,e.target.x),r=_0(t,e.target.y);return`${n}% ${r}%`}},y2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Dr.parse(t);if(i.length>5)return r;const s=Dr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=Te(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Du={};function v2(t){Object.assign(Du,t)}const{schedule:fm}=VE(queueMicrotask,!1);class _2 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;v2(w2),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DT(t){const[e,n]=g2(),r=D.useContext(dm);return g.jsx(_2,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(NT),isPresent:e,safeToRemove:n})}const w2={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:y2},VT=["TopLeft","TopRight","BottomLeft","BottomRight"],E2=VT.length,w0=t=>typeof t=="string"?parseFloat(t):t,E0=t=>typeof t=="number"||G.test(t);function T2(t,e,n,r,i,s){i?(t.opacity=Te(0,n.opacity!==void 0?n.opacity:1,x2(r)),t.opacityExit=Te(e.opacity!==void 0?e.opacity:1,0,S2(r))):s&&(t.opacity=Te(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<E2;o++){const a=`border${VT[o]}Radius`;let u=T0(e,a),c=T0(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||E0(u)===E0(c)?(t[a]=Math.max(Te(w0(u),w0(c),r),0),(ln.test(c)||ln.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Te(e.rotate||0,n.rotate||0,r))}function T0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const x2=LT(0,.5,BE),S2=LT(.5,.95,ct);function LT(t,e,n){return r=>r<t?0:r>e?1:n(_s(t,e,r))}function x0(t,e){t.min=e.min,t.max=e.max}function Lt(t,e){x0(t.x,e.x),x0(t.y,e.y)}function S0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function I0(t,e,n,r,i){return t-=e,t=Nu(t,1/n,r),i!==void 0&&(t=Nu(t,1/i,r)),t}function I2(t,e=0,n=1,r=.5,i,s=t,o=t){if(ln.test(e)&&(e=parseFloat(e),e=Te(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Te(s.min,s.max,r);t===s&&(a-=e),t.min=I0(t.min,e,n,a,i),t.max=I0(t.max,e,n,a,i)}function C0(t,e,[n,r,i],s,o){I2(t,e[n],e[r],e[i],e.scale,s,o)}const C2=["x","scaleX","originX"],P2=["y","scaleY","originY"];function P0(t,e,n,r){C0(t.x,e,C2,n?n.x:void 0,r?r.x:void 0),C0(t.y,e,P2,n?n.y:void 0,r?r.y:void 0)}function A0(t){return t.translate===0&&t.scale===1}function MT(t){return A0(t.x)&&A0(t.y)}function k0(t,e){return t.min===e.min&&t.max===e.max}function A2(t,e){return k0(t.x,e.x)&&k0(t.y,e.y)}function R0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OT(t,e){return R0(t.x,e.x)&&R0(t.y,e.y)}function b0(t){return Nt(t.x)/Nt(t.y)}function N0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class k2{constructor(){this.members=[]}add(e){lm(this.members,e),e.scheduleRender()}remove(e){if(um(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R2(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:w,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),w&&(r+=`skewX(${w}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const b2=(t,e)=>t.depth-e.depth;class N2{constructor(){this.children=[],this.isDirty=!1}add(e){lm(this.children,e),this.isDirty=!0}remove(e){um(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b2),this.isDirty=!1,this.children.forEach(e)}}function ql(t){const e=ut(t)?t.get():t;return xb(e)?e.toValue():e}function D2(t,e){const n=un.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(br(r),t(s-e))};return ce.read(r,!0),()=>br(r)}function V2(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L2(t,e,n){const r=ut(t)?t:ha(t);return r.start(am("",r,e,n)),r.animation}const Zr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Eo=typeof window<"u"&&window.MotionDebug!==void 0,Gh=["","X","Y","Z"],M2={visibility:"hidden"},D0=1e3;let O2=0;function Kh(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function jT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ce,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&jT(r)}function FT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=O2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eo&&(Zr.totalNodes=Zr.resolvedTargetDeltas=Zr.recalculatedProjection=0),this.nodes.forEach(U2),this.nodes.forEach(W2),this.nodes.forEach(H2),this.nodes.forEach(B2),Eo&&window.MotionDebug.record(Zr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new N2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=V2(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=D2(p,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(L0))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||X2,{onLayoutAnimationStart:A,onLayoutAnimationComplete:_}=h.getProps(),y=!this.targetLayout||!OT(this.targetLayout,x)||w,E=!p&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const b={...Gp(S,"layout"),onPlay:A,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||L0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V0);return}this.isUpdating||this.nodes.forEach($2),this.isUpdating=!1,this.nodes.forEach(q2),this.nodes.forEach(j2),this.nodes.forEach(F2),this.clearAllSnapshots();const a=un.now();Ge.delta=Nr(0,1e3/60,a-Ge.timestamp),Ge.timestamp=a,Ge.isProcessing=!0,Fh.update.process(Ge),Fh.preRender.process(Ge),Fh.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z2),this.sharedNodes.forEach(K2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!MT(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Jr(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),J2(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Re();const u=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Z2))){const{scroll:h}=this.root;h&&(Zi(u.x,h.offset.x),Zi(u.y,h.offset.y))}return u}removeElementScroll(o){var a;const u=Re();if(Lt(u,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Lt(u,o),Zi(u.x,f.offset.x),Zi(u.y,f.offset.y))}return u}applyTransform(o,a=!1){const u=Re();Lt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&es(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Jr(h.latestValues)&&es(u,h.latestValues)}return Jr(this.latestValues)&&es(u,this.latestValues),u}removeTransform(o){const a=Re();Lt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Jr(c.latestValues))continue;wf(c.latestValues)&&c.updateSnapshot();const h=Re(),f=c.measurePageBox();Lt(h,f),P0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Jr(this.latestValues)&&P0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Oo(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lt(this.target,this.layout.layoutBox),kT(this.target,this.targetDelta)):Lt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Oo(this.relativeTargetOrigin,this.target,w.target),Lt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eo&&Zr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wf(this.parent.latestValues)||AT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Lt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,w=this.treeScale.y;u2(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Re());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(S0(this.prevProjectionDelta.x,this.projectionDelta.x),S0(this.prevProjectionDelta.y,this.projectionDelta.y)),Mo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==w||!N0(this.projectionDelta.x,this.prevProjectionDelta.x)||!N0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Eo&&Zr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ji(),this.projectionDelta=Ji(),this.projectionDeltaWithTransform=Ji()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=Ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Re(),w=u?u.source:void 0,x=this.layout?this.layout.source:void 0,S=w!==x,A=this.getStack(),_=!A||A.members.length<=1,y=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(Y2));this.animationProgress=0;let E;this.mixTargetDelta=b=>{const L=b/1e3;M0(f.x,o.x,L),M0(f.y,o.y,L),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q2(this.relativeTarget,this.relativeTargetOrigin,p,L),E&&A2(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Re()),Lt(E,this.relativeTarget)),S&&(this.animationValues=h,T2(h,c,this.latestValues,L,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{$l.hasAnimatedSinceResize=!0,this.currentAnimation=L2(0,D0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&UT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Re();const f=Nt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=Nt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}Lt(a,u),es(a,h),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new k2),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Kh("z",o,c,this.animationValues);for(let h=0;h<Gh.length;h++)Kh(`rotate${Gh[h]}`,o,c,this.animationValues),Kh(`skew${Gh[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return M2;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ql(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=ql(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=R2(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Du){if(p[S]===void 0)continue;const{correct:A,applyTo:_}=Du[S],y=c.transform==="none"?p[S]:A(p[S],f);if(_){const E=_.length;for(let b=0;b<E;b++)c[_[b]]=y}else c[S]=y}return this.options.layoutId&&(c.pointerEvents=f===this?ql(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(V0),this.root.sharedNodes.clear()}}}function j2(t){t.updateLayout()}function F2(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Mt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],w=Nt(p);p.min=r[f].min,p.max=p.min+w}):UT(s,n.layoutBox,r)&&Mt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],w=Nt(r[f]);p.max=p.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+w)});const a=Ji();Mo(a,r,n.layoutBox);const u=Ji();o?Mo(u,t.applyTransform(i,!0),n.measuredBox):Mo(u,r,n.layoutBox);const c=!MT(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:w}=f;if(p&&w){const x=Re();Oo(x,n.layoutBox,p.layoutBox);const S=Re();Oo(S,r,w.layoutBox),OT(x,S)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function U2(t){Eo&&Zr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z2(t){t.clearSnapshot()}function V0(t){t.clearMeasurements()}function $2(t){t.isLayoutDirty=!1}function q2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function L0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function W2(t){t.resolveTargetDelta()}function H2(t){t.calcProjection()}function G2(t){t.resetSkewAndRotation()}function K2(t){t.removeLeadSnapshot()}function M0(t,e,n){t.translate=Te(e.translate,0,n),t.scale=Te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function O0(t,e,n,r){t.min=Te(e.min,n.min,r),t.max=Te(e.max,n.max,r)}function Q2(t,e,n,r){O0(t.x,e.x,n.x,r),O0(t.y,e.y,n.y,r)}function Y2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const X2={duration:.45,ease:[.4,0,.1,1]},j0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),F0=j0("applewebkit/")&&!j0("chrome/")?Math.round:ct;function U0(t){t.min=F0(t.min),t.max=F0(t.max)}function J2(t){U0(t.x),U0(t.y)}function UT(t,e,n){return t==="position"||t==="preserve-aspect"&&!Zb(b0(e),b0(n),.2)}function Z2(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const eN=FT({attachResizeListener:(t,e)=>An(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qh={current:void 0},BT=FT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qh.current){const t=new eN({});t.mount(window),t.setOptions({layoutScroll:!0}),Qh.current=t}return Qh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tN={pan:{Feature:m2},drag:{Feature:p2,ProjectionNode:BT,MeasureLayout:DT}};function B0(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||ST())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const u=a[r];u&&ce.postRender(()=>u(s,o))};return On(t.current,n,i,{passive:!t.getProps()[r]})}class nN extends $r{mount(){this.unmount=Mn(B0(this.node,!0),B0(this.node,!1))}unmount(){}}class rN extends $r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mn(An(this.node.current,"focus",()=>this.onFocus()),An(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zT=(t,e)=>e?t===e?!0:zT(t,e.parentElement):!1;function Yh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vc(n))}class iN extends $r{constructor(){super(...arguments),this.removeStartListeners=ct,this.removeEndListeners=ct,this.removeAccessibleListeners=ct,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=On(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:f}=this.node.getProps(),p=!f&&!zT(this.node.current,a.target)?h:c;p&&ce.update(()=>p(a,u))},{passive:!(r.onTap||r.onPointerUp)}),o=On(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Mn(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Yh("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&ce.postRender(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=An(this.node.current,"keyup",o),Yh("down",(a,u)=>{this.startPress(a,u)})},n=An(this.node.current,"keydown",e),r=()=>{this.isPressing&&Yh("cancel",(s,o)=>this.cancelPress(s,o))},i=An(this.node.current,"blur",r);this.removeAccessibleListeners=Mn(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ce.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ST()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ce.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=On(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=An(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Mn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Tf=new WeakMap,Xh=new WeakMap,sN=t=>{const e=Tf.get(t.target);e&&e(t)},oN=t=>{t.forEach(sN)};function aN({root:t,...e}){const n=t||document;Xh.has(n)||Xh.set(n,{});const r=Xh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(oN,{root:t,...e})),r[i]}function lN(t,e,n){const r=aN(e);return Tf.set(t,n),r.observe(t),()=>{Tf.delete(t),r.unobserve(t)}}const uN={some:0,all:1};class cN extends $r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uN[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(u)};return lN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hN(e,n))&&this.startObserver()}unmount(){}}function hN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dN={inView:{Feature:cN},tap:{Feature:iN},focus:{Feature:rN},hover:{Feature:nN}},fN={layout:{ProjectionNode:BT,MeasureLayout:DT}},pm=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),wc=D.createContext({}),mm=typeof window<"u",$T=mm?D.useLayoutEffect:D.useEffect,qT=D.createContext({strict:!1});function pN(t,e,n,r,i){var s,o;const{visualElement:a}=D.useContext(wc),u=D.useContext(qT),c=D.useContext(_c),h=D.useContext(pm).reducedMotion,f=D.useRef();r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,w=D.useContext(NT);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&mN(f.current,n,i,w);const x=D.useRef(!1);D.useInsertionEffect(()=>{p&&x.current&&p.update(n,c)});const S=n[mT],A=D.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return $T(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),fm.render(p.render),A.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,S)}),A.current=!1))}),p}function mN(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WT(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Xi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}function WT(t){if(t)return t.options.allowProjection!==!1?t.projection:WT(t.parent)}function gN(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xi(n)&&(n.current=r))},[e])}function Ec(t){return mc(t.animate)||Hp.some(e=>la(t[e]))}function HT(t){return!!(Ec(t)||t.variants)}function yN(t,e){if(Ec(t)){const{initial:n,animate:r}=t;return{initial:n===!1||la(n)?n:void 0,animate:la(r)?r:void 0}}return t.inherit!==!1?e:{}}function vN(t){const{initial:e,animate:n}=yN(t,D.useContext(wc));return D.useMemo(()=>({initial:e,animate:n}),[z0(e),z0(n)])}function z0(t){return Array.isArray(t)?t.join(" "):t}const $0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ws={};for(const t in $0)ws[t]={isEnabled:e=>$0[t].some(n=>!!e[n])};function _N(t){for(const e in t)ws[e]={...ws[e],...t[e]}}const wN=Symbol.for("motionComponentSymbol");function EN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&_N(t);function s(a,u){let c;const h={...D.useContext(pm),...a,layoutId:TN(a)},{isStatic:f}=h,p=vN(a),w=r(a,f);if(!f&&mm){xN();const x=SN(h);c=x.MeasureLayout,p.visualElement=pN(i,w,h,e,x.ProjectionNode)}return g.jsxs(wc.Provider,{value:p,children:[c&&p.visualElement?g.jsx(c,{visualElement:p.visualElement,...h}):null,n(i,a,gN(w,p.visualElement,u),w,f,p.visualElement)]})}const o=D.forwardRef(s);return o[wN]=i,o}function TN({layoutId:t}){const e=D.useContext(dm).id;return e&&t!==void 0?e+"-"+t:t}function xN(t,e){D.useContext(qT).strict}function SN(t){const{drag:e,layout:n}=ws;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gm(t){return typeof t!="string"||t.includes("-")?!1:!!(IN.indexOf(t)>-1||/[A-Z]/u.test(t))}function GT(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const KT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QT(t,e,n,r){GT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(KT.has(i)?i:hm(i),e.attrs[i])}function YT(t,{layout:e,layoutId:n}){return xi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Du[t]||t==="opacity")}function ym(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ut(i[o])||e.style&&ut(e.style[o])||YT(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function XT(t,e,n){const r=ym(t,e,n);for(const i in t)if(ut(t[i])||ut(e[i])){const s=Ca.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function vm(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}function CN({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:PN(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const JT=t=>(e,n)=>{const r=D.useContext(wc),i=D.useContext(_c),s=()=>CN(t,e,r,i);return n?s():vm(s)};function PN(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=ql(s[p]);let{initial:o,animate:a}=t;const u=Ec(t),c=HT(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!mc(f)){const p=Array.isArray(f)?f:[f];for(let w=0;w<p.length;w++){const x=qp(t,p[w]);if(x){const{transitionEnd:S,transition:A,..._}=x;for(const y in _){let E=_[y];if(Array.isArray(E)){const b=h?E.length-1:0;E=E[b]}E!==null&&(i[y]=E)}for(const y in S)i[y]=S[y]}}}return i}const _m=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ZT=()=>({..._m(),attrs:{}}),ex=(t,e)=>e&&typeof t=="number"?e.transform(t):t,AN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kN=Ca.length;function RN(t,e,n){let r="",i=!0;for(let s=0;s<kN;s++){const o=Ca[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=ex(a,em[o]);if(!u){i=!1;const h=AN[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function wm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(xi.has(u)){o=!0;continue}else if(HE(u)){i[u]=c;continue}else{const h=ex(c,em[u]);u.startsWith("origin")?(a=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=RN(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${c} ${h}`}}function q0(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function bN(t,e,n){const r=q0(e,t.x,t.width),i=q0(n,t.y,t.height);return`${r} ${i}`}const NN={offset:"stroke-dashoffset",array:"stroke-dasharray"},DN={offset:"strokeDashoffset",array:"strokeDasharray"};function VN(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?NN:DN;t[s.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[s.array]=`${o} ${a}`}function Em(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f){if(wm(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:w,dimensions:x}=t;p.transform&&(x&&(w.transform=p.transform),delete p.transform),x&&(i!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=bN(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&VN(p,o,a,u,!1)}const Tm=t=>typeof t=="string"&&t.toLowerCase()==="svg",LN={useVisualState:JT({scrapeMotionValuesFromProps:XT,createRenderState:ZT,onMount:(t,e,{renderState:n,latestValues:r})=>{ce.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ce.render(()=>{Em(n,r,Tm(e.tagName),t.transformTemplate),QT(e,n)})}})},MN={useVisualState:JT({scrapeMotionValuesFromProps:ym,createRenderState:_m})};function tx(t,e,n){for(const r in e)!ut(e[r])&&!YT(r,n)&&(t[r]=e[r])}function ON({transformTemplate:t},e){return D.useMemo(()=>{const n=_m();return wm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jN(t,e){const n=t.style||{},r={};return tx(r,n,t),Object.assign(r,ON(t,e)),r}function FN(t,e){const n={},r=jN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UN.has(t)}let nx=t=>!Vu(t);function BN(t){t&&(nx=e=>e.startsWith("on")?!Vu(e):t(e))}try{BN(require("@emotion/is-prop-valid").default)}catch{}function zN(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nx(i)||n===!0&&Vu(i)||!e&&!Vu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function $N(t,e,n,r){const i=D.useMemo(()=>{const s=ZT();return Em(s,e,Tm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tx(s,t.style,t),i.style={...s,...i.style}}return i}function qN(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(gm(n)?$N:FN)(r,s,o,n),c=zN(r,typeof n=="string",t),h=n!==D.Fragment?{...c,...u,ref:i}:{},{children:f}=r,p=D.useMemo(()=>ut(f)?f.get():f,[f]);return D.createElement(n,{...h,children:p})}}function WN(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...gm(r)?LN:MN,preloadedFeatures:t,useRender:qN(i),createVisualElement:e,Component:r};return EN(o)}}const xf={current:null},rx={current:!1};function HN(){if(rx.current=!0,!!mm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xf.current=t.matches;t.addListener(e),e()}else xf.current=!1}function GN(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ut(i))t.addValue(r,i);else if(ut(s))t.addValue(r,ha(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ha(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const W0=new WeakMap,KN=[...QE,st,Dr],QN=t=>KN.find(KE(t)),H0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=un.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ce.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ec(n),this.isVariantNode=HT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const w=f[p];u[p]!==void 0&&ut(w)&&w.set(u[p],!1)}}mount(e){this.current=e,W0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rx.current||HN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){W0.delete(this.current),this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xi.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ws){const n=ws[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H0.length;r++){const i=H0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=GN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ha(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(qE(i)||$E(i))?i=parseFloat(i):!QN(i)&&Dr.test(n)&&(i=rT(e,n)),this.setBaseTarget(e,ut(i)?i.get():i)),ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=qp(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ut(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ix extends YN{constructor(){super(...arguments),this.KeyframeResolver=iT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function XN(t){return window.getComputedStyle(t)}class JN extends ix{constructor(){super(...arguments),this.type="html",this.renderInstance=GT}readValueFromInstance(e,n){if(xi.has(n)){const r=tm(n);return r&&r.default||0}else{const r=XN(e),i=(HE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RT(e,n)}build(e,n,r){wm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ym(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ZN extends ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xi.has(n)){const r=tm(n);return r&&r.default||0}return n=KT.has(n)?n:hm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return XT(e,n,r)}build(e,n,r){Em(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){QT(e,n,r,i)}mount(e){this.isSVGTag=Tm(e.tagName),super.mount(e)}}const eD=(t,e)=>gm(t)?new ZN(e):new JN(e,{allowProjection:t!==D.Fragment}),tD=WN({...qb,...dN,...tN,...fN},eD),le=Lk(tD);class nD extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rD({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=D.useContext(pm);return D.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),g.jsx(nD,{isPresent:e,childRef:r,sizeRef:i,children:D.cloneElement(t,{ref:r})})}const iD=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=vm(sD),u=D.useId(),c=D.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),h=D.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[n,c]);return D.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),D.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(rD,{isPresent:n,children:t})),g.jsx(_c.Provider,{value:h,children:t})};function sD(){return new Map}const Tl=t=>t.key||"";function G0(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Es=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=D.useMemo(()=>G0(t),[t]),u=a.map(Tl),c=D.useRef(!0),h=D.useRef(a),f=vm(()=>new Map),[p,w]=D.useState(a),[x,S]=D.useState(a);$T(()=>{c.current=!1,h.current=a;for(let y=0;y<x.length;y++){const E=Tl(x[y]);u.includes(E)?f.delete(E):f.get(E)!==!0&&f.set(E,!1)}},[x,u.length,u.join("-")]);const A=[];if(a!==p){let y=[...a];for(let E=0;E<x.length;E++){const b=x[E],L=Tl(b);u.includes(L)||(y.splice(E,0,b),A.push(b))}o==="wait"&&A.length&&(y=A),S(G0(y)),w(a);return}const{forceRender:_}=D.useContext(dm);return g.jsx(g.Fragment,{children:x.map(y=>{const E=Tl(y),b=a===x||u.includes(E),L=()=>{if(f.has(E))f.set(E,!0);else return;let O=!0;f.forEach(C=>{C||(O=!1)}),O&&(_==null||_(),S(h.current),i&&i())};return g.jsx(iD,{isPresent:b,initial:!c.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:b?void 0:L,children:y},E)})})},K0={Chest:{name:"Chest",exercises:[{id:1,name:"Barbell Bench Press",category:"Chest"},{id:12,name:"Incline Bench Press",category:"Chest"},{id:28,name:"Decline Bench Press",category:"Chest"},{id:16,name:"Chest Flyes",category:"Chest"},{id:25,name:"Push-ups",category:"Chest"},{id:22,name:"Dips",category:"Chest"},{id:35,name:"Cable Flyes",category:"Chest"},{id:47,name:"Machine Chest Press",category:"Chest"}]},Back:{name:"Back",exercises:[{id:2,name:"Pull-ups",category:"Back"},{id:9,name:"Lat Pulldowns",category:"Back"},{id:4,name:"Deadlift",category:"Back"},{id:15,name:"Dumbbell Rows",category:"Back"},{id:29,name:"T-Bar Rows",category:"Back"},{id:37,name:"Barbell Shrugs",category:"Back"},{id:40,name:"Dumbbell Pullovers",category:"Back"},{id:46,name:"Good Mornings",category:"Back"},{id:49,name:"Reverse Grip Pulldowns",category:"Back"}]},Legs:{name:"Legs",exercises:[{id:3,name:"Squats",category:"Legs"},{id:8,name:"Leg Press",category:"Legs"},{id:11,name:"Romanian Deadlift",category:"Legs"},{id:18,name:"Leg Extensions",category:"Legs"},{id:24,name:"Leg Curls",category:"Legs"},{id:26,name:"Calf Raises",category:"Legs"},{id:32,name:"Hip Thrusts",category:"Legs"},{id:41,name:"Standing Calf Raises",category:"Legs"},{id:48,name:"Glute Bridges",category:"Legs"}]},Shoulders:{name:"Shoulders",exercises:[{id:5,name:"Shoulder Press",category:"Shoulders"},{id:13,name:"Face Pulls",category:"Shoulders"},{id:20,name:"Lateral Raises",category:"Shoulders"},{id:23,name:"Reverse Flyes",category:"Shoulders"},{id:30,name:"Front Raises",category:"Shoulders"},{id:33,name:"Arnold Press",category:"Shoulders"},{id:36,name:"Seated Military Press",category:"Shoulders"},{id:45,name:"Upright Rows",category:"Shoulders"}]},Arms:{name:"Arms",exercises:[{id:6,name:"Bicep Curls",category:"Arms"},{id:7,name:"Tricep Pushdowns",category:"Arms"},{id:17,name:"Hammer Curls",category:"Arms"},{id:27,name:"Skull Crushers",category:"Arms"},{id:34,name:"Preacher Curls",category:"Arms"},{id:39,name:"Close Grip Bench Press",category:"Arms"},{id:43,name:"Concentration Curls",category:"Arms"}]},Core:{name:"Core",exercises:[{id:10,name:"Plank",category:"Core"},{id:21,name:"Cable Woodchoppers",category:"Core"},{id:31,name:"Russian Twists",category:"Core"},{id:38,name:"Reverse Crunches",category:"Core"},{id:42,name:"Decline Sit-ups",category:"Core"},{id:44,name:"Cable Crunches",category:"Core"},{id:50,name:"Side Plank",category:"Core"}]}},Tc=[{id:1,name:"Barbell Bench Press",category:"Chest",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Lie on a flat bench with your feet flat on the ground","Grip the barbell slightly wider than shoulder width","Lower the bar to your chest with controlled movement","Press the bar back up to starting position"],muscles:["Chest","Shoulders","Triceps"],equipment:"Barbell"},{id:2,name:"Pull-ups",category:"Back",difficulty:"Advanced",gifUrl:"https://images.unsplash.com/photo-1598971639058-b11fb6f4bb81?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1738&q=80",instructions:["Hang from pull-up bar with hands slightly wider than shoulders","Pull yourself up until chin is over the bar","Lower yourself with control to starting position"],muscles:["Back","Biceps","Shoulders"],equipment:"Pull-up Bar"},{id:3,name:"Squats",category:"Legs",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1574680096145-d05b474e2155?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Stand with feet shoulder-width apart","Lower your body by bending knees and hips","Keep your back straight and chest up","Return to starting position"],muscles:["Quadriceps","Hamstrings","Glutes"],equipment:"None"},{id:4,name:"Deadlift",category:"Back",difficulty:"Advanced",gifUrl:"https://images.unsplash.com/photo-1603287681836-b174ce5074c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Stand with feet hip-width apart","Bend at hips and knees to grasp barbell","Keep back straight and chest up","Lift bar by extending hips and knees","Return weight to ground with controlled movement"],muscles:["Back","Legs","Core"],equipment:"Barbell"},{id:5,name:"Shoulder Press",category:"Shoulders",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1532029837206-abbe2b7620e3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Sit or stand with dumbbells at shoulder height","Press weights overhead until arms are extended","Lower weights back to starting position"],muscles:["Shoulders","Triceps"],equipment:"Dumbbells"},{id:6,name:"Bicep Curls",category:"Arms",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Stand with dumbbells in hand, arms fully extended","Curl weights up towards shoulders","Lower weights back down with control","Keep elbows close to body throughout movement"],muscles:["Biceps"],equipment:"Dumbbells"},{id:7,name:"Tricep Pushdowns",category:"Arms",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1530822847156-5df684ec5ee1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Stand at cable machine with high attachment","Grip rope or bar at chest height","Push down until arms are fully extended","Control weight back up to starting position"],muscles:["Triceps"],equipment:"Cable Machine"},{id:8,name:"Leg Press",category:"Legs",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1534368420009-621bfab424a8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Sit in leg press machine with feet shoulder-width apart","Lower weight by bending knees","Push weight back up by extending legs","Don't lock knees at top of movement"],muscles:["Quadriceps","Hamstrings","Glutes"],equipment:"Leg Press Machine"},{id:9,name:"Lat Pulldowns",category:"Back",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1738&q=80",instructions:["Sit at lat pulldown machine","Grip bar wider than shoulder width","Pull bar down to upper chest","Control weight back up to starting position"],muscles:["Back","Biceps"],equipment:"Cable Machine"},{id:10,name:"Plank",category:"Core",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1566241142559-40e1dab266c6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80",instructions:["Start in push-up position on forearms","Keep body in straight line from head to heels","Hold position while engaging core","Maintain position for desired duration"],muscles:["Core","Shoulders"],equipment:"None"},{id:11,name:"Romanian Deadlift",category:"Legs",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1600026453346-a44501602a02?auto=format&fit=crop&w=1740&q=80",instructions:["Stand with feet hip-width apart holding barbell","Keep slight bend in knees","Hinge at hips while keeping back straight","Lower weight until you feel hamstring stretch","Return to starting position"],muscles:["Hamstrings","Lower Back","Glutes"],equipment:"Barbell"},{id:12,name:"Incline Bench Press",category:"Chest",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1597452485669-2c7bb5fef90d?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on incline bench set to 30-45 degrees","Grip barbell slightly wider than shoulders","Lower bar to upper chest","Press bar back up to starting position"],muscles:["Upper Chest","Shoulders","Triceps"],equipment:"Barbell, Incline Bench"},{id:13,name:"Face Pulls",category:"Shoulders",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?auto=format&fit=crop&w=1738&q=80",instructions:["Set cable machine to head height","Pull rope attachment to face level","Keep elbows high and wide","Squeeze shoulder blades together"],muscles:["Rear Deltoids","Upper Back","Rotator Cuff"],equipment:"Cable Machine"},{id:14,name:"Bulgarian Split Squats",category:"Legs",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1434608519344-49d77a699e1d?auto=format&fit=crop&w=1740&q=80",instructions:["Place one foot behind you on bench","Lower back knee toward ground","Keep front knee aligned with ankle","Push through front heel to stand"],muscles:["Quadriceps","Glutes","Hamstrings"],equipment:"Bench, Optional Dumbbells"},{id:15,name:"Dumbbell Rows",category:"Back",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1585152968992-d2b9444408cc?auto=format&fit=crop&w=1740&q=80",instructions:["Place one knee and hand on bench","Keep back parallel to ground","Pull dumbbell to hip","Lower with control"],muscles:["Upper Back","Lats","Biceps"],equipment:"Dumbbells, Bench"},{id:16,name:"Chest Flyes",category:"Chest",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1597347316205-36f6c451902a?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on bench with dumbbells extended above chest","Lower weights in wide arc","Keep slight bend in elbows","Squeeze chest to return to start"],muscles:["Chest","Shoulders"],equipment:"Dumbbells, Bench"},{id:17,name:"Hammer Curls",category:"Arms",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?auto=format&fit=crop&w=1740&q=80",instructions:["Stand with dumbbells at sides, palms facing each other","Curl weights while maintaining neutral grip","Lower with control","Keep elbows close to body"],muscles:["Biceps","Forearms"],equipment:"Dumbbells"},{id:18,name:"Leg Extensions",category:"Legs",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1517838277536-f5f99be501cd?auto=format&fit=crop&w=1740&q=80",instructions:["Sit in machine with back against pad","Hook feet under ankle pad","Extend legs fully","Lower with control"],muscles:["Quadriceps"],equipment:"Leg Extension Machine"},{id:19,name:"Seated Cable Rows",category:"Back",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1544033527-b192daee1f5b?auto=format&fit=crop&w=1740&q=80",instructions:["Sit at cable machine with feet on platform","Keep back straight","Pull handle to lower chest","Extend arms fully on return"],muscles:["Upper Back","Lats","Biceps"],equipment:"Cable Machine"},{id:20,name:"Lateral Raises",category:"Shoulders",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?auto=format&fit=crop&w=1738&q=80",instructions:["Stand with dumbbells at sides","Raise arms out to sides until parallel with ground","Keep slight bend in elbows","Lower with control"],muscles:["Lateral Deltoids"],equipment:"Dumbbells"},{id:21,name:"Cable Woodchoppers",category:"Core",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1549060279-7e168fcee0c2?auto=format&fit=crop&w=1740&q=80",instructions:["Set cable to high position","Rotate torso while pulling cable down and across body","Keep arms straight","Control return movement"],muscles:["Core","Obliques"],equipment:"Cable Machine"},{id:22,name:"Dips",category:"Chest",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1598266663439-2056e6900339?auto=format&fit=crop&w=1740&q=80",instructions:["Mount dip bars with straight arms","Lower body by bending elbows","Keep slight forward lean for chest focus","Push back to start position"],muscles:["Chest","Triceps","Shoulders"],equipment:"Dip Bars"},{id:23,name:"Reverse Flyes",category:"Shoulders",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1598268030450-7a476f602bf6?auto=format&fit=crop&w=1740&q=80",instructions:["Bend forward at hips","Keep back straight","Raise dumbbells out to sides","Squeeze shoulder blades together"],muscles:["Rear Deltoids","Upper Back"],equipment:"Dumbbells"},{id:24,name:"Leg Curls",category:"Legs",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1574680096145-d05b474e2155?auto=format&fit=crop&w=1740&q=80",instructions:["Lie face down on machine","Hook ankles under pad","Curl legs up towards buttocks","Lower with control"],muscles:["Hamstrings"],equipment:"Leg Curl Machine"},{id:25,name:"Push-ups",category:"Chest",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1598266663439-2056e6900339?auto=format&fit=crop&w=1740&q=80",instructions:["Start in plank position","Lower chest to ground","Keep body straight","Push back up to start"],muscles:["Chest","Shoulders","Triceps"],equipment:"None"},{id:26,name:"Calf Raises",category:"Legs",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1434608519344-49d77a699e1d?auto=format&fit=crop&w=1740&q=80",instructions:["Stand on edge of platform","Lower heels below platform level","Rise up onto toes","Lower with control"],muscles:["Calves"],equipment:"Platform"},{id:27,name:"Skull Crushers",category:"Arms",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on bench holding weight above chest","Bend elbows to lower weight toward forehead","Keep upper arms stationary","Extend arms to return to start"],muscles:["Triceps"],equipment:"Barbell or EZ Bar"},{id:28,name:"Decline Bench Press",category:"Chest",difficulty:"Advanced",gifUrl:"https://images.unsplash.com/photo-1597452485669-2c7bb5fef90d?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on decline bench","Grip barbell slightly wider than shoulders","Lower bar to lower chest","Press back to starting position"],muscles:["Lower Chest","Triceps"],equipment:"Barbell, Decline Bench"},{id:29,name:"T-Bar Rows",category:"Back",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1585152968992-d2b9444408cc?auto=format&fit=crop&w=1740&q=80",instructions:["Straddle T-bar with chest supported","Grip handles","Pull weight up to chest","Lower with control"],muscles:["Upper Back","Lats"],equipment:"T-Bar Row Machine"},{id:30,name:"Front Raises",category:"Shoulders",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1532029837206-abbe2b7620e3?auto=format&fit=crop&w=1740&q=80",instructions:["Stand holding weights in front of thighs","Raise arms straight in front to shoulder height","Keep slight bend in elbows","Lower with control"],muscles:["Front Deltoids"],equipment:"Dumbbells"},{id:31,name:"Russian Twists",category:"Core",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1566241142559-40e1dab266c6?auto=format&fit=crop&w=1740&q=80",instructions:["Sit with knees bent, feet off ground","Lean back slightly","Rotate torso side to side","Hold weight for added difficulty"],muscles:["Obliques","Core"],equipment:"Optional Weight"},{id:32,name:"Hip Thrusts",category:"Legs",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1574680096145-d05b474e2155?auto=format&fit=crop&w=1740&q=80",instructions:["Sit with upper back against bench","Roll barbell over hips","Drive hips up by squeezing glutes","Lower with control"],muscles:["Glutes","Hamstrings"],equipment:"Barbell, Bench"},{id:33,name:"Arnold Press",category:"Shoulders",difficulty:"Advanced",gifUrl:"https://images.unsplash.com/photo-1532029837206-abbe2b7620e3?auto=format&fit=crop&w=1740&q=80",instructions:["Start with dumbbells at shoulders, palms facing you","Press weights while rotating palms out","Lower while rotating palms back in","Return to start position"],muscles:["Shoulders","Triceps"],equipment:"Dumbbells"},{id:34,name:"Preacher Curls",category:"Arms",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?auto=format&fit=crop&w=1740&q=80",instructions:["Sit at preacher bench","Rest arms on pad","Curl weight up","Lower with control"],muscles:["Biceps"],equipment:"Barbell or Dumbbells"},{id:35,name:"Cable Flyes",category:"Chest",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1597347316205-36f6c451902a?auto=format&fit=crop&w=1740&q=80",instructions:["Stand between cable machines","Keep slight bend in elbows","Bring hands together in front","Control return movement"],muscles:["Chest"],equipment:"Cable Machine"},{id:36,name:"Seated Military Press",category:"Shoulders",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1532029837206-abbe2b7620e3?auto=format&fit=crop&w=1740&q=80",instructions:["Sit with back supported","Press barbell overhead","Lower to shoulder level","Keep core tight throughout"],muscles:["Shoulders","Triceps"],equipment:"Barbell"},{id:37,name:"Barbell Shrugs",category:"Back",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1603287681836-b174ce5074c2?auto=format&fit=crop&w=1740&q=80",instructions:["Hold barbell at arms length","Elevate shoulders straight up","Hold briefly at top","Lower with control"],muscles:["Traps"],equipment:"Barbell"},{id:38,name:"Reverse Crunches",category:"Core",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1566241142559-40e1dab266c6?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on back with legs up","Lift hips off ground","Roll back to starting position","Keep controlled movement"],muscles:["Lower Abs"],equipment:"None"},{id:39,name:"Close Grip Bench Press",category:"Arms",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?auto=format&fit=crop&w=1740&q=80",instructions:["Grip barbell shoulder width or closer","Lower bar to lower chest","Keep elbows close to body","Press back to start"],muscles:["Triceps","Chest"],equipment:"Barbell"},{id:40,name:"Dumbbell Pullovers",category:"Back",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1598971639058-b11fb6f4bb81?auto=format&fit=crop&w=1738&q=80",instructions:["Lie across bench with head supported","Hold dumbbell overhead with straight arms","Lower weight behind head","Return to start position"],muscles:["Lats","Chest"],equipment:"Dumbbell, Bench"},{id:41,name:"Standing Calf Raises",category:"Legs",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1434608519344-49d77a699e1d?auto=format&fit=crop&w=1740&q=80",instructions:["Stand on calf raise machine","Lower heels toward floor","Rise up onto toes","Lower with control"],muscles:["Calves"],equipment:"Calf Raise Machine"},{id:42,name:"Decline Sit-ups",category:"Core",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1566241142559-40e1dab266c6?auto=format&fit=crop&w=1740&q=80",instructions:["Secure feet in decline bench","Cross arms over chest","Sit up with control","Lower back down slowly"],muscles:["Upper Abs"],equipment:"Decline Bench"},{id:43,name:"Concentration Curls",category:"Arms",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?auto=format&fit=crop&w=1740&q=80",instructions:["Sit on bench with elbow on inner thigh","Curl weight toward shoulder","Lower with control","Keep upper arm stationary"],muscles:["Biceps"],equipment:"Dumbbell"},{id:44,name:"Cable Crunches",category:"Core",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1566241142559-40e1dab266c6?auto=format&fit=crop&w=1740&q=80",instructions:["Kneel facing cable machine","Hold rope attachment behind head","Crunch down toward floor","Control return movement"],muscles:["Abs"],equipment:"Cable Machine"},{id:45,name:"Upright Rows",category:"Shoulders",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1532029837206-abbe2b7620e3?auto=format&fit=crop&w=1740&q=80",instructions:["Stand holding barbell in front of thighs","Pull bar up to chin level","Keep elbows higher than forearms","Lower with control"],muscles:["Shoulders","Traps"],equipment:"Barbell"},{id:46,name:"Good Mornings",category:"Back",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1603287681836-b174ce5074c2?auto=format&fit=crop&w=1740&q=80",instructions:["Place barbell on upper back","Hinge at hips with slight knee bend","Lower torso until parallel with floor","Return to upright position"],muscles:["Lower Back","Hamstrings"],equipment:"Barbell"},{id:47,name:"Machine Chest Press",category:"Chest",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1597452485669-2c7bb5fef90d?auto=format&fit=crop&w=1740&q=80",instructions:["Adjust seat to chest height","Grip handles","Press weight forward","Control return movement"],muscles:["Chest","Shoulders","Triceps"],equipment:"Chest Press Machine"},{id:48,name:"Glute Bridges",category:"Legs",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1574680096145-d05b474e2155?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on back with knees bent","Feet flat on floor","Lift hips toward ceiling","Squeeze glutes at top"],muscles:["Glutes","Hamstrings"],equipment:"None"},{id:49,name:"Reverse Grip Pulldowns",category:"Back",difficulty:"Intermediate",gifUrl:"https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?auto=format&fit=crop&w=1738&q=80",instructions:["Grip bar with palms facing you","Pull bar to upper chest","Keep chest up","Control return movement"],muscles:["Lats","Biceps"],equipment:"Cable Machine"},{id:50,name:"Side Plank",category:"Core",difficulty:"Beginner",gifUrl:"https://images.unsplash.com/photo-1566241142559-40e1dab266c6?auto=format&fit=crop&w=1740&q=80",instructions:["Lie on side with forearm on ground","Lift hips off ground","Hold position","Keep body straight"],muscles:["Obliques","Core"],equipment:"None"}],oD=["All","Chest","Back","Legs","Shoulders","Arms","Core"],aD=["Beginner","Intermediate","Advanced"],Q0=()=>g.jsx("svg",{className:"absolute right-0 top-0 h-24 w-24 text-app-accent opacity-5 transform rotate-12",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5l6.74-6.76zM9 15H7v-2h2v2zm8.71-6.71l-5.42 5.42a1 1 0 0 1-1.41 0l-2.83-2.83a1 1 0 0 1 1.41-1.41l2.12 2.12 4.71-4.71a1 1 0 0 1 1.42 1.41z"})});function lD(){const[t,e]=D.useState("All"),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,a]=D.useState(null),u=Tc.filter(c=>{const h=t==="All"||c.category===t,f=!n||c.difficulty===n,p=c.name.toLowerCase().includes(i.toLowerCase())||c.category.toLowerCase().includes(i.toLowerCase());return h&&f&&p});return g.jsxs("div",{className:"container mx-auto px-4 py-8 grid-background min-h-screen",children:[g.jsxs("div",{className:"mb-12 text-center relative",children:[g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-300",children:"Exercise Library"}),g.jsx("p",{className:"text-app-text-secondary text-lg max-w-2xl mx-auto",children:"Discover and learn new exercises for your workout routine. Each exercise comes with detailed instructions and animations."})]}),g.jsx("div",{className:"absolute inset-0 bg-app-accent opacity-5 blur-3xl rounded-full"})]}),g.jsx("div",{className:"mb-12",children:g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex flex-wrap gap-4 justify-center",children:[g.jsxs("div",{className:"relative flex-1 max-w-xs",children:[g.jsx("input",{type:"text",placeholder:"Search exercises...",className:"input-field w-full pl-10",value:i,onChange:c=>s(c.target.value)}),g.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-app-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),g.jsx("select",{className:"input-field max-w-xs",value:t,onChange:c=>e(c.target.value),children:oD.map(c=>g.jsx("option",{value:c,children:c},c))}),g.jsxs("select",{className:"input-field max-w-xs",value:n,onChange:c=>r(c.target.value),children:[g.jsx("option",{value:"",children:"All Difficulties"}),aD.map(c=>g.jsx("option",{value:c,children:c},c))]})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.jsx(Es,{mode:"popLayout",children:u.map((c,h)=>g.jsxs(le.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:h*.1},className:"card group cursor-pointer relative overflow-hidden",onClick:()=>a(c),children:[g.jsx(Q0,{}),g.jsxs("div",{className:"aspect-w-16 aspect-h-9 mb-4 overflow-hidden rounded-xl relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-app-gray to-transparent opacity-50 z-10"}),g.jsx("img",{src:c.gifUrl,alt:c.name,className:"object-cover w-full h-full transform group-hover:scale-105 transition-transform duration-300"})]}),g.jsx("h3",{className:"text-xl font-semibold mb-3 group-hover:text-app-accent transition-colors",children:c.name}),g.jsxs("div",{className:"flex gap-2 mb-3",children:[g.jsx("span",{className:"px-3 py-1 bg-app-accent bg-opacity-10 text-app-accent rounded-full text-sm font-medium",children:c.category}),g.jsx("span",{className:"px-3 py-1 bg-white bg-opacity-5 text-app-text-secondary rounded-full text-sm font-medium",children:c.difficulty})]}),g.jsxs("p",{className:"text-app-text-secondary text-sm",children:["Equipment: ",c.equipment]})]},c.id))})}),g.jsx(Es,{children:o&&g.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>a(null),children:g.jsxs(le.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},onClick:c=>c.stopPropagation(),className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto relative",children:[g.jsx(Q0,{}),g.jsxs("div",{className:"aspect-w-16 aspect-h-9 mb-6 rounded-xl overflow-hidden relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-app-gray to-transparent opacity-50 z-10"}),g.jsx("img",{src:o.gifUrl,alt:o.name,className:"object-cover w-full h-full"})]}),g.jsx("h2",{className:"text-2xl font-bold mb-4 text-gradient",children:o.name}),g.jsxs("div",{className:"flex gap-3 mb-6",children:[g.jsx("span",{className:"px-3 py-1 bg-app-accent bg-opacity-10 text-app-accent rounded-full text-sm font-medium",children:o.category}),g.jsx("span",{className:"px-3 py-1 bg-white bg-opacity-5 text-app-text-secondary rounded-full text-sm font-medium",children:o.difficulty})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-2 text-gradient",children:"Equipment"}),g.jsx("p",{className:"text-app-text-secondary",children:o.equipment})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-3 text-gradient",children:"Instructions"}),g.jsx("ul",{className:"text-app-text-secondary space-y-3",children:o.instructions.map((c,h)=>g.jsxs(le.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:"flex gap-3 p-3 rounded-lg bg-white bg-opacity-5",children:[g.jsxs("span",{className:"text-app-accent font-medium",children:[h+1,"."]}),g.jsx("span",{children:c})]},h))})]})]}),g.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 rounded-full bg-white bg-opacity-10 text-app-text-secondary hover:text-app-text hover:bg-opacity-20 transition-all",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(p=64)),r.push(n[h],n[f],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new cD;const p=s<<2|a>>4;if(r.push(p),c!==64){const w=a<<4&240|c>>2;if(r.push(w),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hD=function(t){const e=sx(t);return ox.encodeByteArray(e,!0)},Lu=function(t){return hD(t).replace(/\./g,"")},ax=function(t){try{return ox.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=()=>dD().__FIREBASE_DEFAULTS__,pD=()=>{if(typeof process>"u"||typeof Y0>"u")return;const t=Y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ax(t[1]);return e&&JSON.parse(e)},xc=()=>{try{return fD()||pD()||mD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lx=t=>{var e,n;return(n=(e=xc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gD=t=>{const e=lx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ux=()=>{var t;return(t=xc())===null||t===void 0?void 0:t.config},cx=t=>{var e;return(e=xc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lu(JSON.stringify(n)),Lu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function wD(){var t;const e=(t=xc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ED(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SD(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ID(){return!wD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CD(){try{return typeof indexedDB=="object"}catch{return!1}}function PD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AD,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ka.prototype.create)}}class ka{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,r)}}function kD(t,e){return t.replace(RD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RD=/\{\$([^}]+)}/g;function bD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(X0(s)&&X0(o)){if(!Mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ND(t,e){const n=new DD(t,e);return n.subscribe.bind(n)}class DD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jh),i.error===void 0&&(i.error=Jh),i.complete===void 0&&(i.complete=Jh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OD(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MD(t){return t===ei?void 0:t}function OD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const FD={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},UD=te.INFO,BD={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},zD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=UD,this._logHandler=zD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const $D=(t,e)=>e.some(n=>t instanceof n);let J0,Z0;function qD(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WD(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hx=new WeakMap,Sf=new WeakMap,dx=new WeakMap,Zh=new WeakMap,Sm=new WeakMap;function HD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ir(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hx.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function GD(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let If={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KD(t){If=t(If)}function QD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ed(this),e,...n);return dx.set(r,e.sort?e.sort():[e]),Ir(r)}:WD().includes(t)?function(...e){return t.apply(ed(this),e),Ir(hx.get(this))}:function(...e){return Ir(t.apply(ed(this),e))}}function YD(t){return typeof t=="function"?QD(t):(t instanceof IDBTransaction&&GD(t),$D(t,qD())?new Proxy(t,If):t)}function Ir(t){if(t instanceof IDBRequest)return HD(t);if(Zh.has(t))return Zh.get(t);const e=YD(t);return e!==t&&(Zh.set(t,e),Sm.set(e,t)),e}const ed=t=>Sm.get(t);function XD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ir(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ir(o.result),u.oldVersion,u.newVersion,Ir(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JD=["get","getKey","getAll","getAllKeys","count"],ZD=["put","add","delete","clear"],td=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JD.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return td.set(e,s),s}KD(t=>({...t,get:(e,n,r)=>e_(e,n)||t.get(e,n,r),has:(e,n)=>!!e_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",t_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new xm("@firebase/app"),nV="@firebase/app-compat",rV="@firebase/analytics-compat",iV="@firebase/analytics",sV="@firebase/app-check-compat",oV="@firebase/app-check",aV="@firebase/auth",lV="@firebase/auth-compat",uV="@firebase/database",cV="@firebase/data-connect",hV="@firebase/database-compat",dV="@firebase/functions",fV="@firebase/functions-compat",pV="@firebase/installations",mV="@firebase/installations-compat",gV="@firebase/messaging",yV="@firebase/messaging-compat",vV="@firebase/performance",_V="@firebase/performance-compat",wV="@firebase/remote-config",EV="@firebase/remote-config-compat",TV="@firebase/storage",xV="@firebase/storage-compat",SV="@firebase/firestore",IV="@firebase/vertexai",CV="@firebase/firestore-compat",PV="firebase",AV="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",kV={[Cf]:"fire-core",[nV]:"fire-core-compat",[iV]:"fire-analytics",[rV]:"fire-analytics-compat",[oV]:"fire-app-check",[sV]:"fire-app-check-compat",[aV]:"fire-auth",[lV]:"fire-auth-compat",[uV]:"fire-rtdb",[cV]:"fire-data-connect",[hV]:"fire-rtdb-compat",[dV]:"fire-fn",[fV]:"fire-fn-compat",[pV]:"fire-iid",[mV]:"fire-iid-compat",[gV]:"fire-fcm",[yV]:"fire-fcm-compat",[vV]:"fire-perf",[_V]:"fire-perf-compat",[wV]:"fire-rc",[EV]:"fire-rc-compat",[TV]:"fire-gcs",[xV]:"fire-gcs-compat",[SV]:"fire-fst",[CV]:"fire-fst-compat",[IV]:"fire-vertex","fire-js":"fire-js",[PV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,RV=new Map,Af=new Map;function n_(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ts(t){const e=t.name;if(Af.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Af.set(e,t);for(const n of Ou.values())n_(n,t);for(const n of RV.values())n_(n,t);return!0}function Im(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new ka("app","Firebase",bV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=AV;function fx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=ux()),!n)throw Cr.create("no-options");const s=Ou.get(i);if(s){if(Mu(n,s.options)&&Mu(r,s.config))return s;throw Cr.create("duplicate-app",{appName:i})}const o=new jD(i);for(const u of Af.values())o.addComponent(u);const a=new NV(n,r,o);return Ou.set(i,a),a}function px(t=Pf){const e=Ou.get(t);if(!e&&t===Pf&&ux())return fx();if(!e)throw Cr.create("no-app",{appName:t});return e}function Pr(t,e,n){var r;let i=(r=kV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}Ts(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="firebase-heartbeat-database",VV=1,da="firebase-heartbeat-store";let nd=null;function mx(){return nd||(nd=XD(DV,VV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),nd}async function LV(t){try{const n=(await mx()).transaction(da),r=await n.objectStore(da).get(gx(t));return await n.done,r}catch(e){if(e instanceof Yn)$n.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function r_(t,e){try{const r=(await mx()).transaction(da,"readwrite");await r.objectStore(da).put(e,gx(t)),await r.done}catch(n){if(n instanceof Yn)$n.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(r.message)}}}function gx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1024,OV=30*24*60*60*1e3;class jV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=i_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=OV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$n.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:r,unsentEntries:i}=FV(this._heartbeatsCache.heartbeats),s=Lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function FV(t,e=MV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CD()?PD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function s_(t){return Lu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){Ts(new yi("platform-logger",e=>new eV(e),"PRIVATE")),Ts(new yi("heartbeat",e=>new jV(e),"PRIVATE")),Pr(Cf,t_,t),Pr(Cf,t_,"esm2017"),Pr("fire-js","")}BV("");var zV="firebase",$V="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(zV,$V,"app");function Cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qV=yx,vx=new ka("auth","Firebase",yx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new xm("@firebase/auth");function WV(t,...e){ju.logLevel<=te.WARN&&ju.warn(`Auth (${Fs}): ${t}`,...e)}function Wl(t,...e){ju.logLevel<=te.ERROR&&ju.error(`Auth (${Fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw Am(t,...e)}function Zt(t,...e){return Am(t,...e)}function Pm(t,e,n){const r=Object.assign(Object.assign({},qV()),{[e]:n});return new ka("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return Pm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fn(t,"argument-error"),Pm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Am(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vx.create(t,...e)}function Y(t,e,...n){if(!t)throw Am(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wl(e),new Error(e)}function qn(t,e){t||Rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GV(){return o_()==="http:"||o_()==="https:"}function o_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GV()||TD()||"connection"in navigator)?navigator.onLine:!0}function QV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=_D()||xD()}get(){return KV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new ba(3e4,6e4);function Rm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Us(t,e,n,r,i={}){return wx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ra(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return ED()||(c.referrerPolicy="no-referrer"),_x.fetch()(Ex(t,t.config.apiHost,n,a),c)})}async function wx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YV),e);try{const i=new ZV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw xl(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Pm(t,h,c);fn(t,h)}}catch(i){if(i instanceof Yn)throw i;fn(t,"network-request-failed",{message:String(i)})}}async function JV(t,e,n,r,i={}){const s=await Us(t,e,n,r,i);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ex(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?km(t.config,i):`${t.config.apiScheme}://${i}`}class ZV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zt(this.auth,"network-request-failed")),XV.get())})}}function xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function Tx(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tL(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=bm(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jo(rd(i.auth_time)),issuedAtTime:jo(rd(i.iat)),expirationTime:jo(rd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rd(t){return Number(t)*1e3}function bm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{const i=ax(n);return i?JSON.parse(i):(Wl("Failed to decode base64 JWT payload"),null)}catch(i){return Wl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a_(t){const e=bm(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&nL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fa(t,Tx(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xx(s.providerUserInfo):[],a=sL(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function iL(t){const e=qt(t);await Fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xx(t){return t.map(e=>{var{providerId:n}=e,r=Cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){const n=await wx(t,{},async()=>{const r=Ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ex(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_x.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aL(t,e){return Us(t,"POST","/v2/accounts:revokeToken",Rm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new as;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new as,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fa(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tL(this,e)}reload(){return iL(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await fa(this,eL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:b,isAnonymous:L,providerData:O,stsTokenManager:C}=n;Y(E&&C,e,"internal-error");const v=as.fromJSON(this.name,C);Y(typeof E=="string",e,"internal-error"),rr(f,e.name),rr(p,e.name),Y(typeof b=="boolean",e,"internal-error"),Y(typeof L=="boolean",e,"internal-error"),rr(w,e.name),rr(x,e.name),rr(S,e.name),rr(A,e.name),rr(_,e.name),rr(y,e.name);const P=new bn({uid:E,auth:e,email:p,emailVerified:b,displayName:f,isAnonymous:L,photoURL:x,phoneNumber:w,tenantId:S,stsTokenManager:v,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(P.providerData=O.map(I=>Object.assign({},I))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new as;i.updateFromServerResponse(n);const s=new bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new as;a.updateFromIdToken(r);const u=new bn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Rf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function Nn(t){qn(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sx.type="NONE";const u_=Sx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t,e,n){return`firebase:${t}:${e}:${n}`}class ls{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ls(Nn(u_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Nn(u_);const o=Hl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=bn._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ls(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ls(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ix(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rx(e))return"Blackberry";if(bx(e))return"Webos";if(Cx(e))return"Safari";if((e.includes("chrome/")||Px(e))&&!e.includes("edge/"))return"Chrome";if(kx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ix(t=dt()){return/firefox\//i.test(t)}function Cx(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Px(t=dt()){return/crios\//i.test(t)}function Ax(t=dt()){return/iemobile/i.test(t)}function kx(t=dt()){return/android/i.test(t)}function Rx(t=dt()){return/blackberry/i.test(t)}function bx(t=dt()){return/webos/i.test(t)}function Nm(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lL(t=dt()){var e;return Nm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uL(){return SD()&&document.documentMode===10}function Nx(t=dt()){return Nm(t)||kx(t)||bx(t)||Rx(t)||/windows phone/i.test(t)||Ax(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e=[]){let n;switch(t){case"Browser":n=c_(dt());break;case"Worker":n=`${c_(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return Us(t,"GET","/v2/passwordPolicy",Rm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=6;class fL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new cL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ls.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tx(this,{idToken:e}),r=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(ci(this));const n=e?qt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),n=new fL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ka("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nn(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sc(t){return qt(t)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ND(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mL(t){Dm=t}function gL(t){return Dm.loadJS(t)}function yL(){return Dm.gapiScript}function vL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e){const n=Im(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mu(s,e??{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}function wL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EL(t,e,n){const r=Sc(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Vx(e),{host:o,port:a}=TL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),xL()}function Vx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TL(t){const e=Vx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:d_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:d_(o)}}}function d_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e){return JV(t,"POST","/v1/accounts:signInWithIdp",Rm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="http://localhost";class vi extends Lx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Cm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,us(e,n)}buildRequest(){const e={requestUri:SL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ra(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Na{constructor(){super("facebook.com")}static credential(e){return vi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends Na{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vi._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return In.credential(n,r)}catch{return null}}}In.GOOGLE_SIGN_IN_METHOD="google.com";In.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Na{constructor(){super("github.com")}static credential(e){return vi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Na{constructor(){super("twitter.com")}static credential(e,n){return vi._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bn._fromIdTokenResponse(e,r,i),o=f_(r);return new xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=f_(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function f_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uu(e,n,r,i)}}function Mx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uu._fromErrorAndOperation(t,s,e,r):s})}async function IL(t,e,n=!1){const r=await fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const s=await fa(t,Mx(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=bm(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e,n=!1){if(kn(t.app))return Promise.reject(ci(t));const r="signIn",i=await Mx(t,r,e),s=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function AL(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function kL(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function RL(t){return qt(t).signOut()}const Bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=1e3,NL=10;class jx extends Ox{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jx.type="LOCAL";const DL=jx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends Ox{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fx.type="SESSION";const Ux=Fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ic(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await VL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Lm("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function ML(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function OL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FL(){return Bx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="firebaseLocalStorageDb",UL=1,zu="firebaseLocalStorage",$x="fbase_key";class Da{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cc(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function BL(){const t=indexedDB.deleteDatabase(zx);return new Da(t).toPromise()}function bf(){const t=indexedDB.open(zx,UL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zu,{keyPath:$x})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zu)?e(r):(r.close(),await BL(),e(await bf()))})})}async function p_(t,e,n){const r=Cc(t,!0).put({[$x]:e,value:n});return new Da(r).toPromise()}async function zL(t,e){const n=Cc(t,!1).get(e),r=await new Da(n).toPromise();return r===void 0?null:r.value}function m_(t,e){const n=Cc(t,!0).delete(e);return new Da(n).toPromise()}const $L=800,qL=3;class qx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ic._getInstance(FL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OL(),!this.activeServiceWorker)return;this.sender=new LL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bf();return await p_(e,Bu,"1"),await m_(e,Bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>p_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Cc(i,!1).getAll();return new Da(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qx.type="LOCAL";const WL=qx;new ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){return e?Nn(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Lx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HL(t){return PL(t.auth,new Mm(t),t.bypassAuthState)}function GL(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),CL(n,new Mm(t),t.bypassAuthState)}async function KL(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),IL(n,new Mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HL;case"linkViaPopup":case"linkViaRedirect":return KL;case"reauthViaPopup":case"reauthViaRedirect":return GL;default:fn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new ba(2e3,1e4);async function YL(t,e,n){if(kn(t.app))return Promise.reject(Zt(t,"operation-not-supported-in-this-environment"));const r=Sc(t);HV(t,e,Vm);const i=Wx(r,n);return new si(r,"signInViaPopup",e,i).executeNotNull()}class si extends Hx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,si.currentPopupAction&&si.currentPopupAction.cancel(),si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QL.get())};e()}}si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="pendingRedirect",Gl=new Map;class JL extends Hx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const r=await ZL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZL(t,e){const n=nM(e),r=tM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eM(t,e){Gl.set(t._key(),e)}function tM(t){return Nn(t._redirectPersistence)}function nM(t){return Hl(XL,t.config.apiKey,t.name)}async function rM(t,e,n=!1){if(kn(t.app))return Promise.reject(ci(t));const r=Sc(t),i=Wx(r,e),o=await new JL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=10*60*1e3;class sM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Gx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iM&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e={}){return Us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uM=/^https?/;async function cM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aM(t);for(const n of e)try{if(hM(n))return}catch{}fn(t,"unauthorized-domain")}function hM(t){const e=kf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uM.test(n))return!1;if(lM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new ba(3e4,6e4);function y_(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fM(t){return new Promise((e,n)=>{var r,i,s;function o(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),n(Zt(t,"network-request-failed"))},timeout:dM.get()})}if(!((i=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cn().gapi)===null||s===void 0)&&s.load)o();else{const a=vL("iframefcb");return cn()[a]=()=>{gapi.load?o():n(Zt(t,"network-request-failed"))},gL(`${yL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Kl=null,e})}let Kl=null;function pM(t){return Kl=Kl||fM(t),Kl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new ba(5e3,15e3),gM="__/auth/iframe",yM="emulator/auth/iframe",vM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_M=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wM(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?km(e,yM):`https://${t.config.authDomain}/${gM}`,r={apiKey:e.apiKey,appName:t.name,v:Fs},i=_M.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ra(r).slice(1)}`}async function EM(t){const e=await pM(t),n=cn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:wM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zt(t,"network-request-failed"),a=cn().setTimeout(()=>{s(o)},mM.get());function u(){cn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xM=500,SM=600,IM="_blank",CM="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PM(t,e,n,r=xM,i=SM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},TM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=dt().toLowerCase();n&&(a=Px(c)?IM:n),Ix(c)&&(e=e||CM,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[w,x])=>`${p}${w}=${x},`,"");if(lL(c)&&a!=="_self")return AM(e||"",a),new v_(null);const f=window.open(e||"",a,h);Y(f,t,"popup-blocked");try{f.focus()}catch{}return new v_(f)}function AM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="__/auth/handler",RM="emulator/auth/handler",bM=encodeURIComponent("fac");async function __(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fs,eventId:i};if(e instanceof Vm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Na){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${bM}=${encodeURIComponent(u)}`:"";return`${NM(t)}?${Ra(a).slice(1)}${c}`}function NM({config:t}){return t.emulator?km(t,RM):`https://${t.authDomain}/${kM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="webStorageSupport";class DM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ux,this._completeRedirectFn=rM,this._overrideRedirectResult=eM}async _openPopup(e,n,r,i){var s;qn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await __(e,n,r,kf(),i);return PM(e,o,Lm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await __(e,n,r,kf(),i);return ML(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EM(e),r=new sM(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(id,{type:id},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[id];o!==void 0&&n(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nx()||Cx()||Nm()}}const VM=DM;var w_="@firebase/auth",E_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OM(t){Ts(new yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dx(t)},c=new pL(r,i,s,u);return wL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ts(new yi("auth-internal",e=>{const n=Sc(e.getProvider("auth").getImmediate());return(r=>new LM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(w_,E_,MM(t)),Pr(w_,E_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=5*60,FM=cx("authIdTokenMaxAge")||jM;let T_=null;const UM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FM)return;const i=n==null?void 0:n.token;T_!==i&&(T_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BM(t=px()){const e=Im(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_L(t,{popupRedirectResolver:VM,persistence:[WL,DL,Ux]}),r=cx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=UM(s.toString());kL(n,o,()=>o(n.currentUser)),AL(n,a=>o(a))}}const i=lx("auth");return i&&EL(n,`http://${i}`),n}function zM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OM("Browser");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,Kx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,v){function P(){}P.prototype=v.prototype,C.D=v.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(I,R,N){for(var k=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)k[ft-2]=arguments[ft];return v.prototype[R].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,P){P||(P=0);var I=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)I[R]=v.charCodeAt(P++)|v.charCodeAt(P++)<<8|v.charCodeAt(P++)<<16|v.charCodeAt(P++)<<24;else for(R=0;16>R;++R)I[R]=v[P++]|v[P++]<<8|v[P++]<<16|v[P++]<<24;v=C.g[0],P=C.g[1],R=C.g[2];var N=C.g[3],k=v+(N^P&(R^N))+I[0]+3614090360&4294967295;v=P+(k<<7&4294967295|k>>>25),k=N+(R^v&(P^R))+I[1]+3905402710&4294967295,N=v+(k<<12&4294967295|k>>>20),k=R+(P^N&(v^P))+I[2]+606105819&4294967295,R=N+(k<<17&4294967295|k>>>15),k=P+(v^R&(N^v))+I[3]+3250441966&4294967295,P=R+(k<<22&4294967295|k>>>10),k=v+(N^P&(R^N))+I[4]+4118548399&4294967295,v=P+(k<<7&4294967295|k>>>25),k=N+(R^v&(P^R))+I[5]+1200080426&4294967295,N=v+(k<<12&4294967295|k>>>20),k=R+(P^N&(v^P))+I[6]+2821735955&4294967295,R=N+(k<<17&4294967295|k>>>15),k=P+(v^R&(N^v))+I[7]+4249261313&4294967295,P=R+(k<<22&4294967295|k>>>10),k=v+(N^P&(R^N))+I[8]+1770035416&4294967295,v=P+(k<<7&4294967295|k>>>25),k=N+(R^v&(P^R))+I[9]+2336552879&4294967295,N=v+(k<<12&4294967295|k>>>20),k=R+(P^N&(v^P))+I[10]+4294925233&4294967295,R=N+(k<<17&4294967295|k>>>15),k=P+(v^R&(N^v))+I[11]+2304563134&4294967295,P=R+(k<<22&4294967295|k>>>10),k=v+(N^P&(R^N))+I[12]+1804603682&4294967295,v=P+(k<<7&4294967295|k>>>25),k=N+(R^v&(P^R))+I[13]+4254626195&4294967295,N=v+(k<<12&4294967295|k>>>20),k=R+(P^N&(v^P))+I[14]+2792965006&4294967295,R=N+(k<<17&4294967295|k>>>15),k=P+(v^R&(N^v))+I[15]+1236535329&4294967295,P=R+(k<<22&4294967295|k>>>10),k=v+(R^N&(P^R))+I[1]+4129170786&4294967295,v=P+(k<<5&4294967295|k>>>27),k=N+(P^R&(v^P))+I[6]+3225465664&4294967295,N=v+(k<<9&4294967295|k>>>23),k=R+(v^P&(N^v))+I[11]+643717713&4294967295,R=N+(k<<14&4294967295|k>>>18),k=P+(N^v&(R^N))+I[0]+3921069994&4294967295,P=R+(k<<20&4294967295|k>>>12),k=v+(R^N&(P^R))+I[5]+3593408605&4294967295,v=P+(k<<5&4294967295|k>>>27),k=N+(P^R&(v^P))+I[10]+38016083&4294967295,N=v+(k<<9&4294967295|k>>>23),k=R+(v^P&(N^v))+I[15]+3634488961&4294967295,R=N+(k<<14&4294967295|k>>>18),k=P+(N^v&(R^N))+I[4]+3889429448&4294967295,P=R+(k<<20&4294967295|k>>>12),k=v+(R^N&(P^R))+I[9]+568446438&4294967295,v=P+(k<<5&4294967295|k>>>27),k=N+(P^R&(v^P))+I[14]+3275163606&4294967295,N=v+(k<<9&4294967295|k>>>23),k=R+(v^P&(N^v))+I[3]+4107603335&4294967295,R=N+(k<<14&4294967295|k>>>18),k=P+(N^v&(R^N))+I[8]+1163531501&4294967295,P=R+(k<<20&4294967295|k>>>12),k=v+(R^N&(P^R))+I[13]+2850285829&4294967295,v=P+(k<<5&4294967295|k>>>27),k=N+(P^R&(v^P))+I[2]+4243563512&4294967295,N=v+(k<<9&4294967295|k>>>23),k=R+(v^P&(N^v))+I[7]+1735328473&4294967295,R=N+(k<<14&4294967295|k>>>18),k=P+(N^v&(R^N))+I[12]+2368359562&4294967295,P=R+(k<<20&4294967295|k>>>12),k=v+(P^R^N)+I[5]+4294588738&4294967295,v=P+(k<<4&4294967295|k>>>28),k=N+(v^P^R)+I[8]+2272392833&4294967295,N=v+(k<<11&4294967295|k>>>21),k=R+(N^v^P)+I[11]+1839030562&4294967295,R=N+(k<<16&4294967295|k>>>16),k=P+(R^N^v)+I[14]+4259657740&4294967295,P=R+(k<<23&4294967295|k>>>9),k=v+(P^R^N)+I[1]+2763975236&4294967295,v=P+(k<<4&4294967295|k>>>28),k=N+(v^P^R)+I[4]+1272893353&4294967295,N=v+(k<<11&4294967295|k>>>21),k=R+(N^v^P)+I[7]+4139469664&4294967295,R=N+(k<<16&4294967295|k>>>16),k=P+(R^N^v)+I[10]+3200236656&4294967295,P=R+(k<<23&4294967295|k>>>9),k=v+(P^R^N)+I[13]+681279174&4294967295,v=P+(k<<4&4294967295|k>>>28),k=N+(v^P^R)+I[0]+3936430074&4294967295,N=v+(k<<11&4294967295|k>>>21),k=R+(N^v^P)+I[3]+3572445317&4294967295,R=N+(k<<16&4294967295|k>>>16),k=P+(R^N^v)+I[6]+76029189&4294967295,P=R+(k<<23&4294967295|k>>>9),k=v+(P^R^N)+I[9]+3654602809&4294967295,v=P+(k<<4&4294967295|k>>>28),k=N+(v^P^R)+I[12]+3873151461&4294967295,N=v+(k<<11&4294967295|k>>>21),k=R+(N^v^P)+I[15]+530742520&4294967295,R=N+(k<<16&4294967295|k>>>16),k=P+(R^N^v)+I[2]+3299628645&4294967295,P=R+(k<<23&4294967295|k>>>9),k=v+(R^(P|~N))+I[0]+4096336452&4294967295,v=P+(k<<6&4294967295|k>>>26),k=N+(P^(v|~R))+I[7]+1126891415&4294967295,N=v+(k<<10&4294967295|k>>>22),k=R+(v^(N|~P))+I[14]+2878612391&4294967295,R=N+(k<<15&4294967295|k>>>17),k=P+(N^(R|~v))+I[5]+4237533241&4294967295,P=R+(k<<21&4294967295|k>>>11),k=v+(R^(P|~N))+I[12]+1700485571&4294967295,v=P+(k<<6&4294967295|k>>>26),k=N+(P^(v|~R))+I[3]+2399980690&4294967295,N=v+(k<<10&4294967295|k>>>22),k=R+(v^(N|~P))+I[10]+4293915773&4294967295,R=N+(k<<15&4294967295|k>>>17),k=P+(N^(R|~v))+I[1]+2240044497&4294967295,P=R+(k<<21&4294967295|k>>>11),k=v+(R^(P|~N))+I[8]+1873313359&4294967295,v=P+(k<<6&4294967295|k>>>26),k=N+(P^(v|~R))+I[15]+4264355552&4294967295,N=v+(k<<10&4294967295|k>>>22),k=R+(v^(N|~P))+I[6]+2734768916&4294967295,R=N+(k<<15&4294967295|k>>>17),k=P+(N^(R|~v))+I[13]+1309151649&4294967295,P=R+(k<<21&4294967295|k>>>11),k=v+(R^(P|~N))+I[4]+4149444226&4294967295,v=P+(k<<6&4294967295|k>>>26),k=N+(P^(v|~R))+I[11]+3174756917&4294967295,N=v+(k<<10&4294967295|k>>>22),k=R+(v^(N|~P))+I[2]+718787259&4294967295,R=N+(k<<15&4294967295|k>>>17),k=P+(N^(R|~v))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var P=v-this.blockSize,I=this.B,R=this.h,N=0;N<v;){if(R==0)for(;N<=P;)i(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<v;)if(I[R++]=C.charCodeAt(N++),R==this.blockSize){i(this,I),R=0;break}}else for(;N<v;)if(I[R++]=C[N++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var P=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=P&255,P/=256;for(this.u(C),C=Array(16),v=P=0;4>v;++v)for(var I=0;32>I;I+=8)C[P++]=this.g[v]>>>I&255;return C};function s(C,v){var P=a;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=v(C)}function o(C,v){this.h=v;for(var P=[],I=!0,R=C.length-1;0<=R;R--){var N=C[R]|0;I&&N==v||(P[R]=N,I=!1)}this.g=P}var a={};function u(C){return-128<=C&&128>C?s(C,function(v){return new o([v|0],0>v?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return A(c(-C));for(var v=[],P=1,I=0;C>=P;I++)v[I]=C/P|0,P*=4294967296;return new o(v,0)}function h(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return A(h(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(v,8)),I=f,R=0;R<C.length;R+=8){var N=Math.min(8,C.length-R),k=parseInt(C.substring(R,R+N),v);8>N?(N=c(Math.pow(v,N)),I=I.j(N).add(c(k))):(I=I.j(P),I=I.add(c(k)))}return I}var f=u(0),p=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-A(this).m();for(var C=0,v=1,P=0;P<this.g.length;P++){var I=this.i(P);C+=(0<=I?I:4294967296+I)*v,v*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(S(this))return"-"+A(this).toString(C);for(var v=c(Math.pow(C,6)),P=this,I="";;){var R=b(P,v).g;P=_(P,R.j(v));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=R,x(P))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=_(this,C),S(C)?-1:x(C)?0:1};function A(C){for(var v=C.g.length,P=[],I=0;I<v;I++)P[I]=~C.g[I];return new o(P,~C.h).add(p)}t.abs=function(){return S(this)?A(this):this},t.add=function(C){for(var v=Math.max(this.g.length,C.g.length),P=[],I=0,R=0;R<=v;R++){var N=I+(this.i(R)&65535)+(C.i(R)&65535),k=(N>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);I=k>>>16,N&=65535,k&=65535,P[R]=k<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(C,v){return C.add(A(v))}t.j=function(C){if(x(this)||x(C))return f;if(S(this))return S(C)?A(this).j(A(C)):A(A(this).j(C));if(S(C))return A(this.j(A(C)));if(0>this.l(w)&&0>C.l(w))return c(this.m()*C.m());for(var v=this.g.length+C.g.length,P=[],I=0;I<2*v;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<C.g.length;R++){var N=this.i(I)>>>16,k=this.i(I)&65535,ft=C.i(R)>>>16,Jn=C.i(R)&65535;P[2*I+2*R]+=k*Jn,y(P,2*I+2*R),P[2*I+2*R+1]+=N*Jn,y(P,2*I+2*R+1),P[2*I+2*R+1]+=k*ft,y(P,2*I+2*R+1),P[2*I+2*R+2]+=N*ft,y(P,2*I+2*R+2)}for(I=0;I<v;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=v;I<2*v;I++)P[I]=0;return new o(P,0)};function y(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function E(C,v){this.g=C,this.h=v}function b(C,v){if(x(v))throw Error("division by zero");if(x(C))return new E(f,f);if(S(C))return v=b(A(C),v),new E(A(v.g),A(v.h));if(S(v))return v=b(C,A(v)),new E(A(v.g),v.h);if(30<C.g.length){if(S(C)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var P=p,I=v;0>=I.l(C);)P=L(P),I=L(I);var R=O(P,1),N=O(I,1);for(I=O(I,2),P=O(P,2);!x(I);){var k=N.add(I);0>=k.l(C)&&(R=R.add(P),N=k),I=O(I,1),P=O(P,1)}return v=_(C,R.j(v)),new E(R,v)}for(R=f;0<=C.l(v);){for(P=Math.max(1,Math.floor(C.m()/v.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(P),k=N.j(v);S(k)||0<k.l(C);)P-=I,N=c(P),k=N.j(v);x(N)&&(N=p),R=R.add(N),C=_(C,k)}return new E(R,C)}t.A=function(C){return b(this,C).h},t.and=function(C){for(var v=Math.max(this.g.length,C.g.length),P=[],I=0;I<v;I++)P[I]=this.i(I)&C.i(I);return new o(P,this.h&C.h)},t.or=function(C){for(var v=Math.max(this.g.length,C.g.length),P=[],I=0;I<v;I++)P[I]=this.i(I)|C.i(I);return new o(P,this.h|C.h)},t.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),P=[],I=0;I<v;I++)P[I]=this.i(I)^C.i(I);return new o(P,this.h^C.h)};function L(C){for(var v=C.g.length+1,P=[],I=0;I<v;I++)P[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(P,C.h)}function O(C,v){var P=v>>5;v%=32;for(var I=C.g.length-P,R=[],N=0;N<I;N++)R[N]=0<v?C.i(N+P)>>>v|C.i(N+P+1)<<32-v:C.i(N+P);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,hi=o}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qx,To,Yx,Ql,Nf,Xx,Jx,Zx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sl=="object"&&Sl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var V=l[T];if(!(V in m))break e;m=m[V]}l=l[l.length-1],T=m[l],d=d(T),d!=T&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var m=0,T=!1,V={next:function(){if(!T&&m<l.length){var M=m++;return{value:d(M,l[M]),done:!1}}return T=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function f(l,d,m){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),l.apply(d,V)}}return function(){return l.apply(d,arguments)}}function p(l,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function w(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function x(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(T,V,M){for(var B=Array(arguments.length-2),de=2;de<arguments.length;de++)B[de-2]=arguments[de];return d.prototype[V].apply(T,B)}}function S(l){const d=l.length;if(0<d){const m=Array(d);for(let T=0;T<d;T++)m[T]=l[T];return m}return[]}function A(l,d){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(u(T)){const V=l.length||0,M=T.length||0;l.length=V+M;for(let B=0;B<M;B++)l[V+B]=T[B]}else l.push(T)}}class _{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var L=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(l,d,m){for(const T in l)d.call(m,l[T],T,l)}function C(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function v(l){const d={};for(const m in l)d[m]=l[m];return d}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,d){let m,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(m in T)l[m]=T[m];for(let M=0;M<P.length;M++)m=P[M],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function R(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function k(){var l=K;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class ft{constructor(){this.h=this.g=null}add(d,m){const T=Jn.get();T.set(d,m),this.h?this.h.next=T:this.g=T,this.h=T}}var Jn=new _(()=>new Ai,l=>l.reset());class Ai{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,z=!1,K=new ft,X=()=>{const l=a.Promise.resolve(void 0);pe=()=>{l.then(we)}};var we=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(m){N(m)}var d=Jn;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var gn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function yn(l,d){if(Ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(L){e:{try{b(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:vn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&yn.aa.h.call(this)}}x(yn,Ae);var vn={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),PI=0;function AI(l,d,m,T,V){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!T,this.ha=V,this.key=++PI,this.da=this.fa=!1}function ja(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Fa(l){this.src=l,this.g={},this.h=0}Fa.prototype.add=function(l,d,m,T,V){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var B=qc(l,d,T,V);return-1<B?(d=l[B],m||(d.fa=!1)):(d=new AI(d,this.src,M,!!T,V),d.fa=m,l.push(d)),d};function $c(l,d){var m=d.type;if(m in l.g){var T=l.g[m],V=Array.prototype.indexOf.call(T,d,void 0),M;(M=0<=V)&&Array.prototype.splice.call(T,V,1),M&&(ja(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function qc(l,d,m,T){for(var V=0;V<l.length;++V){var M=l[V];if(!M.da&&M.listener==d&&M.capture==!!m&&M.ha==T)return V}return-1}var Wc="closure_lm_"+(1e6*Math.random()|0),Hc={};function gg(l,d,m,T,V){if(Array.isArray(d)){for(var M=0;M<d.length;M++)gg(l,d[M],m,T,V);return null}return m=_g(m),l&&l[_n]?l.K(d,m,c(T)?!!T.capture:!!T,V):kI(l,d,m,!1,T,V)}function kI(l,d,m,T,V,M){if(!d)throw Error("Invalid event type");var B=c(V)?!!V.capture:!!V,de=Kc(l);if(de||(l[Wc]=de=new Fa(l)),m=de.add(d,m,T,B,M),m.proxy)return m;if(T=RI(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)gn||(V=B),V===void 0&&(V=!1),l.addEventListener(d.toString(),T,V);else if(l.attachEvent)l.attachEvent(vg(d.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function RI(){function l(m){return d.call(l.src,l.listener,m)}const d=bI;return l}function yg(l,d,m,T,V){if(Array.isArray(d))for(var M=0;M<d.length;M++)yg(l,d[M],m,T,V);else T=c(T)?!!T.capture:!!T,m=_g(m),l&&l[_n]?(l=l.i,d=String(d).toString(),d in l.g&&(M=l.g[d],m=qc(M,m,T,V),-1<m&&(ja(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete l.g[d],l.h--)))):l&&(l=Kc(l))&&(d=l.g[d.toString()],l=-1,d&&(l=qc(d,m,T,V)),(m=-1<l?d[l]:null)&&Gc(m))}function Gc(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[_n])$c(d.i,l);else{var m=l.type,T=l.proxy;d.removeEventListener?d.removeEventListener(m,T,l.capture):d.detachEvent?d.detachEvent(vg(m),T):d.addListener&&d.removeListener&&d.removeListener(T),(m=Kc(d))?($c(m,l),m.h==0&&(m.src=null,d[Wc]=null)):ja(l)}}}function vg(l){return l in Hc?Hc[l]:Hc[l]="on"+l}function bI(l,d){if(l.da)l=!0;else{d=new yn(d,this);var m=l.listener,T=l.ha||l.src;l.fa&&Gc(l),l=m.call(T,d)}return l}function Kc(l){return l=l[Wc],l instanceof Fa?l:null}var Qc="__closure_events_fn_"+(1e9*Math.random()>>>0);function _g(l){return typeof l=="function"?l:(l[Qc]||(l[Qc]=function(d){return l.handleEvent(d)}),l[Qc])}function Ze(){he.call(this),this.i=new Fa(this),this.M=this,this.F=null}x(Ze,he),Ze.prototype[_n]=!0,Ze.prototype.removeEventListener=function(l,d,m,T){yg(this,l,d,m,T)};function pt(l,d){var m,T=l.F;if(T)for(m=[];T;T=T.F)m.push(T);if(l=l.M,T=d.type||d,typeof d=="string")d=new Ae(d,l);else if(d instanceof Ae)d.target=d.target||l;else{var V=d;d=new Ae(T,l),I(d,V)}if(V=!0,m)for(var M=m.length-1;0<=M;M--){var B=d.g=m[M];V=Ua(B,T,!0,d)&&V}if(B=d.g=l,V=Ua(B,T,!0,d)&&V,V=Ua(B,T,!1,d)&&V,m)for(M=0;M<m.length;M++)B=d.g=m[M],V=Ua(B,T,!1,d)&&V}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],T=0;T<m.length;T++)ja(m[T]);delete l.g[d],l.h--}}this.F=null},Ze.prototype.K=function(l,d,m,T){return this.i.add(String(l),d,!1,m,T)},Ze.prototype.L=function(l,d,m,T){return this.i.add(String(l),d,!0,m,T)};function Ua(l,d,m,T){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,M=0;M<d.length;++M){var B=d[M];if(B&&!B.da&&B.capture==m){var de=B.listener,We=B.ha||B.src;B.fa&&$c(l.i,B),V=de.call(We,T)!==!1&&V}}return V&&!T.defaultPrevented}function wg(l,d,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Eg(l){l.g=wg(()=>{l.g=null,l.i&&(l.i=!1,Eg(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class NI extends he{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Eg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(l){he.call(this),this.h=l,this.g={}}x(Gs,he);var Tg=[];function xg(l){O(l.g,function(d,m){this.g.hasOwnProperty(m)&&Gc(d)},l),l.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),xg(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yc=a.JSON.stringify,DI=a.JSON.parse,VI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Xc(){}Xc.prototype.h=null;function Sg(l){return l.h||(l.h=l.i())}function Ig(){}var Ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jc(){Ae.call(this,"d")}x(Jc,Ae);function Zc(){Ae.call(this,"c")}x(Zc,Ae);var Wr={},Cg=null;function Ba(){return Cg=Cg||new Ze}Wr.La="serverreachability";function Pg(l){Ae.call(this,Wr.La,l)}x(Pg,Ae);function Qs(l){const d=Ba();pt(d,new Pg(d))}Wr.STAT_EVENT="statevent";function Ag(l,d){Ae.call(this,Wr.STAT_EVENT,l),this.stat=d}x(Ag,Ae);function mt(l){const d=Ba();pt(d,new Ag(d,l))}Wr.Ma="timingevent";function kg(l,d){Ae.call(this,Wr.Ma,l),this.size=d}x(kg,Ae);function Ys(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function LI(l,d,m,T,V,M){l.info(function(){if(l.g)if(M)for(var B="",de=M.split("&"),We=0;We<de.length;We++){var oe=de[We].split("=");if(1<oe.length){var et=oe[0];oe=oe[1];var tt=et.split("_");B=2<=tt.length&&tt[1]=="type"?B+(et+"="+oe+"&"):B+(et+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+d+`
`+m+`
`+B})}function MI(l,d,m,T,V,M,B){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+d+`
`+m+`
`+M+" "+B})}function ki(l,d,m,T){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+jI(l,m)+(T?" "+T:"")})}function OI(l,d){l.info(function(){return"TIMEOUT: "+d})}Xs.prototype.info=function(){};function jI(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var T=m[l];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var M=V[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<V.length;B++)V[B]=""}}}}return Yc(m)}catch{return d}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},eh;function $a(){}x($a,Xc),$a.prototype.g=function(){return new XMLHttpRequest},$a.prototype.i=function(){return{}},eh=new $a;function Zn(l,d,m,T){this.j=l,this.i=d,this.l=m,this.R=T||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bg}function bg(){this.i=null,this.g="",this.h=!1}var Ng={},th={};function nh(l,d,m){l.L=1,l.v=Ga(wn(d)),l.m=m,l.P=!0,Dg(l,null)}function Dg(l,d){l.F=Date.now(),qa(l),l.A=wn(l.v);var m=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),Gg(m.i,"t",T),l.C=0,m=l.j.J,l.h=new bg,l.g=hy(l.j,m?d:null,!l.m),0<l.O&&(l.M=new NI(p(l.Y,l,l.g),l.O)),d=l.U,m=l.g,T=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(Tg[0]=V.toString()),V=Tg);for(var M=0;M<V.length;M++){var B=gg(m,V[M],T||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Qs(),LI(l.i,l.u,l.A,l.l,l.R,l.m)}Zn.prototype.ca=function(l){l=l.target;const d=this.M;d&&En(l)==3?d.j():this.Y(l)},Zn.prototype.Y=function(l){try{if(l==this.g)e:{const tt=En(this.g);var d=this.g.Ba();const Ni=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||ey(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Ni?Qs(3):Qs(2)),rh(this);var m=this.g.Z();this.X=m;t:if(Vg(this)){var T=ey(this.g);l="";var V=T.length,M=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hr(this),Js(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,l+=this.h.i.decode(T[d],{stream:!(M&&d==V-1)});T.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,MI(this.i,this.u,this.A,this.l,this.R,tt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var de,We=this.g;if((de=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(de)){var oe=de;break t}}oe=null}if(m=oe)ki(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ih(this,m);else{this.o=!1,this.s=3,mt(12),Hr(this),Js(this);break e}}if(this.P){m=!0;let Wt;for(;!this.J&&this.C<B.length;)if(Wt=FI(this,B),Wt==th){tt==4&&(this.s=4,mt(14),m=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Ng){this.s=4,mt(15),ki(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else ki(this.i,this.l,Wt,null),ih(this,Wt);if(Vg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||B.length!=0||this.h.h||(this.s=1,mt(16),m=!1),this.o=this.o&&m,!m)ki(this.i,this.l,B,"[Invalid Chunked Response]"),Hr(this),Js(this);else if(0<B.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),ch(et),et.M=!0,mt(11))}}else ki(this.i,this.l,B,null),ih(this,B);tt==4&&Hr(this),this.o&&!this.J&&(tt==4?ay(this.j,this):(this.o=!1,qa(this)))}else nC(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Hr(this),Js(this)}}}catch{}finally{}};function Vg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function FI(l,d){var m=l.C,T=d.indexOf(`
`,m);return T==-1?th:(m=Number(d.substring(m,T)),isNaN(m)?Ng:(T+=1,T+m>d.length?th:(d=d.slice(T,T+m),l.C=T+m,d)))}Zn.prototype.cancel=function(){this.J=!0,Hr(this)};function qa(l){l.S=Date.now()+l.I,Lg(l,l.I)}function Lg(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ys(p(l.ba,l),d)}function rh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Zn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(OI(this.i,this.A),this.L!=2&&(Qs(),mt(17)),Hr(this),this.s=2,Js(this)):Lg(this,this.S-l)};function Js(l){l.j.G==0||l.J||ay(l.j,l)}function Hr(l){rh(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,xg(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function ih(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||sh(m.h,l))){if(!l.K&&sh(m.h,l)&&m.G==3){try{var T=m.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Za(m),Xa(m);else break e;uh(m),mt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ys(p(m.Za,m),6e3));if(1>=jg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Kr(m,11)}else if((l.K||m.g==l)&&Za(m),!y(d))for(V=m.Da.g.parse(d),d=0;d<V.length;d++){let oe=V[d];if(m.T=oe[0],oe=oe[1],m.G==2)if(oe[0]=="c"){m.K=oe[1],m.ia=oe[2];const et=oe[3];et!=null&&(m.la=et,m.j.info("VER="+m.la));const tt=oe[4];tt!=null&&(m.Aa=tt,m.j.info("SVER="+m.Aa));const Ni=oe[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(T=1.5*Ni,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const Wt=l.g;if(Wt){const tl=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var M=T.h;M.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(oh(M,M.h),M.h=null))}if(T.D){const hh=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(T.ya=hh,me(T.I,T.D,hh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var B=l;if(T.qa=cy(T,T.J?T.ia:null,T.W),B.K){Fg(T.h,B);var de=B,We=T.L;We&&(de.I=We),de.B&&(rh(de),qa(de)),T.g=B}else sy(T);0<m.i.length&&Ja(m)}else oe[0]!="stop"&&oe[0]!="close"||Kr(m,7);else m.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Kr(m,7):lh(m):oe[0]!="noop"&&m.l&&m.l.ta(oe),m.v=0)}}Qs(4)}catch{}}var UI=class{constructor(l,d){this.g=l,this.map=d}};function Mg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Og(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function jg(l){return l.h?1:l.g?l.g.size:0}function sh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function oh(l,d){l.g?l.g.add(d):l.h=d}function Fg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Mg.prototype.cancel=function(){if(this.i=Ug(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ug(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return S(l.i)}function BI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,T=0;T<m;T++)d.push(l[T]);return d}d=[],m=0;for(T in l)d[m++]=l[T];return d}function zI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const T in l)d[m++]=T;return d}}}function Bg(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=zI(l),T=BI(l),V=T.length,M=0;M<V;M++)d.call(void 0,T[M],m&&m[M],l)}var zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $I(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var T=l[m].indexOf("="),V=null;if(0<=T){var M=l[m].substring(0,T);V=l[m].substring(T+1)}else M=l[m];d(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Gr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Gr){this.h=l.h,Wa(this,l.j),this.o=l.o,this.g=l.g,Ha(this,l.s),this.l=l.l;var d=l.i,m=new to;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),$g(this,m),this.m=l.m}else l&&(d=String(l).match(zg))?(this.h=!1,Wa(this,d[1]||"",!0),this.o=Zs(d[2]||""),this.g=Zs(d[3]||"",!0),Ha(this,d[4]),this.l=Zs(d[5]||"",!0),$g(this,d[6]||"",!0),this.m=Zs(d[7]||"")):(this.h=!1,this.i=new to(null,this.h))}Gr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(eo(d,qg,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(eo(d,qg,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(eo(m,m.charAt(0)=="/"?HI:WI,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",eo(m,KI)),l.join("")};function wn(l){return new Gr(l)}function Wa(l,d,m){l.j=m?Zs(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ha(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function $g(l,d,m){d instanceof to?(l.i=d,QI(l.i,l.h)):(m||(d=eo(d,GI)),l.i=new to(d,l.h))}function me(l,d,m){l.i.set(d,m)}function Ga(l){return me(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Zs(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function eo(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,qI),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function qI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var qg=/[#\/\?@]/g,WI=/[#\?:]/g,HI=/[#\?]/g,GI=/[#\?@]/g,KI=/#/g;function to(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function er(l){l.g||(l.g=new Map,l.h=0,l.i&&$I(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=to.prototype,t.add=function(l,d){er(this),this.i=null,l=Ri(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Wg(l,d){er(l),d=Ri(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Hg(l,d){return er(l),d=Ri(l,d),l.g.has(d)}t.forEach=function(l,d){er(this),this.g.forEach(function(m,T){m.forEach(function(V){l.call(d,V,T,this)},this)},this)},t.na=function(){er(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let T=0;T<d.length;T++){const V=l[T];for(let M=0;M<V.length;M++)m.push(d[T])}return m},t.V=function(l){er(this);let d=[];if(typeof l=="string")Hg(this,l)&&(d=d.concat(this.g.get(Ri(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return er(this),this.i=null,l=Ri(this,l),Hg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Gg(l,d,m){Wg(l,d),0<m.length&&(l.i=null,l.g.set(Ri(l,d),S(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var T=d[m];const M=encodeURIComponent(String(T)),B=this.V(T);for(T=0;T<B.length;T++){var V=M;B[T]!==""&&(V+="="+encodeURIComponent(String(B[T]))),l.push(V)}}return this.i=l.join("&")};function Ri(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function QI(l,d){d&&!l.j&&(er(l),l.i=null,l.g.forEach(function(m,T){var V=T.toLowerCase();T!=V&&(Wg(this,T),Gg(this,V,m))},l)),l.j=d}function YI(l,d){const m=new Xs;if(a.Image){const T=new Image;T.onload=w(tr,m,"TestLoadImage: loaded",!0,d,T),T.onerror=w(tr,m,"TestLoadImage: error",!1,d,T),T.onabort=w(tr,m,"TestLoadImage: abort",!1,d,T),T.ontimeout=w(tr,m,"TestLoadImage: timeout",!1,d,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else d(!1)}function XI(l,d){const m=new Xs,T=new AbortController,V=setTimeout(()=>{T.abort(),tr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:T.signal}).then(M=>{clearTimeout(V),M.ok?tr(m,"TestPingServer: ok",!0,d):tr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),tr(m,"TestPingServer: error",!1,d)})}function tr(l,d,m,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(m)}catch{}}function JI(){this.g=new VI}function ZI(l,d,m){const T=m||"";try{Bg(l,function(V,M){let B=V;c(V)&&(B=Yc(V)),d.push(T+M+"="+encodeURIComponent(B))})}catch(V){throw d.push(T+"type="+encodeURIComponent("_badmap")),V}}function Ka(l){this.l=l.Ub||null,this.j=l.eb||!1}x(Ka,Xc),Ka.prototype.g=function(){return new Qa(this.l,this.j)},Ka.prototype.i=function(l){return function(){return l}}({});function Qa(l,d){Ze.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Qa,Ze),t=Qa.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,ro(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ro(this)),this.g&&(this.readyState=3,ro(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?no(this):ro(this),this.readyState==3&&Kg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,no(this))},t.Qa=function(l){this.g&&(this.response=l,no(this))},t.ga=function(){this.g&&no(this)};function no(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ro(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function ro(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Qg(l){let d="";return O(l,function(m,T){d+=T,d+=":",d+=m,d+=`\r
`}),d}function ah(l,d,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Qg(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):me(l,d,m))}function Ce(l){Ze.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ce,Ze);var eC=/^https?$/i,tC=["POST","PUT"];t=Ce.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eh.g(),this.v=this.o?Sg(this.o):Sg(eh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){Yg(this,M);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)m.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const M of T.keys())m.set(M,T.get(M));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tC,d,void 0))||T||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of m)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zg(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Yg(this,M)}};function Yg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Xg(l),Ya(l)}function Xg(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),Ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jg(this):this.bb())},t.bb=function(){Jg(this)};function Jg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||En(l)!=4||l.Z()!=2)){if(l.u&&En(l)==4)wg(l.Ea,0,l);else if(pt(l,"readystatechange"),En(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var T;if(T=B===0){var V=String(l.D).match(zg)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),T=!eC.test(V?V.toLowerCase():"")}m=T}if(m)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var M=2<En(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Xg(l)}}finally{Ya(l)}}}}function Ya(l,d){if(l.g){Zg(l);const m=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||pt(l,"ready");try{m.onreadystatechange=T}catch{}}}function Zg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function En(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),DI(d)}};function ey(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function nC(l){const d={};l=(l.g&&2<=En(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(y(l[T]))continue;var m=R(l[T]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=d[V]||[];d[V]=M,M.push(m)}C(d,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function io(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function ty(l){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=io("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=io("baseRetryDelayMs",5e3,l),this.cb=io("retryDelaySeedMs",1e4,l),this.Wa=io("forwardChannelMaxRetries",2,l),this.wa=io("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Mg(l&&l.concurrentRequestLimit),this.Da=new JI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ty.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,T){mt(0),this.W=l,this.H=d||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=cy(this,null,this.W),Ja(this)};function lh(l){if(ny(l),l.G==3){var d=l.U++,m=wn(l.I);if(me(m,"SID",l.K),me(m,"RID",d),me(m,"TYPE","terminate"),so(l,m),d=new Zn(l,l.j,d),d.L=2,d.v=Ga(wn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=hy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),qa(d)}uy(l)}function Xa(l){l.g&&(ch(l),l.g.cancel(),l.g=null)}function ny(l){Xa(l),l.u&&(a.clearTimeout(l.u),l.u=null),Za(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ja(l){if(!Og(l.h)&&!l.s){l.s=!0;var d=l.Ga;pe||X(),z||(pe(),z=!0),K.add(d,l),l.B=0}}function rC(l,d){return jg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ys(p(l.Ga,l,d),ly(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new Zn(this,this.j,l);let M=this.o;if(this.S&&(M?(M=v(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(V.H=M,M=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=iy(this,V,d),m=wn(this.I),me(m,"RID",l),me(m,"CVER",22),this.D&&me(m,"X-HTTP-Session-Id",this.D),so(this,m),M&&(this.O?d="headers="+encodeURIComponent(String(Qg(M)))+"&"+d:this.m&&ah(m,this.m,M)),oh(this.h,V),this.Ua&&me(m,"TYPE","init"),this.P?(me(m,"$req",d),me(m,"SID","null"),V.T=!0,nh(V,m,null)):nh(V,m,d),this.G=2}}else this.G==3&&(l?ry(this,l):this.i.length==0||Og(this.h)||ry(this))};function ry(l,d){var m;d?m=d.l:m=l.U++;const T=wn(l.I);me(T,"SID",l.K),me(T,"RID",m),me(T,"AID",l.T),so(l,T),l.m&&l.o&&ah(T,l.m,l.o),m=new Zn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=iy(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),oh(l.h,m),nh(m,T,d)}function so(l,d){l.H&&O(l.H,function(m,T){me(d,T,m)}),l.l&&Bg({},function(m,T){me(d,T,m)})}function iy(l,d,m){m=Math.min(l.i.length,m);var T=l.l?p(l.l.Na,l.l,l):null;e:{var V=l.i;let M=-1;for(;;){const B=["count="+m];M==-1?0<m?(M=V[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let de=!0;for(let We=0;We<m;We++){let oe=V[We].g;const et=V[We].map;if(oe-=M,0>oe)M=Math.max(0,V[We].g-100),de=!1;else try{ZI(et,B,"req"+oe+"_")}catch{T&&T(et)}}if(de){T=B.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,T}function sy(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;pe||X(),z||(pe(),z=!0),K.add(d,l),l.v=0}}function uh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ys(p(l.Fa,l),ly(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,oy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ys(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Xa(this),oy(this))};function ch(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function oy(l){l.g=new Zn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=wn(l.qa);me(d,"RID","rpc"),me(d,"SID",l.K),me(d,"AID",l.T),me(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&me(d,"TO",l.ja),me(d,"TYPE","xmlhttp"),so(l,d),l.m&&l.o&&ah(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ga(wn(d)),m.m=null,m.P=!0,Dg(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),uh(this),mt(19))};function Za(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ay(l,d){var m=null;if(l.g==d){Za(l),ch(l),l.g=null;var T=2}else if(sh(l.h,d))m=d.D,Fg(l.h,d),T=1;else return;if(l.G!=0){if(d.o)if(T==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var V=l.B;T=Ba(),pt(T,new kg(T,m)),Ja(l)}else sy(l);else if(V=d.s,V==3||V==0&&0<d.X||!(T==1&&rC(l,d)||T==2&&uh(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),V){case 1:Kr(l,5);break;case 4:Kr(l,10);break;case 3:Kr(l,6);break;default:Kr(l,2)}}}function ly(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Kr(l,d){if(l.j.info("Error code "+d),d==2){var m=p(l.fb,l),T=l.Xa;const V=!T;T=new Gr(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wa(T,"https"),Ga(T),V?YI(T.toString(),m):XI(T.toString(),m)}else mt(2);l.G=0,l.l&&l.l.sa(d),uy(l),ny(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function uy(l){if(l.G=0,l.ka=[],l.l){const d=Ug(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function cy(l,d,m){var T=m instanceof Gr?wn(m):new Gr(m);if(T.g!="")d&&(T.g=d+"."+T.g),Ha(T,T.s);else{var V=a.location;T=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var M=new Gr(null);T&&Wa(M,T),d&&(M.g=d),V&&Ha(M,V),m&&(M.l=m),T=M}return m=l.D,d=l.ya,m&&d&&me(T,m,d),me(T,"VER",l.la),so(l,T),T}function hy(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ce(new Ka({eb:m})):new Ce(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dy(){}t=dy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function el(){}el.prototype.g=function(l,d){return new Ct(l,d)};function Ct(l,d){Ze.call(this),this.g=new ty(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!y(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new bi(this)}x(Ct,Ze),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){lh(this.g)},Ct.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Yc(l),l=m);d.i.push(new UI(d.Ya++,l)),d.G==3&&Ja(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,lh(this.g),delete this.g,Ct.aa.N.call(this)};function fy(l){Jc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}x(fy,Jc);function py(){Zc.call(this),this.status=1}x(py,Zc);function bi(l){this.g=l}x(bi,dy),bi.prototype.ua=function(){pt(this.g,"a")},bi.prototype.ta=function(l){pt(this.g,new fy(l))},bi.prototype.sa=function(l){pt(this.g,new py)},bi.prototype.ra=function(){pt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,Zx=function(){return new el},Jx=function(){return Ba()},Xx=Wr,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Ql=za,Rg.COMPLETE="complete",Yx=Rg,Ig.EventType=Ks,Ks.OPEN="a",Ks.CLOSE="b",Ks.ERROR="c",Ks.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,To=Ig,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,Qx=Ce}).apply(typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new xm("@firebase/firestore");function Vi(){return _i.logLevel}function $(t,...e){if(_i.logLevel<=te.DEBUG){const n=e.map(Om);_i.debug(`Firestore (${Bs}): ${t}`,...n)}}function Wn(t,...e){if(_i.logLevel<=te.ERROR){const n=e.map(Om);_i.error(`Firestore (${Bs}): ${t}`,...n)}}function Ss(t,...e){if(_i.logLevel<=te.WARN){const n=e.map(Om);_i.warn(`Firestore (${Bs}): ${t}`,...n)}}function Om(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function ae(t,e){t||Q()}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}}class qM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WM{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new eS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new ot(e)}}class HM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ae(this.o===void 0);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string"),this.R=n.token,new KM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Fe(0,0))}static max(){return new J(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends pa{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const XM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends pa{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return XM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(_e.fromString(e))}static fromName(e){return new H(_e.fromString(e).popFirst(5))}static empty(){return new H(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new _e(e.slice()))}}function JM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Vr(i,H.empty(),e)}function ZM(t){return new Vr(t.readTime,t.key,-1)}class Vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vr(J.min(),H.empty(),-1)}static max(){return new Vr(J.max(),H.empty(),-1)}}function e4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==t4)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function r4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pc.oe=-1;function Ac(t){return t==null}function $u(t){return t===0&&1/t==-1/0}function i4(t){return typeof t=="number"&&Number.isInteger(t)&&!$u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I_(e)),e=o4(t.get(n),e);return I_(e)}function o4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function I_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||Ke.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Ke.EMPTY,this.right=s??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ke.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new Ue(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rS("Invalid base64 string: "+s):s}}(e);return new Je(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Je(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const a4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(ae(!!t),typeof t=="string"){let e=0;const n=a4.exec(t);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?Je.fromBase64String(t):Je.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kc(t){const e=t.mapValue.fields.__previous_value__;return jm(e)?kc(e):e}function ma(t){const e=Lr(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jm(t)?4:c4(t)?9007199254740991:u4(t)?10:11:Q()}function pn(t,e){if(t===e)return!0;const n=Or(t);if(n!==Or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Lr(i.timestampValue),a=Lr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mr(i.bytesValue).isEqual(Mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=be(i.doubleValue),a=be(s.doubleValue);return o===a?$u(o)===$u(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(C_(o)!==C_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!pn(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function ya(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Cs(t,e){if(t===e)return 0;const n=Or(t),r=Or(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(ma(t),ma(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Mr(s),u=Mr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=re(a[c],u[c]);if(h!==0)return h}return re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(be(s.latitude),be(o.latitude));return a!==0?a:re(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},p=o.fields||{},w=(a=f.value)===null||a===void 0?void 0:a.arrayValue,x=(u=p.value)===null||u===void 0?void 0:u.arrayValue,S=re(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:k_(w,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Cl.mapValue&&o===Cl.mapValue)return 0;if(s===Cl.mapValue)return 1;if(o===Cl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=re(u[f],h[f]);if(p!==0)return p;const w=Cs(a[u[f]],c[h[f]]);if(w!==0)return w}return re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Lr(t),r=Lr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Cs(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function Ps(t){return Df(t)}function Df(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Df(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Df(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function Yl(t){switch(Or(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(t);return e?16+Yl(e):16;case 5:return 2*t.stringValue.length;case 6:return Mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Yl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Si(r.fields,(s,o)=>{i+=s.length+Yl(o)}),i}(t.mapValue);default:throw Q()}}function Vf(t){return!!t&&"integerValue"in t}function Fm(t){return!!t&&"arrayValue"in t}function R_(t){return!!t&&"nullValue"in t}function b_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xl(t){return!!t&&"mapValue"in t}function u4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function c4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fo(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(Fo(this.value))}}function iS(t){const e=[];return Si(t.fields,(n,r)=>{const i=new Qe([n]);if(Xl(r)){const s=iS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new lt(e,0,J.min(),J.min(),J.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new lt(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new lt(e,2,n,J.min(),J.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new lt(e,3,n,J.min(),J.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.position=e,this.inclusive=n}}function N_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Cs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function h4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Oe extends sS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f4(e,n,r):n==="array-contains"?new g4(e,r):n==="in"?new y4(e,r):n==="not-in"?new v4(e,r):n==="array-contains-any"?new _4(e,r):new Oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new p4(e,r):new m4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cs(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(Cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mn(e,n)}matches(e){return oS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oS(t){return t.op==="and"}function aS(t){return d4(t)&&oS(t)}function d4(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Lf(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+Ps(t.value);if(aS(t))return t.filters.map(e=>Lf(e)).join(",");{const e=t.filters.map(n=>Lf(n)).join(",");return`${t.op}(${e})`}}function lS(t,e){return t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lS(o,i.filters[a]),!0):!1}(t,e):void Q()}function uS(t){return t instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ps(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"}(t):"Filter"}class f4 extends Oe{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class p4 extends Oe{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m4 extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class g4 extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&ya(n.arrayValue,this.value)}}class y4 extends Oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}}class v4 extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}}class _4 extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ya(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function V_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new w4(t,e,n,r,i,s,o)}function Um(t){const e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ps(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ps(r)).join(",")),e.ue=n}return e.ue}function Bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function Mf(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function E4(t,e,n,r,i,s,o,a){return new Rc(t,e,n,r,i,s,o,a)}function zm(t){return new Rc(t)}function L_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T4(t){return t.collectionGroup!==null}function Uo(t){const e=Z(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ue(Qe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wu(s,r))}),n.has(Qe.keyField().canonicalString())||e.ce.push(new Wu(Qe.keyField(),r))}return e.ce}function hn(t){const e=Z(t);return e.le||(e.le=x4(e,Uo(t))),e.le}function x4(t,e){if(t.limitType==="F")return V_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qu(t.startAt.position,t.startAt.inclusive):null;return V_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Of(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bc(t,e){return Bm(hn(t),hn(e))&&t.limitType===e.limitType}function hS(t){return`${Um(hn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uS(i)).join(", ")}]`),Ac(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ps(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ps(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function Nc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Uo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=N_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Uo(r),i)||r.endAt&&!function(o,a,u){const c=N_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Uo(r),i))}(t,e)}function S4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,n)=>{let r=!1;for(const i of Uo(t)){const s=I4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I4(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Cs(u,c):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new Ie(H.comparator);function Hn(){return C4}const fS=new Ie(H.comparator);function xo(...t){let e=fS;for(const n of t)e=e.insert(n.key,n);return e}function pS(t){let e=fS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return Bo()}function mS(){return Bo()}function Bo(){return new Ii(t=>t.toString(),(t,e)=>t.isEqual(e))}const P4=new Ie(H.comparator),A4=new Ue(H.comparator);function ne(...t){let e=A4;for(const n of t)e=e.add(n);return e}const k4=new Ue(re);function R4(){return k4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function gS(t){return{integerValue:""+t}}function b4(t,e){return i4(e)?gS(e):$m(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function N4(t,e,n){return t instanceof va?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jm(s)&&(s=kc(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof _a?vS(t,e):t instanceof wa?_S(t,e):function(i,s){const o=yS(i,s),a=M_(o)+M_(i.Pe);return Vf(o)&&Vf(i.Pe)?gS(a):$m(i.serializer,a)}(t,e)}function D4(t,e,n){return t instanceof _a?vS(t,e):t instanceof wa?_S(t,e):n}function yS(t,e){return t instanceof Hu?function(r){return Vf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class va extends Dc{}class _a extends Dc{constructor(e){super(),this.elements=e}}function vS(t,e){const n=wS(e);for(const r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}class wa extends Dc{constructor(e){super(),this.elements=e}}function _S(t,e){let n=wS(e);for(const r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}class Hu extends Dc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function M_(t){return be(t.integerValue||t.doubleValue)}function wS(t){return Fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.field=e,this.transform=n}}function L4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _a&&i instanceof _a||r instanceof wa&&i instanceof wa?Is(r.elements,i.elements,pn):r instanceof Hu&&i instanceof Hu?pn(r.Pe,i.Pe):r instanceof va&&i instanceof va}(t.transform,e.transform)}class M4{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vc{}function ES(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qm(t.key,en.none()):new Va(t.key,t.data,en.none());{const n=t.data,r=Ft.empty();let i=new Ue(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new Yt(i.toArray()),en.none())}}function O4(t,e,n){t instanceof Va?function(i,s,o){const a=i.value.clone(),u=j_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,s,o){if(!Jl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=j_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(TS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zo(t,e,n,r){return t instanceof Va?function(s,o,a,u){if(!Jl(s.precondition,o))return a;const c=s.value.clone(),h=F_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(s,o,a,u){if(!Jl(s.precondition,o))return a;const c=F_(s.fieldTransforms,u,o),h=o.data;return h.setAll(TS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Jl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function j4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yS(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function O_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Is(r,i,(s,o)=>L4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Va extends Vc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends Vc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j_(t,e,n){const r=new Map;ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,D4(o,a,n[i]))}return r}function F_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,N4(s,o,e))}return r}class qm extends Vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F4 extends Vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&O4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=ES(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>O_(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>O_(n,r))}}class Wm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length);let i=function(){return P4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,ie;function $4(t){switch(t){default:return Q();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function xS(t){if(t===void 0)return Wn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ve.OK:return F.OK;case Ve.CANCELLED:return F.CANCELLED;case Ve.UNKNOWN:return F.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return F.INTERNAL;case Ve.UNAVAILABLE:return F.UNAVAILABLE;case Ve.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ve.NOT_FOUND:return F.NOT_FOUND;case Ve.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ve.ABORTED:return F.ABORTED;case Ve.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ve.DATA_LOSS:return F.DATA_LOSS;default:return Q()}}(ie=Ve||(Ve={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new hi([4294967295,4294967295],0);function U_(t){const e=q4().encode(t),n=new Kx;return n.update(e),new Uint8Array(n.digest())}function B_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hi([n,r],0),new hi([i,s],0)]}class Hm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(r<0)throw new So(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=hi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(hi.fromNumber(r)));return i.compare(W4)===1&&(i=new hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=U_(e),[r,i]=B_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=U_(e),[r,i]=B_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lc(J.min(),i,new Ie(re),Hn(),ne())}}class La{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new La(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SS{constructor(e,n){this.targetId=e,this.me=n}}class IS{constructor(e,n,r=Je.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class z_{constructor(){this.fe=0,this.ge=$_(),this.pe=Je.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ne(),n=ne(),r=ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new La(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hn(),this.qe=Pl(),this.Qe=Pl(),this.Ke=new Ie(re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Mf(s))if(r===0){const o=new H(s.path);this.We(n,o,lt.newNoDocument(o,J.min()))}else ae(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mr(r).toUint8Array()}catch(u){if(u instanceof rS)return Ss("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Hm(o,i,s)}catch(u){return Ss(u instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Mf(a.target)){const u=new H(a.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,lt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Lc(e,n,this.Ke,this.ke,r);return this.ke=Hn(),this.qe=Pl(),this.Qe=Pl(),this.Ke=new Ie(re),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new z_,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ue(re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ue(re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new z_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Pl(){return new Ie(H.comparator)}function $_(){return new Ie(H.comparator)}const G4={asc:"ASCENDING",desc:"DESCENDING"},K4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q4={and:"AND",or:"OR"};class Y4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jf(t,e){return t.useProto3Json||Ac(e)?e:{value:e}}function Gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X4(t,e){return Gu(t,e.toTimestamp())}function dn(t){return ae(!!t),J.fromTimestamp(function(n){const r=Lr(n);return new Fe(r.seconds,r.nanos)}(t))}function Gm(t,e){return Ff(t,e).canonicalString()}function Ff(t,e){const n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PS(t){const e=_e.fromString(t);return ae(NS(e)),e}function Uf(t,e){return Gm(t.databaseId,e.path)}function sd(t,e){const n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(kS(n))}function AS(t,e){return Gm(t.databaseId,e)}function J4(t){const e=PS(t);return e.length===4?_e.emptyPath():kS(e)}function Bf(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kS(t){return ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function q_(t,e,n){return{name:Uf(t,e),fields:n.value.mapValue.fields}}function Z4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ae(h===void 0||typeof h=="string"),Je.fromBase64String(h||"")):(ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Je.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:xS(c.code);return new W(h,c.message||"")}(o);n=new IS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sd(t,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):J.min(),a=new Ft({mapValue:{fields:r.document.fields}}),u=lt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Zl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sd(t,r.document),s=r.readTime?dn(r.readTime):J.min(),o=lt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sd(t,r.document),s=r.removedTargetIds||[];n=new Zl([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new z4(i,s),a=r.targetId;n=new SS(a,o)}}return n}function eO(t,e){let n;if(e instanceof Va)n={update:q_(t,e.key,e.value)};else if(e instanceof qm)n={delete:Uf(t,e.key)};else if(e instanceof Ci)n={update:q_(t,e.key,e.data),updateMask:uO(e.fieldMask)};else{if(!(e instanceof F4))return Q();n={verify:Uf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof va)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:X4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function tO(t,e){return t&&t.length>0?(ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?dn(i.updateTime):dn(s);return o.isEqual(J.min())&&(o=dn(s)),new M4(o,i.transformResults||[])}(n,e))):[]}function nO(t,e){return{documents:[AS(t,e.path)]}}function rO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AS(t,i);const s=function(c){if(c.length!==0)return bS(mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Mi(p.field),direction:oO(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function iO(t){let e=J4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=RS(f);return p instanceof mn&&aS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new Wu(Oi(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ac(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,w=f.values||[];return new qu(w,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,w=f.values||[];return new qu(w,p)}(n.endAt)),E4(e,i,o,s,a,"F",u,c)}function sO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oi(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oi(n.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Oi(n.unaryFilter.field);return Oe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oi(n.unaryFilter.field);return Oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Oe.create(Oi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>RS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function oO(t){return G4[t]}function aO(t){return K4[t]}function lO(t){return Q4[t]}function Mi(t){return{fieldPath:t.canonicalString()}}function Oi(t){return Qe.fromServerFormat(t.fieldPath)}function bS(t){return t instanceof Oe?function(n){if(n.op==="=="){if(b_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(n.field),op:aO(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(i=>bS(i));return r.length===1?r[0]:{compositeFilter:{op:lO(n.op),filters:r}}}(t):Q()}function uO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=Je.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.ht=e}}function hO(t){const e=iO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.ln=new fO}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Vr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class fO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ue(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(41943040,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new As(0)}static Qn(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class pO{constructor(e){this.Gn=e,this.buffer=new Ue(H_),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();H_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await zs(n)}await this.Yn(3e5)})}}class gO{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Pc.oe);const r=new pO(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(W_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Vi()<=te.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function yO(t,e){return new gO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.changes=new Ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zo(r.mutation,i,Yt.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xo();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hn();const o=Bo(),a=function(){return Bo()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ci)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),zo(h.mutation,c,h.mutation.getFieldMask(),Fe.now())):o.set(c.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new _O(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bo();let i=new Ie((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Yt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||ne()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=mS();h.forEach(p=>{if(!s.has(p)){const w=ES(n.get(p),r.get(p));w!==null&&f.set(p,w),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(oi());let a=-1,u=s;return o.next(c=>j.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ne())).next(h=>({batchId:a,changes:pS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=xo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=xo();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,u=>{const c=function(f,p){return new Rc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,lt.newInvalidDocument(h)))});let a=xo();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&zo(h.mutation,c,Yt.empty(),Fe.now()),Nc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:hO(i.bundledQuery),readTime:dn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new Ie(H.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=oi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new B4(n,r));let s=this.Er.get(n);s===void 0&&(s=ne(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.dr=new Ue(ze.Ar),this.Rr=new Ue(ze.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ze(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new H(new _e([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new H(new _e([])),r=new ze(n,e),i=new ze(n,e+1);let s=ne();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ze(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return H.comparator(e.key,n.key)||re(e.br,n.br)}static Vr(e,n){return re(e.br,n.br)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ue(ze.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new U4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ue(re);return n.forEach(i=>{const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),j.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new ze(new H(s),0);let a=new Ue(re);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.br)),!0)},o),j.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return j.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ze(n,0),i=this.vr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.Nr=e,this.docs=function(){return new Ie(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hn();const o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||e4(ZM(h),r)<=0||(i.has(h.key)||Nc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Lr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CO(this)}getSize(e){return j.resolve(this.size)}}class CO extends vO{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.persistence=e,this.Br=new Ii(n=>Um(n),Bm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.kr=0,this.qr=new Km,this.targetCount=0,this.Qr=As.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new As(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Pc(0),this.Ur=!1,this.Ur=!0,this.Wr=new xO,this.referenceDelegate=e(this),this.Gr=new PO(this),this.indexManager=new dO,this.remoteDocumentCache=function(i){return new IO(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new cO(n),this.jr=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new SO(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new AO(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return j.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class AO extends n4{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Zr=new Km,this.Xr=null}static ei(e){return new Qm(e)}get ti(){if(this.Xr)return this.Xr;throw Q()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,r=>{const i=H.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Ku{constructor(e,n){this.persistence=e,this.ri=new Ii(r=>s4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=yO(this,n)}static ei(e,n){return new Ku(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yl(e.data.value)),n}ir(e,n,r){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ym(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return ID()?8:r4(dt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kO;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Vi()<=te.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Vi()<=te.DEBUG&&$("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Vi()<=te.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):j.resolve())}Xi(e,n){if(L_(n))return j.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Of(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,a);return this.ss(n,c,o,u.readTime)?this.Xi(e,Of(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return L_(n)||i.isEqual(J.min())?j.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?j.resolve(null):(Vi()<=te.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Li(n)),this.os(e,o,n,JM(i,-1)).next(a=>a))})}rs(e,n){let r=new Ue(dS(e));return n.forEach((i,s)=>{Nc(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Vi()<=te.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Li(n)),this.Zi.getDocumentsMatchingQuery(e,n,Vr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ie(re),this.cs=new Ii(s=>Um(s),Bm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wO(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function NO(t,e,n,r){return new bO(t,e,n,r)}async function VS(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ne();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function DO(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let w=j.resolve();return p.forEach(x=>{w=w.next(()=>h.getEntry(u,x)).next(S=>{const A=c.docVersions.get(x);ae(A!==null),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LS(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function VO(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Gr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(s,h.addedDocuments,f)));let w=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(Je.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(f,w),function(S,A,_){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,w,h)&&a.push(n.Gr.updateTargetData(s,w))});let u=Hn(),c=ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(LO(s,o,e.documentUpdates).next(h=>{u=h.Is,c=h.Es})),!r.isEqual(J.min())){const h=n.Gr.getLastRemoteSnapshotVersion(s).next(f=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.us=i,s))}function LO(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Is:o,Es:i}})}function MO(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OO(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function zf(t,e,n){const r=Z(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$s(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function G_(t,e,n){const r=Z(t);let i=J.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=Z(u),p=f.cs.get(h);return p!==void 0?j.resolve(f.us.get(p)):f.Gr.getTargetData(c,h)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ne())).next(a=>(jO(r,S4(e),a),{documents:a,ds:s})))}function jO(t,e,n){let r=t.ls.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class K_{constructor(){this.activeTargetIds=R4()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FO{constructor(){this._o=new K_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new K_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function od(){return Al===null?Al=function(){return 268435456+Math.round(2147483648*Math.random())}():Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="WebChannelConnection";class $O extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=od(),u=this.No(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,u,c,i).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ss("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=BO[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=od();return new Promise((o,a)=>{const u=new Qx;u.setWithCredentials(!0),u.listenOnce(Yx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ql.NO_ERROR:const h=u.getResponseJson();$(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ql.TIMEOUT:$(it,`RPC '${e}' ${s} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const f=u.getStatus();if($(it,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const x=function(A){const _=A.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(_)>=0?_:F.UNKNOWN}(w.status);a(new W(x,w.message))}else a(new W(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{$(it,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);$(it,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=od(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zx(),a=Jx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");$(it,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let p=!1,w=!1;const x=new zO({Eo:A=>{w?$(it,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||($(it,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),$(it,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Ao:()=>f.close()}),S=(A,_,y)=>{A.listen(_,E=>{try{y(E)}catch(b){setTimeout(()=>{throw b},0)}})};return S(f,To.EventType.OPEN,()=>{w||($(it,`RPC '${e}' stream ${i} transport opened.`),x.So())}),S(f,To.EventType.CLOSE,()=>{w||(w=!0,$(it,`RPC '${e}' stream ${i} transport closed`),x.Do())}),S(f,To.EventType.ERROR,A=>{w||(w=!0,Ss(it,`RPC '${e}' stream ${i} transport errored:`,A),x.Do(new W(F.UNAVAILABLE,"The operation could not be completed")))}),S(f,To.EventType.MESSAGE,A=>{var _;if(!w){const y=A.data[0];ae(!!y);const E=y,b=(E==null?void 0:E.error)||((_=E[0])===null||_===void 0?void 0:_.error);if(b){$(it,`RPC '${e}' stream ${i} received error:`,b);const L=b.status;let O=function(P){const I=Ve[P];if(I!==void 0)return xS(I)}(L),C=b.message;O===void 0&&(O=F.INTERNAL,C="Unknown error status: "+L+" with message "+b.message),w=!0,x.Do(new W(O,C)),f.close()}else $(it,`RPC '${e}' stream ${i} received:`,y),x.vo(y)}}),S(a,Xx.STAT_EVENT,A=>{A.stat===Nf.PROXY?$(it,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Nf.NOPROXY&&$(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){return new Y4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i,s,o,a,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new MS(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qO extends OS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=Z4(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?dn(o.readTime):J.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Bf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Mf(u)?{documents:nO(s,u)}:{query:rO(s,u).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CS(s,o.resumeToken);const c=jf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Gu(s,o.snapshotVersion.toTimestamp());const c=jf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sO(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Bf(this.serializer),n.removeTarget=e,this.c_(n)}}class WO extends OS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ae(!!e.streamToken),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=tO(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Bf(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eO(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Ff(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Ff(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class GO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wn(n),this.C_=!1):$("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Pi(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.k_.add(4),await Ma(c),c.K_.set("Unknown"),c.k_.delete(4),await Oc(c)}(this))})}),this.K_=new GO(r,i)}}async function Oc(t){if(Pi(t))for(const e of t.q_)await e(!0)}async function Ma(t){for(const e of t.q_)await e(!1)}function jS(t,e){const n=Z(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),eg(n)?Zm(n):qs(n).s_()&&Jm(n,e))}function Xm(t,e){const n=Z(t),r=qs(n);n.B_.delete(e),r.s_()&&FS(n,e),n.B_.size===0&&(r.s_()?r.a_():Pi(n)&&n.K_.set("Unknown"))}function Jm(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(t).V_(e)}function FS(t,e){t.U_.xe(e),qs(t).m_(e)}function Zm(t){t.U_=new H4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),qs(t).start(),t.K_.F_()}function eg(t){return Pi(t)&&!qs(t).i_()&&t.B_.size>0}function Pi(t){return Z(t).k_.size===0}function US(t){t.U_=void 0}async function QO(t){t.K_.set("Online")}async function YO(t){t.B_.forEach((e,n)=>{Jm(t,e)})}async function XO(t,e){US(t),eg(t)?(t.K_.O_(e),Zm(t)):t.K_.set("Unknown")}async function JO(t,e,n){if(t.K_.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qu(t,r)}else if(e instanceof Zl?t.U_.$e(e):e instanceof SS?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(J.min()))try{const r=await LS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.B_.get(c);h&&s.B_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.B_.get(u);if(!h)return;s.B_.set(u,h.withResumeToken(Je.EMPTY_BYTE_STRING,h.snapshotVersion)),FS(s,u);const f=new mr(h.target,u,c,h.sequenceNumber);Jm(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Qu(t,r)}}async function Qu(t,e,n){if(!$s(e))throw e;t.k_.add(1),await Ma(t),t.K_.set("Offline"),n||(n=()=>LS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Oc(t)})}function BS(t,e){return e().catch(n=>Qu(t,n,e))}async function jc(t){const e=Z(t),n=jr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;ZO(e);)try{const i=await MO(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,ej(e,i)}catch(i){await Qu(e,i)}zS(e)&&$S(e)}function ZO(t){return Pi(t)&&t.L_.length<10}function ej(t,e){t.L_.push(e);const n=jr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function zS(t){return Pi(t)&&!jr(t).i_()&&t.L_.length>0}function $S(t){jr(t).start()}async function tj(t){jr(t).w_()}async function nj(t){const e=jr(t);for(const n of t.L_)e.g_(n.mutations)}async function rj(t,e,n){const r=t.L_.shift(),i=Wm.from(r,e,n);await BS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jc(t)}async function ij(t,e){e&&jr(t).f_&&await async function(r,i){if(function(o){return $4(o)&&o!==F.ABORTED}(i.code)){const s=r.L_.shift();jr(r).__(),await BS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jc(r)}}(t,e),zS(t)&&$S(t)}async function Y_(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=Pi(n);n.k_.add(3),await Ma(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Oc(n)}async function sj(t,e){const n=Z(t);e?(n.k_.delete(2),await Oc(n)):e||(n.k_.add(2),await Ma(n),n.K_.set("Unknown"))}function qs(t){return t.W_||(t.W_=function(n,r,i){const s=Z(n);return s.b_(),new qO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:QO.bind(null,t),mo:YO.bind(null,t),po:XO.bind(null,t),R_:JO.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),eg(t)?Zm(t):t.K_.set("Unknown")):(await t.W_.stop(),US(t))})),t.W_}function jr(t){return t.G_||(t.G_=function(n,r,i){const s=Z(n);return s.b_(),new WO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:tj.bind(null,t),po:ij.bind(null,t),p_:nj.bind(null,t),y_:rj.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await jc(t)):(await t.G_.stop(),t.L_.length>0&&($("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),$s(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=xo(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.z_=new Ie(H.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Q():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ks{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ks(e,n,cs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class aj{constructor(){this.queries=J_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Z(n),s=i.queries;i.queries=J_(),s.forEach((o,a)=>{for(const u of a.J_)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function J_(){return new Ii(t=>hS(t),bc)}async function qS(t,e){const n=Z(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new oj,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ng(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&rg(n)}async function WS(t,e){const n=Z(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lj(t,e){const n=Z(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&rg(n)}function uj(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function rg(t){t.X_.forEach(e=>{e.next()})}var $f,Z_;(Z_=$f||($f={})).na="default",Z_.Cache="cache";class HS{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class cj{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ne(),this.mutatedKeys=ne(),this.Va=dS(e),this.ma=new cs(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new X_,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),w=Nc(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;p&&w?p.data.isEqual(w.data)?x!==S&&(r.track({type:3,doc:w}),A=!0):this.ya(p,w)||(r.track({type:2,doc:w}),A=!0,(u&&this.Va(w,u)>0||c&&this.Va(w,c)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),A=!0):p&&!w&&(r.track({type:1,doc:p}),A=!0,(u||c)&&(a=!0)),A&&(w?(o=o.add(w),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,f)=>function(w,x){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return S(w)-S(x)}(h.type,f.type)||this.Va(h.doc,f.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,o.length!==0||c?{snapshot:new ks(this.query,e.ma,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new X_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ne(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new KS(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new GS(r))}),n}va(e){this.da=e.ds,this.Ra=ne();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ks.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class hj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dj{constructor(e){this.key=e,this.Fa=!1}}class fj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Ii(a=>hS(a),bc),this.Oa=new Map,this.Na=new Set,this.La=new Ie(H.comparator),this.Ba=new Map,this.ka=new Km,this.qa={},this.Qa=new Map,this.Ka=As.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function pj(t,e,n=!0){const r=eI(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await QS(r,e,n,!0),i}async function mj(t,e){const n=eI(t);await QS(n,e,!0,!1)}async function QS(t,e,n,r){const i=await OO(t.localStore,hn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await gj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jS(t.remoteStore,i),a}async function gj(t,e,n,r,i){t.Ua=(f,p,w)=>async function(S,A,_,y){let E=A.view.ga(_);E.ss&&(E=await G_(S.localStore,A.query,!1).then(({documents:C})=>A.view.ga(C,E)));const b=y&&y.targetChanges.get(A.targetId),L=y&&y.targetMismatches.get(A.targetId)!=null,O=A.view.applyChanges(E,S.isPrimaryClient,b,L);return tw(S,A.targetId,O.ba),O.snapshot}(t,f,p,w);const s=await G_(t.localStore,e,!0),o=new cj(e,s.ds),a=o.ga(s.documents),u=La.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);tw(t,n,c.ba);const h=new hj(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function yj(t,e,n){const r=Z(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!bc(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xm(r.remoteStore,i.targetId),qf(r,i.targetId)}).catch(zs)):(qf(r,i.targetId),await zf(r.localStore,i.targetId,!0))}async function vj(t,e){const n=Z(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(n.remoteStore,r.targetId))}async function _j(t,e,n){const r=Cj(t);try{const i=await function(o,a){const u=Z(o),c=Fe.now(),h=a.reduce((w,x)=>w.add(x.key),ne());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Hn(),S=ne();return u.hs.getEntries(w,h).next(A=>{x=A,x.forEach((_,y)=>{y.isValidDocument()||(S=S.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,x)).next(A=>{f=A;const _=[];for(const y of a){const E=j4(y,f.get(y.key).overlayedDocument);E!=null&&_.push(new Ci(y.key,E,iS(E.value.mapValue),en.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,_,a)}).next(A=>{p=A;const _=A.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(w,A.batchId,_)})}).then(()=>({batchId:p.batchId,changes:pS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.qa[o.currentUser.toKey()];c||(c=new Ie(re)),c=c.insert(a,u),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Oa(r,i.changes),await jc(r.remoteStore)}catch(i){const s=ng(i,"Failed to persist write");n.reject(s)}}async function YS(t,e){const n=Z(t);try{const r=await VO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?ae(o.Fa):i.removedDocuments.size>0&&(ae(o.Fa),o.Fa=!1))}),await Oa(n,r,e)}catch(r){await zs(r)}}function ew(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Z(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.J_)p.ea(a)&&(c=!0)}),c&&rg(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wj(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ie(H.comparator);o=o.insert(s,lt.newNoDocument(s,J.min()));const a=ne().add(s),u=new Lc(J.min(),new Map,new Ie(re),o,a);await YS(r,u),r.La=r.La.remove(s),r.Ba.delete(e),ig(r)}else await zf(r.localStore,e,!1).then(()=>qf(r,e,n)).catch(zs)}async function Ej(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await DO(n.localStore,e);JS(n,r,null),XS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oa(n,i)}catch(i){await zs(i)}}async function Tj(t,e,n){const r=Z(t);try{const i=await function(o,a){const u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ae(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);JS(r,e,n),XS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oa(r,i)}catch(i){await zs(i)}}function XS(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function JS(t,e,n){const r=Z(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||ZS(t,r)})}function ZS(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Xm(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),ig(t))}function tw(t,e,n){for(const r of n)r instanceof GS?(t.ka.addReference(r.key,e),xj(t,r)):r instanceof KS?($("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||ZS(t,r.key)):Q()}function xj(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||($("SyncEngine","New document in limbo: "+n),t.Na.add(r),ig(t))}function ig(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new H(_e.fromString(e)),r=t.Ka.next();t.Ba.set(r,new dj(n)),t.La=t.La.insert(n,r),jS(t.remoteStore,new mr(hn(zm(n.path)),r,"TargetPurposeLimboResolution",Pc.oe))}}async function Oa(t,e,n){const r=Z(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,u)=>{o.push(r.Ua(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Ym.zi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,c){const h=Z(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,p=>j.forEach(p.Wi,w=>h.persistence.referenceDelegate.addReference(f,p.targetId,w)).next(()=>j.forEach(p.Gi,w=>h.persistence.referenceDelegate.removeReference(f,p.targetId,w)))))}catch(f){if(!$s(f))throw f;$("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const w=h.us.get(p),x=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(x);h.us=h.us.insert(p,S)}}}(r.localStore,s))}async function Sj(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await VS(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(u=>{u.reject(new W(F.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oa(n,r.Ts)}}function Ij(t,e){const n=Z(t),r=n.Ba.get(e);if(r&&r.Fa)return ne().add(r.key);{let i=ne();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function eI(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wj.bind(null,e),e.Ma.R_=lj.bind(null,e.eventManager),e.Ma.Wa=uj.bind(null,e.eventManager),e}function Cj(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tj.bind(null,e),e}class Yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return NO(this.persistence,new RO,e.initialUser,this.serializer)}ja(e){return new DS(Qm.ei,this.serializer)}za(e){return new FO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yu.provider={build:()=>new Yu};class Pj extends Yu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ae(this.persistence.referenceDelegate instanceof Ku);const r=this.persistence.referenceDelegate.garbageCollector;return new mO(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new DS(r=>Ku.ei(r,n),this.serializer)}}class Wf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ew(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sj.bind(null,this.syncEngine),await sj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aj}()}createDatastore(e){const n=Mc(e.databaseInfo.databaseId),r=function(s){return new $O(s)}(e.databaseInfo);return function(s,o,a,u){return new HO(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new KO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ew(this.syncEngine,n,0),function(){return Q_.p()?new Q_:new UO}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new fj(i,s,o,a,u,c);return h&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Z(i);$("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Ma(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=tS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ld(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kj(t);$("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Y_(e.remoteStore,i)),t._onlineComponents=e}async function kj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await ld(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await ld(t,new Yu)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await ld(t,new Pj(void 0));return t._offlineComponents}async function nI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await nw(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await nw(t,new Wf))),t._onlineComponents}function Rj(t){return nI(t).then(e=>e.syncEngine)}async function rI(t){const e=await nI(t),n=e.eventManager;return n.onListen=pj.bind(null,e.syncEngine),n.onUnlisten=yj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vj.bind(null,e.syncEngine),n}function bj(t,e,n={}){const r=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new tI({next:p=>{h.eu(),o.enqueueAndForget(()=>WS(s,f));const w=p.docs.has(a);!w&&p.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&u&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new HS(zm(a.path),h,{includeMetadataChanges:!0,ua:!0});return qS(s,f)}(await rI(t),t.asyncQueue,e,n,r)),r.promise}function Nj(t,e,n={}){const r=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new tI({next:p=>{h.eu(),o.enqueueAndForget(()=>WS(s,f)),p.fromCache&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new HS(a,h,{includeMetadataChanges:!0,ua:!0});return qS(s,f)}(await rI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dj(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iw(t){if(!H.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sw(t){if(H.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $M;switch(r.type){case"firstParty":return new GM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rw.get(n);r&&($("ComponentProvider","Removing Datastore"),rw.delete(n),r.terminate())}(this),Promise.resolve()}}function Vj(t,e,n,r={}){var i;const s=(t=Gn(t,Fc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ot.MOCK_USER;else{a=vD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ot(c)}t._authCredentials=new qM(new eS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class Ar extends Uc{constructor(e,n,r){super(e,n,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new H(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Bc(t,e,...n){if(t=qt(t),sI("collection","path",e),t instanceof Fc){const r=_e.fromString(e,...n);return sw(r),new Ar(t,null,r)}{if(!(t instanceof Rt||t instanceof Ar))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return sw(r),new Ar(t.firestore,null,r)}}function Ws(t,e,...n){if(t=qt(t),arguments.length===1&&(e=tS.newId()),sI("doc","path",e),t instanceof Fc){const r=_e.fromString(e,...n);return iw(r),new Rt(t,null,new H(r))}{if(!(t instanceof Rt||t instanceof Ar))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return iw(r),new Rt(t.firestore,t instanceof Ar?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new MS(this,"async_queue_retry"),this.fu=()=>{const r=ad();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=ad();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ad();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new jn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!$s(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=tg.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&Q()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Hs extends Fc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aw(e),this._firestoreClient=void 0,await e}}}function Lj(t,e){const n=typeof t=="object"?t:px(),r=typeof t=="string"?t:"(default)",i=Im(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gD("firestore");s&&Vj(i,...s)}return i}function og(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Mj(t),t._firestoreClient}function Mj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new l4(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Aj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Je.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=/^__.*__$/;class jj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Va(e,this.data,n,this.fieldTransforms)}}function oI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class hg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Xu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(oI(this.Mu)&&Oj.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Fj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mc(e)}$u(e,n,r,i=!1){return new hg({Mu:e,methodName:n,Ku:r,path:Qe.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aI(t){const e=t._freezeSettings(),n=Mc(t._databaseId);return new Fj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lI(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);dI("Data must be an object, but it was:",o,r);const a=cI(r,o);let u,c;if(s.merge)u=new Yt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=Uj(e,f,n);if(!o.contains(p))throw new W(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zj(h,p)||h.push(p)}u=new Yt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new jj(new Ft(a),u,c)}class dg extends lg{_toFieldTransform(e){return new V4(e.path,new va)}isEqual(e){return e instanceof dg}}function uI(t,e){if(hI(t=qt(t)))return dI("Unsupported field value:",e,t),cI(t,e);if(t instanceof lg)return function(r,i){if(!oI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=uI(a,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Fe.fromDate(r);return{timestampValue:Gu(i.serializer,s)}}if(r instanceof Fe){const s=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gu(i.serializer,s)}}if(r instanceof ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:CS(i.serializer,r._byteString)};if(r instanceof Rt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.qu("VectorValues must only contain numeric values.");return $m(a.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${sg(r)}`)}(t,e)}function cI(t,e){const n={};return nS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{const s=uI(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof ug||t instanceof Rs||t instanceof Rt||t instanceof lg||t instanceof cg)}function dI(t,e,n){if(!hI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sg(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Uj(t,e,n){if((e=qt(e))instanceof ag)return e._internalPath;if(typeof e=="string")return fI(t,e);throw Xu("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bj=new RegExp("[~\\*/\\[\\]]");function fI(t,e,n){if(e.search(Bj)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new W(F.INVALID_ARGUMENT,a+t+u)}function zj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $j extends pI{data(){return super.data()}}function mI(t,e){return typeof e=="string"?fI(t,e):e instanceof ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wj{convertValue(e,n="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new cg(s)}convertGeoPoint(e){return new ug(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);ae(NS(r));const i=new ga(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yI extends pI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class eu extends yI{data(e={}){return super.data(e)}}class Hj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eu(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new eu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new eu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Gj(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Gj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){t=Gn(t,Rt);const e=Gn(t.firestore,Hs);return bj(og(e),t._key).then(n=>Qj(e,t,n))}class vI extends Wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function _I(t){t=Gn(t,Uc);const e=Gn(t.firestore,Hs),n=og(e),r=new vI(e);return qj(t._query),Nj(n,t._query).then(i=>new Hj(e,r,t,i))}function pg(t,e,n){t=Gn(t,Rt);const r=Gn(t.firestore,Hs),i=gI(t.converter,e,n);return mg(r,[lI(aI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,en.none())])}function Kj(t){return mg(Gn(t.firestore,Hs),[new qm(t._key,en.none())])}function wI(t,e){const n=Gn(t.firestore,Hs),r=Ws(t),i=gI(t.converter,e);return mg(n,[lI(aI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,en.exists(!1))]).then(()=>r)}function mg(t,e){return function(r,i){const s=new jn;return r.asyncQueue.enqueueAndForget(async()=>_j(await Rj(r),i,s)),s.promise}(og(t),e)}function Qj(t,e,n){const r=n.docs.get(e._key),i=new vI(t);return new yI(t,i,e._key,r,new Io(n.hasPendingWrites,n.fromCache),e.converter)}function bs(){return new dg("serverTimestamp")}(function(e,n=!0){(function(i){Bs=i})(Fs),Ts(new yi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Hs(new WM(r.getProvider("auth-internal")),new QM(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ga(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pr(S_,"4.7.5",e),Pr(S_,"4.7.5","esm2017")})();const Yj={apiKey:"AIzaSyAxrzp1dt4EgTHTkNbgho1rCo9gvfycWHk",authDomain:"workoutwind.firebaseapp.com",projectId:"workoutwind",storageBucket:"workoutwind.firebasestorage.app",messagingSenderId:"378949936378",appId:"1:378949936378:web:1f2383f9ade267f25d5543",measurementId:"G-VC6T141DK0"},EI=fx(Yj),ud=BM(EI),qr=Lj(EI),TI=D.createContext();function Xn(){return D.useContext(TI)}function Xj({children:t}){const[e,n]=D.useState(null),[r,i]=D.useState(!0),s=async()=>{const u=new In;try{return(await YL(ud,u)).user}catch(c){throw console.error("Error signing in with Google:",c),c}},o=async()=>{try{await RL(ud)}catch(u){throw console.error("Error signing out:",u),u}};D.useEffect(()=>ud.onAuthStateChanged(c=>{n(c),i(!1)}),[]);const a={user:e,loading:r,signInWithGoogle:s,logout:o};return g.jsx(TI.Provider,{value:a,children:!r&&t})}async function xI(t,e){try{const n=Bc(qr,"users",t,"trainingPlans"),r={...e,userId:t,updatedAt:bs()};if(e.id){const i=Ws(n,e.id);return await pg(i,r,{merge:!0}),e.id}else return(await wI(n,{...r,createdAt:bs()})).id}catch(n){throw console.error("Error saving training plan:",n),n}}async function SI(t){try{const e=Bc(qr,"users",t,"trainingPlans");return(await _I(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting training plans:",e),e}}async function II(t,e){try{const n=Bc(qr,"users",t,"workoutHistory"),r={...e,userId:t,timestamp:bs(),createdAt:bs()};return(await wI(n,r)).id}catch(n){throw console.error("Error saving workout history:",n),n}}async function Jj(t){try{const e=Bc(qr,"users",t,"workoutHistory");return(await _I(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting workout history:",e),e}}async function tu(t,e){if(console.log("saveActiveWorkout called with userId:",t),console.log("workout data:",e),!t)return console.error("No userId provided to saveActiveWorkout"),null;try{const n=Ws(qr,"users",t,"activeWorkout","current");if(!e)return await Kj(n),console.log("Deleted active workout"),null;const r={...e,userId:t,updatedAt:bs()};console.log("Saving workout data:",r),await pg(n,r),console.log("Successfully saved workout");const i=await fg(n);return i.exists()?{id:i.id,...i.data()}:null}catch(n){throw console.error("Error saving active workout:",n),n}}async function Zj(t){var e,n,r,i;try{const s=Ws(qr,"users",t,"activeWorkout","current"),o=await fg(s);if(!o.exists())return null;const a=o.data();return{id:o.id,...a,startTime:((n=(e=a.startTime)==null?void 0:e.toDate)==null?void 0:n.call(e))||new Date(a.startTime)||new Date,updatedAt:((i=(r=a.updatedAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||new Date}}catch(s){throw console.error("Error getting active workout:",s),s}}async function e3(t,e){try{const n=Ws(qr,"users",t,"profile","current"),r={...e,userId:t,updatedAt:bs()};return await pg(n,r,{merge:!0}),n.id}catch(n){throw console.error("Error saving user profile:",n),n}}async function t3(t){try{const e=Ws(qr,"users",t,"profile","current"),n=await fg(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting user profile:",e),e}}async function n3(t){try{const e=JSON.parse(localStorage.getItem("trainingPlans")||"[]");for(const i of e)await xI(t,i);const n=JSON.parse(localStorage.getItem("workoutHistory")||"[]");for(const i of n)await II(t,i);const r=JSON.parse(localStorage.getItem("activeWorkout")||"null");return r&&await tu(t,r),localStorage.removeItem("trainingPlans"),localStorage.removeItem("workoutHistory"),localStorage.removeItem("activeWorkout"),!0}catch(e){throw console.error("Error migrating data:",e),e}}const CI=D.createContext();function r3({children:t}){const{user:e}=Xn(),[n,r]=D.useState(null),[i,s]=D.useState(0),[o,a]=D.useState(!0),[u,c]=D.useState(null),h=D.useRef(null);D.useEffect(()=>{async function S(){if(!e){r(null),a(!1);return}try{c(null);const A=await Zj(e.uid);console.log("Loaded workout:",A),r(A)}catch(A){console.error("Error loading workout:",A),c(A.message)}finally{a(!1)}}S()},[e]),D.useEffect(()=>{if(!n||!n.startTime){s(0);return}const S=n.startTime.toMillis?n.startTime.toMillis():new Date(n.startTime).getTime();s(Math.floor((Date.now()-S)/1e3));const A=setInterval(()=>{s(Math.floor((Date.now()-S)/1e3))},1e3);return()=>clearInterval(A)},[n]),D.useEffect(()=>{const S=()=>{h.current&&(h.current.pause(),h.current.currentTime=0,h.current=null)};return n&&!h.current&&(h.current=new Audio("/workout-music.mp3"),h.current.loop=!0,h.current.volume=.5,h.current.play().catch(A=>console.log("Music autoplay prevented:",A))),()=>{S()}},[n]);const f=async S=>{try{const A={planId:S.id||"quick-workout",planName:S.name||"Quick Workout",exercises:S.exercises.map(_=>({..._,sets:Array.isArray(_.sets)?_.sets:Array(_.sets||3).fill({reps:_.reps||10})})),startTime:new Date().toISOString(),currentExerciseIndex:0,completedSets:{},temporary:S.temporary||!1};return console.log("Starting workout:",A),r(A),!S.temporary&&e&&await tu(e.uid,A),A}catch(A){throw console.error("Error starting workout:",A),c(A.message),A}},p=async S=>{if(n)try{c(null);const A={...n,...S};!n.temporary&&e&&await tu(e.uid,A),r(A)}catch(A){console.error("Error updating workout:",A),c(A.message)}},w=async()=>{if(n)try{const S=new Date().toISOString(),A=new Date(n.startTime).getTime(),_=new Date(S).getTime(),y=Math.floor((_-A)/1e3);if(e){const E={...n,endTime:S,duration:y,completed:!0,timestamp:new Date().toISOString()};await Promise.all([II(e.uid,E),tu(e.uid,null)]),console.log("Workout saved to history and active workout cleared")}h.current&&(h.current.pause(),h.current.currentTime=0,h.current=null),r(null)}catch(S){throw console.error("Error completing workout:",S),c(S.message),S}},x=S=>{const A=Math.floor(S/3600),_=Math.floor(S%3600/60),y=S%60;return A>0?`${A}:${_.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`:`${_}:${y.toString().padStart(2,"0")}`};return g.jsx(CI.Provider,{value:{activeWorkout:n,elapsedTime:i,loading:o,error:u,startWorkout:f,updateWorkout:p,completeWorkout:w,formatTime:x},children:t})}function zc(){const t=D.useContext(CI);if(!t)throw new Error("useWorkout must be used within a WorkoutProvider");return t}function i3(){const{user:t}=Xn(),e=Os(),{startWorkout:n}=zc(),[r,i]=D.useState([]),[s,o]=D.useState(!0),[a,u]=D.useState(""),[c,h]=D.useState(!1),f=x=>{const S={chest:["chest","push","bench","pec"],back:["back","pull","lat","row"],legs:["leg","squat","quad","hamstring","glute","calf"],shoulders:["shoulder","delt","press","military","trap"],arms:["arm","bicep","tricep","curl","extension"],core:["core","ab","abs","plank","crunch"],"full body":["full body","full","complete","total"],"upper body":["upper body","upper"],"lower body":["lower body","lower"]},A={high:["intense","hard","heavy","challenging","advanced","strong"],moderate:["moderate","medium","regular","normal"],low:["light","easy","beginner","gentle","quick"]},_={compound:["compound","multi-joint","complex"],isolation:["isolation","single-joint","focused"],bodyweight:["bodyweight","no equipment","home","basic"],machine:["machine","equipment","gym"]},y=x.toLowerCase();let E=[],b="moderate",L=[];Object.entries(S).forEach(([I,R])=>{R.some(N=>y.includes(N))&&E.push(I)}),Object.entries(A).forEach(([I,R])=>{R.some(N=>y.includes(N))&&(b=I)}),Object.entries(_).forEach(([I,R])=>{R.some(N=>y.includes(N))&&L.push(I)}),E.length===0&&(E=["full body"]);let O=b==="high"?6:b==="low"?3:4;E.includes("full body")&&(O=Math.max(O,5));let C=Tc.filter(I=>{const R=b==="high"&&I.difficulty==="Advanced"||b==="moderate"&&I.difficulty==="Intermediate"||b==="low"&&I.difficulty==="Beginner"||!I.difficulty,N=L.length===0||L.some(k=>k==="bodyweight"?!I.equipment||I.equipment==="None":k==="machine"?I.equipment&&I.equipment.includes("Machine"):!0);return R&&N}),v=[];E.includes("full body")?["Chest","Back","Legs","Shoulders","Core"].forEach(R=>{const N=C.filter(k=>k.category===R);N.length>0&&v.push(N[Math.floor(Math.random()*N.length)])}):E.includes("upper body")?["Chest","Back","Shoulders","Arms"].forEach(R=>{const N=C.filter(k=>k.category===R);N.length>0&&v.push(N[Math.floor(Math.random()*N.length)])}):E.includes("lower body")?["Legs","Core"].forEach(R=>{const N=C.filter(k=>k.category===R);N.length>0&&v.push(...N.slice(0,2))}):E.forEach(I=>{const R=C.filter(N=>N.category.toLowerCase()===I.toLowerCase());if(R.length>0){const N=Math.ceil(O/E.length),k=R.sort(()=>.5-Math.random());v.push(...k.slice(0,N))}}),v=[...new Set(v.filter(Boolean))];const P={high:{sets:4,reps:8},moderate:{sets:3,reps:12},low:{sets:2,reps:15}}[b];return v.map(I=>({name:I.name,category:I.category,sets:P.sets,reps:P.reps}))},p=async x=>{if(x.key==="Enter"&&a.trim()){h(!0);try{const S=f(a);S.length>0&&(await n({name:"Quick Workout",exercises:S,temporary:!0}),e("/workout"))}catch(S){console.error("Error creating quick workout:",S)}finally{h(!1),u("")}}},w=async x=>{try{h(!0),console.log("Starting workout with plan:",x),await n({...x,exercises:x.exercises.map(S=>({...S,sets:Array.isArray(S.sets)?S.sets:Array(S.sets||3).fill({reps:S.reps||10})}))}),e("/workout")}catch(S){console.error("Error starting workout:",S)}finally{h(!1)}};return D.useEffect(()=>{async function x(){if(t)try{o(!0);const S=await SI(t.uid);i(S)}catch(S){console.error("Error loading training plans:",S)}finally{o(!1)}}x()},[t]),g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-purple-600/20 rounded-2xl p-6 border border-blue-500/20 backdrop-blur-sm",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-3 rounded-xl",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:"Quick Workout"}),g.jsx("p",{className:"text-gray-400",children:"Tell me what kind of workout you want"})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:a,onChange:x=>u(x.target.value),onKeyDown:p,placeholder:"e.g. 'I want a chest and back workout' or 'Create a full body workout'",className:"w-full bg-gray-900/50 text-gray-100 placeholder-gray-500 px-4 py-3 rounded-xl border border-gray-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:c}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none",children:c?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}):"Press Enter "})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Training Plans"}),g.jsx("p",{className:"text-gray-400",children:"Select a plan to start your workout"})]}),g.jsx(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/plan/new"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium",children:"Create Plan"})]}),s?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-app-accent mx-auto"}),g.jsx("p",{className:"text-app-text-secondary mt-4",children:"Loading your plans..."})]}):r.length===0?g.jsxs("div",{className:"text-center py-12 bg-app-gray rounded-lg",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-app-text-secondary mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Training Plans Yet"}),g.jsx("p",{className:"text-app-text-secondary mb-6",children:"Create your first training plan to get started!"}),g.jsxs("button",{onClick:()=>e("/plan/new"),className:"btn-primary px-6 py-2 flex items-center gap-2 mx-auto",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Create New Plan"]})]}):g.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(x=>{var S,A;return g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative overflow-hidden bg-gradient-to-br from-blue-600/80 to-blue-900/80 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 border border-blue-400/20",children:[g.jsx("div",{className:"absolute inset-0 opacity-10",children:g.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[g.jsx("path",{d:"M0,0 L100,0 L100,100 L0,100 Z",fill:"url(#grid)"}),g.jsx("defs",{children:g.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:g.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})})]})}),g.jsxs("div",{className:"relative p-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:x.name}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[(S=x.exercises)==null?void 0:S.slice(0,3).map((_,y)=>g.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 text-sm",children:_.name},y)),((A=x.exercises)==null?void 0:A.length)>3&&g.jsxs("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 text-sm",children:["+",x.exercises.length-3," more"]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:()=>w(x),disabled:c,className:`flex-1 px-6 py-3 rounded-xl font-medium transition-all
                          bg-gradient-to-r from-app-accent to-blue-600 text-white
                          hover:from-app-accent/90 hover:to-blue-700
                          shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0
                          border border-white/10
                          flex items-center justify-center gap-2
                          ${c?"opacity-50 cursor-not-allowed":""}`,children:c?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Start Workout"}),g.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})]})}),g.jsx("button",{onClick:()=>e(`/plan/${x.id}`),className:`px-4 py-3 rounded-xl font-medium transition-all
                          bg-white/10 text-white/80 hover:bg-white/20
                          opacity-0 group-hover:opacity-100 -translate-x-full group-hover:translate-x-0
                          absolute right-6 border border-white/10`,children:g.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-bl-full transform translate-x-16 -translate-y-16"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-white/5 to-transparent rounded-tr-full transform -translate-x-16 translate-y-16"})]},x.id)})})]})]})})}const lw=()=>{const{planId:t}=AE(),{user:e}=Xn(),n=Os(),[r,i]=D.useState(1),[s,o]=D.useState({name:"",exercises:[]}),[a,u]=D.useState("All"),[c,h]=D.useState(null),[f,p]=D.useState(3),[w,x]=D.useState(10),[S,A]=D.useState("");D.useEffect(()=>{t&&t!=="new"&&(async()=>{try{const O=await SI(e.uid,t);O&&o(O)}catch(O){console.error("Error loading plan:",O)}})()},[t,e]);const _=L=>{o(O=>({...O,exercises:[...O.exercises,{name:L.name,sets:Array(f).fill({reps:w,weight:L.defaultWeight||0})}]})),h(null)},y=L=>{o(O=>({...O,exercises:O.exercises.filter((C,v)=>v!==L)}))},E=async()=>{if(!(!e||!s.name||s.exercises.length===0))try{await xI(e.uid,{...s,createdAt:new Date}),n("/plans")}catch(L){console.error("Error saving plan:",L)}},b=Tc.filter(L=>{const O=L.name.toLowerCase().includes(S.toLowerCase()),C=a==="All"||L.category===a;return O&&C});return g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("div",{className:`flex-1 h-2 rounded-full ${r>=1?"bg-app-accent":"bg-app-gray"}`}),g.jsx("div",{className:`flex-1 h-2 rounded-full ml-2 ${r>=2?"bg-app-accent":"bg-app-gray"}`})]}),r===1?g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gray-900/50 backdrop-blur-sm p-8 rounded-2xl shadow-2xl border border-blue-500/20",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -z-10"}),g.jsx("h2",{className:"text-3xl font-bold mb-8 text-white",children:t==="new"?"Create New Plan":"Edit Plan"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Plan Name"}),g.jsx("input",{type:"text",value:s.name,onChange:L=>o(O=>({...O,name:L.target.value})),placeholder:"e.g., Full Body Workout",className:`w-full bg-gray-800 text-gray-100 p-4 rounded-xl border border-gray-700
                    focus:border-blue-500 focus:ring-2 focus:ring-blue-500/50 transition-all
                    placeholder:text-gray-600`})]}),g.jsxs("div",{className:"pt-4",children:[g.jsx(le.button,{onClick:()=>i(2),disabled:!s.name.trim(),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-4 px-6 rounded-xl font-semibold text-white transition-all
                    ${s.name.trim()?"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-500 hover:to-blue-700 shadow-lg shadow-blue-500/20":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"Continue to Exercises"}),g.jsx("button",{onClick:()=>n("/plans"),className:`w-full mt-4 py-4 px-6 rounded-xl font-semibold 
                    text-gray-300 hover:text-white
                    bg-gray-800 hover:bg-gray-700
                    transition-all border border-gray-700`,children:"Cancel"})]})]})]}):g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[g.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-2xl border border-blue-500/20 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white",children:s.name}),g.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[s.exercises.length," exercises selected"]})]}),g.jsx("button",{onClick:()=>i(1),className:"text-gray-400 hover:text-white transition-colors",children:"Edit Name"})]}),s.exercises.length>0&&g.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-2xl border border-blue-500/20",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Selected Exercises"}),g.jsx("div",{className:"space-y-3",children:s.exercises.map((L,O)=>g.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl flex items-center justify-between group hover:bg-gray-800/80 transition-colors",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-medium",children:L.name}),g.jsxs("p",{className:"text-gray-400 text-sm",children:[L.sets.length," sets  ",L.sets[0].reps," reps"]})]}),g.jsx("button",{onClick:()=>y(O),className:"text-red-400 hover:text-red-300 opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},O))})]}),g.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-2xl border border-blue-500/20",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Add Exercises"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("select",{value:a,onChange:L=>u(L.target.value),className:"bg-gray-800 text-gray-300 px-4 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"All",children:"All Categories"}),Object.keys(K0).map(L=>g.jsx("option",{value:L,children:K0[L].name},L))]}),g.jsx("input",{type:"text",placeholder:"Search exercises...",className:`bg-gray-800 text-gray-300 px-4 py-2 rounded-lg border border-gray-700 
                      focus:border-blue-500 focus:ring-1 focus:ring-blue-500 placeholder:text-gray-600`,onChange:L=>A(L.target.value)})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:b.map(L=>g.jsx("div",{onClick:()=>h(L),className:`
                      p-4 rounded-xl cursor-pointer transition-all duration-300
                      ${(c==null?void 0:c.name)===L.name?"bg-blue-600/30 border-blue-500/50":"bg-gray-800/50 hover:bg-gray-700/50 border-gray-700/50"}
                      border backdrop-blur-sm
                    `,children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-white font-medium",children:L.name}),g.jsx("span",{className:"text-gray-400 text-sm",children:L.category})]})},L.name))})]}),c&&g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsxs(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gray-900 p-6 rounded-2xl max-w-md w-full mx-4 border border-blue-500/20",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c.name}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Number of Sets"}),g.jsx("input",{type:"number",value:f,onChange:L=>p(Math.max(1,Math.min(10,parseInt(L.target.value)||1))),className:"bg-gray-800 text-gray-300 px-4 py-2 rounded-lg w-full border border-gray-700",min:"1",max:"10"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 mb-2",children:"Reps per Set"}),g.jsx("input",{type:"number",value:w,onChange:L=>x(Math.max(1,Math.min(100,parseInt(L.target.value)||1))),className:"bg-gray-800 text-gray-300 px-4 py-2 rounded-lg w-full border border-gray-700",min:"1",max:"100"})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:()=>{_({...c}),h(null)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Add Exercise"}),g.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:E,disabled:s.exercises.length===0,className:`flex-1 py-4 px-6 rounded-xl font-semibold text-white transition-all
                  ${s.exercises.length>0?"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-500 hover:to-blue-700 shadow-lg shadow-blue-500/20":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"Save Plan"}),g.jsx("button",{onClick:()=>n("/plans"),className:`flex-1 py-4 px-6 rounded-xl font-semibold 
                  text-gray-300 hover:text-white
                  bg-gray-800 hover:bg-gray-700
                  transition-all border border-gray-700`,children:"Cancel"})]})]})]})})},cd={Chest:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=800&q=80",Back:"https://images.unsplash.com/photo-1603287681836-b174ce5074c2?w=800&q=80",Legs:"https://images.unsplash.com/photo-1434608519344-49d77a699e1d?w=800&q=80",Shoulders:"https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?w=800&q=80",Arms:"https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?w=800&q=80",Core:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&q=80",default:"https://images.unsplash.com/photo-1526506118085-60ce8714f8c5?w=800&q=80"};function s3(){const{planId:t}=AE(),{activeWorkout:e,elapsedTime:n,updateWorkout:r,completeWorkout:i,formatTime:s,loading:o,error:a}=zc(),u=Os();if(o)return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-app-dark",children:g.jsx("div",{className:"text-app-text",children:"Loading workout..."})});if(a)return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-app-dark",children:g.jsxs("div",{className:"text-red-500",children:["Error: ",a]})});if(!e)return u("/plans"),null;const c=e.exercises[e.currentExerciseIndex],h=e.exercises[e.currentExerciseIndex+1],f=Tc.find(E=>E.name===c.name)||{},p=D.useMemo(()=>f.gifUrl||cd[c.category]||cd.default,[f.gifUrl,c.category]),w=async(E,b)=>{const L={...e.completedSets,[e.currentExerciseIndex]:{...e.completedSets[e.currentExerciseIndex]||{},[E]:b}};await r({completedSets:L})},x=async()=>{e.currentExerciseIndex<e.exercises.length-1&&await r({currentExerciseIndex:e.currentExerciseIndex+1})},S=async()=>{e.currentExerciseIndex>0&&await r({currentExerciseIndex:e.currentExerciseIndex-1})},A=async()=>{await i(),u("/plans")},_=E=>{var b;return((b=e.completedSets[e.currentExerciseIndex])==null?void 0:b[E])||!1},y=()=>{const E=e.completedSets[e.currentExerciseIndex]||{};return c.sets.every((b,L)=>E[L])};return g.jsxs("div",{className:"min-h-screen bg-app-dark",children:[g.jsx("div",{className:"bg-gradient-to-b from-app-gray to-transparent",children:g.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:e.planName}),g.jsx("div",{className:"text-app-text-secondary",children:"Workout in progress"})]}),g.jsx("div",{className:"text-3xl font-mono font-bold bg-gradient-to-r from-app-accent to-blue-500 bg-clip-text text-transparent",children:s(n)})]})})}),g.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[g.jsx(Es,{mode:"wait",children:g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[g.jsxs("div",{className:"bg-gradient-to-br from-app-gray/80 to-app-gray/40 rounded-2xl overflow-hidden shadow-xl border border-app-light/10",children:[g.jsxs("div",{className:"h-48 w-full bg-app-accent/10 relative overflow-hidden",children:[g.jsx("img",{src:p,alt:c.name,className:"w-full h-full object-cover",onError:E=>{E.target.onerror=null,E.target.src=cd.default}}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[g.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:c.name}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"px-3 py-1 rounded-full bg-app-accent/20 text-app-accent text-sm",children:c.category}),g.jsxs("span",{className:"text-app-text-secondary",children:["Exercise ",e.currentExerciseIndex+1," of ",e.exercises.length]})]})]})]}),g.jsx("div",{className:"p-6 space-y-4",children:c.sets.map((E,b)=>g.jsxs(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:`group relative overflow-hidden rounded-xl transition-all ${_(b)?"bg-green-500/10 border border-green-500/30":"bg-app-accent/5 border border-app-accent/20 hover:bg-app-accent/10"}`,children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent group-hover:translate-x-full transition-transform duration-1000"}),g.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${_(b)?"bg-green-500 text-white":"bg-app-accent text-white"}`,children:b+1}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-white font-medium",children:[E.reps," reps"]}),g.jsxs("div",{className:"text-app-text-secondary text-sm",children:[E.weight,"kg"]})]})]}),g.jsx("button",{onClick:()=>w(b,!_(b)),className:`
                          relative px-6 py-3 rounded-lg font-medium transition-all shadow-lg
                          overflow-hidden border
                          ${_(b)?"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 border-green-400/30":"bg-gradient-to-r from-app-accent to-blue-600 text-white hover:from-app-accent/90 hover:to-blue-700 border-blue-400/30"}
                          before:absolute before:inset-0 before:bg-white/20 before:translate-x-full before:hover:translate-x-0 
                          before:transition-transform before:duration-300
                          hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0
                          flex items-center gap-2
                        `,children:_(b)?g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Completed"}),g.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Complete Set"}),g.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})]})})]})]},b))})]}),h&&g.jsxs("div",{className:"bg-gradient-to-br from-app-gray/40 to-transparent rounded-xl p-6 backdrop-blur-sm border border-app-light/10",children:[g.jsx("h3",{className:"text-app-text-secondary mb-2 uppercase text-sm tracking-wider",children:"Up Next:"}),g.jsx("div",{className:"text-white text-lg font-semibold",children:h.name})]})]},c.name)}),g.jsxs("div",{className:"flex justify-between mt-8 gap-4",children:[g.jsx("button",{onClick:S,disabled:e.currentExerciseIndex===0,className:"flex-1 px-6 py-4 rounded-xl bg-app-gray/50 text-app-text font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-app-gray/70 transition-all disabled:hover:bg-app-gray/50",children:"Previous Exercise"}),y()&&g.jsx("button",{onClick:e.currentExerciseIndex===e.exercises.length-1?A:x,className:"flex-1 px-6 py-4 rounded-xl font-medium transition-all bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700",children:e.currentExerciseIndex===e.exercises.length-1?"Complete Workout":"Next Exercise"})]})]})]})}const o3=()=>g.jsx("svg",{className:"absolute right-0 top-0 h-24 w-24 text-app-accent opacity-5 transform rotate-12",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})});function a3(){const{user:t}=Xn(),[e,n]=D.useState([]),[r,i]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>{async function h(){if(!t){n([]),o(!1);return}try{o(!0);const f=await Jj(t.uid);f.sort((p,w)=>{var A,_,y,E;const x=((_=(A=p.timestamp)==null?void 0:A.toDate)==null?void 0:_.call(A))||new Date(p.timestamp);return(((E=(y=w.timestamp)==null?void 0:y.toDate)==null?void 0:E.call(y))||new Date(w.timestamp))-x}),n(f)}catch(f){console.error("Error loading workout history:",f)}finally{o(!1)}}h()},[t]);const a=h=>{if(!h)return"";const f=h.toDate();return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(f)},u=h=>{if(!h||isNaN(h))return"0:00";const f=Math.floor(h/60),p=h%60;return`${f}:${p.toString().padStart(2,"0")}`},c=h=>{let f=0,p=0;return h.exercises.forEach(w=>{w.sets&&w.sets.forEach((x,S)=>{var A,_;f++,(_=(A=h.completedSets)==null?void 0:A[h.exercises.indexOf(w)])!=null&&_[S]&&p++})}),{totalSets:f,completedSets:p,completionRate:f>0?Math.round(p/f*100):0}};return s?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"text-app-text",children:"Loading workout history..."})}):g.jsxs("div",{className:"container mx-auto px-4 py-8 min-h-screen grid-background",children:[g.jsxs("div",{className:"mb-12 text-center relative",children:[g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-300",children:"Workout History"}),g.jsx("p",{className:"text-app-text-secondary text-lg max-w-2xl mx-auto",children:"Track your progress and review past workouts to improve your training."})]}),g.jsx("div",{className:"absolute inset-0 bg-app-accent opacity-5 blur-3xl rounded-full"})]}),g.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:g.jsx(Es,{children:e.map((h,f)=>{const p=c(h);return g.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:f*.1},className:"card group cursor-pointer relative overflow-hidden",onClick:()=>i(h),children:[g.jsx(o3,{}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h3",{className:"text-xl font-semibold mb-3 group-hover:text-app-accent transition-colors",children:h.name||"Workout Session"}),g.jsx("p",{className:"text-app-text-secondary mb-4",children:a(h.timestamp)}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{className:"bg-app-gray bg-opacity-50 p-3 rounded-lg",children:[g.jsx("p",{className:"text-sm text-app-text-secondary",children:"Duration"}),g.jsx("p",{className:"text-lg font-semibold",children:u(h.duration)})]}),g.jsxs("div",{className:"bg-app-gray bg-opacity-50 p-3 rounded-lg",children:[g.jsx("p",{className:"text-sm text-app-text-secondary",children:"Completion"}),g.jsxs("p",{className:"text-lg font-semibold",children:[p.completionRate,"%"]})]})]}),g.jsxs("div",{className:"text-sm text-app-text-secondary",children:[h.exercises.length," exercises  ",p.totalSets," sets"]})]})]},h.id)})})}),g.jsx(Es,{children:r&&g.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>i(null),children:g.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-app-gray p-6 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative",onClick:h=>h.stopPropagation(),children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:r.name||"Workout Session"}),g.jsx("p",{className:"text-app-text-secondary mb-6",children:a(r.timestamp)}),g.jsx("div",{className:"space-y-6",children:r.exercises.map((h,f)=>g.jsxs("div",{className:"bg-app-dark p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:h.name}),g.jsx("div",{className:"grid grid-cols-3 gap-2 text-sm",children:h.sets.map((p,w)=>g.jsxs("div",{className:`p-2 rounded ${p.completed?"bg-app-accent bg-opacity-20 text-app-accent":"bg-app-gray bg-opacity-50"}`,children:["Set ",w+1,": ",p.reps,"  ",p.weight,"kg"]},w))})]},f))}),g.jsx("button",{className:"mt-6 w-full btn-primary",onClick:()=>i(null),children:"Close"})]})})})]})}const kl=["https://cdn.pixabay.com/download/audio/2022/03/10/audio_c3b7803bd5.mp3?filename=powerful-beat-121791.mp3","https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=sport-rock-trailer-122341.mp3","https://cdn.pixabay.com/download/audio/2022/08/02/audio_884fe92c21.mp3?filename=sport-fashion-house-131283.mp3","https://cdn.pixabay.com/download/audio/2022/10/25/audio_127d4dfd59.mp3?filename=powerful-energetic-sport-rock-trailer-137126.mp3","https://cdn.pixabay.com/download/audio/2023/06/19/audio_7cab32ba1c.mp3?filename=sport-hip-hop-138202.mp3"];function l3(){const{activeWorkout:t}=zc(),[e,n]=D.useState(!1),[r,i]=D.useState(0),[s,o]=D.useState(.5),a=D.useRef(null),u=()=>{a.current&&(a.current.pause(),a.current.currentTime=0,n(!1))};D.useEffect(()=>{if(!t){u();return}return(()=>{const p=Math.floor(Math.random()*kl.length);i(p),a.current&&a.current.pause();const w=new Audio(kl[p]);if(w.loop=!1,w.volume=s,a.current=w,t){const x=w.play();x!==void 0&&x.then(()=>{n(!0)}).catch(()=>{setTimeout(()=>{w.play().then(()=>n(!0)).catch(()=>console.log("Autoplay prevented. Click play to start music."))},1e3)})}})(),()=>{a.current&&(a.current.pause(),a.current=null,n(!1))}},[t]),D.useEffect(()=>{if(a.current&&(a.current.src=kl[r],t)){const f=a.current.play();f!==void 0&&f.then(()=>{n(!0)}).catch(()=>{n(!1)})}},[r]),D.useEffect(()=>{a.current&&(a.current.volume=s)},[s]),D.useEffect(()=>{const f=()=>{h()};return a.current&&a.current.addEventListener("ended",f),()=>{a.current&&a.current.removeEventListener("ended",f)}},[r]);const c=async()=>{if(a.current)try{e?(a.current.pause(),n(!1)):(await a.current.play(),n(!0))}catch(f){console.error("Error toggling playback:",f),n(!1)}},h=()=>{if(!a.current)return;const f=(r+1)%kl.length;i(f)};return t?g.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-app-dark/50 rounded-lg",children:[g.jsx("button",{onClick:c,className:"p-2 bg-app-accent/10 hover:bg-app-accent/20 rounded-lg text-app-accent transition-colors",children:e?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),g.jsx("button",{onClick:h,className:"p-2 bg-app-accent/10 hover:bg-app-accent/20 rounded-lg text-app-accent transition-colors",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})}),g.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s,onChange:f=>o(parseFloat(f.target.value)),className:"w-20 accent-app-accent"})]}):null}function u3(){const{activeWorkout:t,elapsedTime:e,formatTime:n,completeWorkout:r}=zc(),i=Os();if(!t)return null;const s=()=>{r(),i("/history")};return g.jsx(Es,{children:g.jsx(le.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-app-dark via-app-gray to-transparent backdrop-blur-lg border-t border-app-light/20 shadow-lg z-50",children:g.jsx("div",{className:"container mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[g.jsxs(NE,{to:"/workout",className:"flex items-center gap-4 hover:bg-app-dark/50 transition-colors rounded-lg px-4 py-2",children:[g.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-app-accent to-app-accent/20 flex items-center justify-center shadow-lg shadow-app-accent/20",children:g.jsx("span",{className:"text-app-text text-xl",children:""})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-app-text bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:t.planName}),g.jsxs("p",{className:"text-sm text-app-text-secondary",children:["Exercise ",t.currentExerciseIndex+1," of ",t.exercises.length]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(l3,{}),g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-app-dark/50 rounded-xl border border-app-accent/20",children:[g.jsx("svg",{className:"w-5 h-5 text-app-accent",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),g.jsx("div",{className:"text-xl font-mono font-bold text-white",children:n(e)})]}),g.jsxs("button",{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg shadow-green-500/20 font-semibold flex items-center gap-2",children:[g.jsx("span",{children:""}),"Complete"]})]})]})})})})}const c3="_loginContainer_1hq6j_1",h3="_backgroundOverlay_1hq6j_11",d3="_backgroundImage_1hq6j_23",f3="_backgroundShapes_1hq6j_35",p3="_loginBox_1hq6j_48",m3="_logoContainer_1hq6j_80",g3="_logo_1hq6j_80",y3="_logoGlow_1hq6j_95",v3="_title_1hq6j_111",_3="_highlight_1hq6j_120",w3="_subtitle_1hq6j_139",E3="_features_1hq6j_145",T3="_feature_1hq6j_145",x3="_featureIcon_1hq6j_189",S3="_googleButton_1hq6j_212",I3="_googleIcon_1hq6j_261",C3="_terms_1hq6j_267",ke={loginContainer:c3,backgroundOverlay:h3,backgroundImage:d3,backgroundShapes:f3,loginBox:p3,logoContainer:m3,logo:g3,logoGlow:y3,title:v3,highlight:_3,subtitle:w3,features:E3,feature:T3,featureIcon:x3,googleButton:S3,googleIcon:I3,terms:C3};function P3(){const{signInWithGoogle:t}=Xn(),e=async()=>{try{await t()}catch(n){console.error("Error signing in:",n)}};return g.jsxs("div",{className:ke.loginContainer,children:[g.jsx("div",{className:ke.backgroundOverlay}),g.jsx("img",{src:"/workout-bg.jpg",alt:"",className:ke.backgroundImage,loading:"eager"}),g.jsx("div",{className:ke.backgroundShapes}),g.jsxs(le.div,{className:ke.loginBox,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[g.jsxs("div",{className:ke.logoContainer,children:[g.jsx("div",{className:ke.logoGlow}),g.jsx(le.div,{className:ke.logo,animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:""})]}),g.jsxs(le.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:ke.title,children:["Welcome to ",g.jsx("span",{className:ke.highlight,children:"Strong"})]}),g.jsx(le.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},className:ke.subtitle,children:"Your personal fitness journey starts here"}),g.jsxs(le.div,{className:ke.features,initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},children:[g.jsxs(le.div,{className:ke.feature,whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[g.jsx("span",{className:ke.featureIcon,children:""}),g.jsx("span",{children:"Track Workouts"})]}),g.jsxs(le.div,{className:ke.feature,whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[g.jsx("span",{className:ke.featureIcon,children:""}),g.jsx("span",{children:"Set Goals"})]}),g.jsxs(le.div,{className:ke.feature,whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[g.jsx("span",{className:ke.featureIcon,children:""}),g.jsx("span",{children:"See Progress"})]})]}),g.jsxs(le.button,{className:ke.googleButton,onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:[g.jsxs("svg",{className:ke.googleIcon,viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),g.jsx(le.p,{className:ke.terms,initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},children:"By continuing, you agree to our Terms of Service"})]})]})}const A3="_profileContainer_oq0ls_1",k3="_profileHeader_oq0ls_10",R3="_profileImage_oq0ls_15",b3="_profileInfo_oq0ls_32",N3="_infoItem_oq0ls_36",D3="_profileForm_oq0ls_46",V3="_formGroup_oq0ls_50",L3="_buttonGroup_oq0ls_75",M3="_editButton_oq0ls_81",O3="_saveButton_oq0ls_82",j3="_cancelButton_oq0ls_83",F3="_logoutButton_oq0ls_84",Be={profileContainer:A3,profileHeader:k3,profileImage:R3,profileInfo:b3,infoItem:N3,profileForm:D3,formGroup:V3,buttonGroup:L3,editButton:M3,saveButton:O3,cancelButton:j3,logoutButton:F3};function U3(){const{user:t,logout:e}=Xn(),[n,r]=D.useState(null),[i,s]=D.useState(!1),[o,a]=D.useState({displayName:"",weight:"",height:"",fitnessGoal:""});D.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{const f=await t3(t.uid);f?(r(f),a({displayName:f.displayName||t.displayName||"",weight:f.weight||"",height:f.height||"",fitnessGoal:f.fitnessGoal||""})):(r({displayName:t.displayName,email:t.email,photoURL:t.photoURL}),a({displayName:t.displayName||"",weight:"",height:"",fitnessGoal:""}))}catch(f){console.error("Error loading user profile:",f)}},c=async f=>{f.preventDefault();try{await e3(t.uid,{...n,...o}),r(p=>({...p,...o})),s(!1)}catch(p){console.error("Error saving profile:",p)}},h=async()=>{try{await e()}catch(f){console.error("Error logging out:",f)}};return n?g.jsxs("div",{className:Be.profileContainer,children:[g.jsxs("div",{className:Be.profileHeader,children:[g.jsx("img",{src:n.photoURL,alt:n.displayName,className:Be.profileImage}),g.jsx("h2",{children:n.displayName}),g.jsx("p",{children:n.email})]}),i?g.jsxs("form",{onSubmit:c,className:Be.profileForm,children:[g.jsxs("div",{className:Be.formGroup,children:[g.jsx("label",{children:"Display Name"}),g.jsx("input",{type:"text",value:o.displayName,onChange:f=>a(p=>({...p,displayName:f.target.value}))})]}),g.jsxs("div",{className:Be.formGroup,children:[g.jsx("label",{children:"Weight (kg)"}),g.jsx("input",{type:"number",value:o.weight,onChange:f=>a(p=>({...p,weight:f.target.value}))})]}),g.jsxs("div",{className:Be.formGroup,children:[g.jsx("label",{children:"Height (cm)"}),g.jsx("input",{type:"number",value:o.height,onChange:f=>a(p=>({...p,height:f.target.value}))})]}),g.jsxs("div",{className:Be.formGroup,children:[g.jsx("label",{children:"Fitness Goal"}),g.jsx("textarea",{value:o.fitnessGoal,onChange:f=>a(p=>({...p,fitnessGoal:f.target.value}))})]}),g.jsxs("div",{className:Be.buttonGroup,children:[g.jsx("button",{type:"submit",className:Be.saveButton,children:"Save"}),g.jsx("button",{type:"button",onClick:()=>s(!1),className:Be.cancelButton,children:"Cancel"})]})]}):g.jsxs("div",{className:Be.profileInfo,children:[n.weight&&g.jsxs("div",{className:Be.infoItem,children:[g.jsx("span",{children:"Weight:"})," ",n.weight," kg"]}),n.height&&g.jsxs("div",{className:Be.infoItem,children:[g.jsx("span",{children:"Height:"})," ",n.height," cm"]}),n.fitnessGoal&&g.jsxs("div",{className:Be.infoItem,children:[g.jsx("span",{children:"Fitness Goal:"}),g.jsx("p",{children:n.fitnessGoal})]}),g.jsxs("div",{className:Be.buttonGroup,children:[g.jsx("button",{onClick:()=>s(!0),className:Be.editButton,children:"Edit Profile"}),g.jsx("button",{onClick:h,className:Be.logoutButton,children:"Logout"})]})]})]}):g.jsx("div",{children:"Loading..."})}function B3(){const{user:t}=Xn(),[e,n]=D.useState(!1),[r,i]=D.useState(null),[s,o]=D.useState("");return D.useEffect(()=>{async function a(){if(!t){n(!0);return}try{const u=`migration_complete_${t.uid}`;if(localStorage.getItem(u)==="true"){n(!0);return}let h=!1;try{const f=localStorage.getItem("trainingPlans"),p=localStorage.getItem("workoutHistory"),w=localStorage.getItem("activeWorkout");if(f){const x=JSON.parse(f);h=h||Array.isArray(x)&&x.length>0}if(p){const x=JSON.parse(p);h=h||Array.isArray(x)&&x.length>0}if(w){const x=JSON.parse(w);h=h||x!==null&&typeof x=="object"}}catch(f){console.error("Error validating localStorage data:",f),h=!0}if(!h){localStorage.setItem(u,"true"),n(!0),o("No data to migrate");return}o("Starting data migration..."),await n3(t.uid),localStorage.setItem(u,"true"),n(!0),o("Migration complete"),localStorage.removeItem("trainingPlans"),localStorage.removeItem("workoutHistory"),localStorage.removeItem("activeWorkout")}catch(u){console.error("Migration error:",u),i(u),o("Migration failed: "+(u.message||"Unknown error"))}}a()},[t]),{migrationComplete:e,migrationError:r,migrationStatus:s}}function hd({to:t,children:e}){const r=Ti().pathname===t;return g.jsx(NE,{to:t,className:`px-3 py-2 rounded-md text-sm font-medium ${r?"bg-app-accent text-white":"text-app-text hover:bg-app-accent/10"}`,children:e})}function z3(){const{logout:t}=Xn(),e=async()=>{try{await t()}catch(n){console.error("Error logging out:",n)}};return g.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-app-gray border-t border-app-light px-4 py-2 md:relative md:border-t-0 md:border-b",children:g.jsx("div",{className:"container mx-auto",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("div",{className:"flex space-x-4",children:[g.jsx(hd,{to:"/plans",children:"Training Plans"}),g.jsx(hd,{to:"/history",children:"History"}),g.jsx(hd,{to:"/exercises",children:"Library"})]}),g.jsx("button",{onClick:e,className:"px-3 py-2 rounded-md text-sm font-medium text-app-text hover:bg-app-accent/10",children:"Logout"})]})})})}function $3(){return g.jsx(Xj,{children:g.jsx(r3,{children:g.jsx(bk,{children:g.jsx(q3,{})})})})}function q3(){const{user:t}=Xn(),{migrationComplete:e,migrationError:n,migrationStatus:r}=B3();return Ti(),t?e?g.jsxs("div",{className:"min-h-screen bg-app-dark",children:[g.jsx(z3,{}),g.jsx("main",{className:"container mx-auto px-4 py-6 pb-24 md:py-8 md:pb-8",children:g.jsxs(Sk,{children:[g.jsx(Tn,{path:"/",element:g.jsx(Tk,{to:"/plans"})}),g.jsx(Tn,{path:"/plans",element:g.jsx(i3,{})}),g.jsx(Tn,{path:"/plan/new",element:g.jsx(lw,{})}),g.jsx(Tn,{path:"/plan/:id",element:g.jsx(lw,{})}),g.jsx(Tn,{path:"/exercises",element:g.jsx(lD,{})}),g.jsx(Tn,{path:"/history",element:g.jsx(a3,{})}),g.jsx(Tn,{path:"/workout",element:g.jsx(s3,{})}),g.jsx(Tn,{path:"/profile",element:g.jsx(U3,{})})]})}),g.jsx(u3,{})]}):g.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-app-dark",children:g.jsxs("div",{className:"text-app-text p-4 text-center",children:[g.jsx("div",{className:"mb-4",children:n?"Error migrating data: "+n.message:"Migrating your workout data..."}),g.jsx("div",{className:"text-sm text-app-text-secondary",children:r})]})}):g.jsx(P3,{})}EE(document.getElementById("root")).render(g.jsx(D.StrictMode,{children:g.jsx($3,{})}));
